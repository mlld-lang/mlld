name: analyze-component
description: "Analyzes a single service component (implementation and tests) for AST compatibility."
# Iterates over the 'serviceComponents' object from workflow.yaml's iterable_objects
# Each item will be { key: componentIndex, value: componentObject }
for_each: serviceComponents

tasks:
  # These tasks run in parallel for each component
  - useTask: analyze-implementation
    # Task context automatically includes 'item', 'item.key', 'item.value'
    # and variables from 'global_variables' like 'astDocsContent', 'fixturesContentData', etc.
  - useTask: analyze-tests
    # Same context as above
