## Work Ranking

You are ranking grouped work assignments to determine execution order for a development sprint.

## Assignments to Rank

```json
@assignmentsJson
```

## Enrichment Data

### Open issue details (priorities, types, tags)

```json
@issueDetailsJson
```

## Ranking Criteria (in priority order)

1. **Priority**: p0 (critical) > p1 (high) > p2 (medium) > p3 (low). For clusters, use the highest priority among member issues.
2. **Risk**: High-risk items (risk-l, risk-xl) should be addressed early to derisk the sprint.
3. **Implementation status**: `impl-partial` items are cheaper to complete â€” prefer finishing started work.
4. **Bug vs feature**: Bugs generally rank above features at the same priority level.
5. **Dependencies**: Items that unblock other work should rank higher. Items that are blocked rank lower.
6. **Points efficiency**: At equal priority, smaller assignments (fewer points) that unblock more work are preferred.

## Output Format

Respond with ONLY a JSON array (no markdown code fences). Return the same assignments in ranked order (index 0 = highest priority):

[
  {
    "rank": 1,
    "id": "mlld-abc",
    "type": "single",
    "points": 5,
    "rationale": "P0 bug blocking template features"
  },
  {
    "rank": 2,
    "id": "cluster-grammar-templates",
    "type": "cluster",
    "issues": ["mlld-x", "mlld-y"],
    "points": 2.5,
    "rationale": "P1 grammar fixes, partially implemented"
  }
]

For clusters, use the cluster area as the id prefix (e.g., "cluster-grammar-templates"). Include the issues array for clusters. Every assignment from the input must appear exactly once.
