{
  "name": "data-array-directives",
  "description": "Test fixture for valid/data-array-directives",
  "category": "valid",
  "subcategory": "data-array-directives",
  "input": "@data testResults = {\n  suites: [\n    @run [echo \"unit: passed\"],\n    @run [echo \"integration: passed\"],\n    @run [echo \"e2e: passed\"]\n  ],\n  count: 3\n}\n@add [[Test Results:\n{{testResults.suites[0]}}\n{{testResults.suites[1]}}\n{{testResults.suites[2]}}\nTotal: {{testResults.count}} suites]]",
  "expected": "Test Results:\nunit: passed\nintegration: passed\ne2e: passed\nTotal: 3 suites",
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "5f287eb7-349e-4adc-86ac-7dcfefeec8a6",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 152,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "9b860749-5910-4eb8-88de-215b4b67543f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "testResults"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "suites": {
              "type": "array",
              "items": [
                {
                  "type": "Directive",
                  "nodeId": "c2e2094b-91b3-4c03-b66c-15e6750c81de",
                  "location": {
                    "start": {
                      "offset": 38,
                      "line": 3,
                      "column": 5
                    },
                    "end": {
                      "offset": 64,
                      "line": 3,
                      "column": 31
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "a51f49c9-22cc-46ec-8c7c-17f2a771a54f",
                        "location": {
                          "start": {
                            "offset": 44,
                            "line": 3,
                            "column": 11
                          },
                          "end": {
                            "offset": 63,
                            "line": 3,
                            "column": 30
                          }
                        },
                        "content": "echo \"unit: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "e7894ecc-c0c0-4ad3-afe7-420e418f240f",
                        "location": {
                          "start": {
                            "offset": 43,
                            "line": 3,
                            "column": 10
                          },
                          "end": {
                            "offset": 64,
                            "line": 3,
                            "column": 31
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"unit: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "42e1e3ee-1670-48b2-b8f1-caddcc8cbeee",
                  "location": {
                    "start": {
                      "offset": 70,
                      "line": 4,
                      "column": 5
                    },
                    "end": {
                      "offset": 103,
                      "line": 4,
                      "column": 38
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "a61b8211-29a0-4ea9-9a4f-cd1d796eae77",
                        "location": {
                          "start": {
                            "offset": 76,
                            "line": 4,
                            "column": 11
                          },
                          "end": {
                            "offset": 102,
                            "line": 4,
                            "column": 37
                          }
                        },
                        "content": "echo \"integration: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "e27f57ed-0210-40a2-b929-cea8c6482ef2",
                        "location": {
                          "start": {
                            "offset": 75,
                            "line": 4,
                            "column": 10
                          },
                          "end": {
                            "offset": 103,
                            "line": 4,
                            "column": 38
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"integration: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "8a3b656e-baff-43b8-9f60-f37541e35e5a",
                  "location": {
                    "start": {
                      "offset": 109,
                      "line": 5,
                      "column": 5
                    },
                    "end": {
                      "offset": 134,
                      "line": 5,
                      "column": 30
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "aa1b4f9b-7722-472c-961b-8415eb745e5e",
                        "location": {
                          "start": {
                            "offset": 115,
                            "line": 5,
                            "column": 11
                          },
                          "end": {
                            "offset": 133,
                            "line": 5,
                            "column": 29
                          }
                        },
                        "content": "echo \"e2e: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "61235bb6-a2b5-4971-b651-34cbc8d8c8b1",
                        "location": {
                          "start": {
                            "offset": 114,
                            "line": 5,
                            "column": 10
                          },
                          "end": {
                            "offset": 134,
                            "line": 5,
                            "column": 30
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"e2e: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                }
              ]
            },
            "count": 3
          }
        }
      },
      "raw": {
        "identifier": "testResults",
        "value": "{\n  \"suites\": {\n    \"type\": \"array\",\n    \"items\": [\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"c2e2094b-91b3-4c03-b66c-15e6750c81de\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 38,\n            \"line\": 3,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 64,\n            \"line\": 3,\n            \"column\": 31\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"a51f49c9-22cc-46ec-8c7c-17f2a771a54f\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 44,\n                  \"line\": 3,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 63,\n                  \"line\": 3,\n                  \"column\": 30\n                }\n              },\n              \"content\": \"echo \\\"unit: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"e7894ecc-c0c0-4ad3-afe7-420e418f240f\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 43,\n                  \"line\": 3,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 64,\n                  \"line\": 3,\n                  \"column\": 31\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"unit: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"42e1e3ee-1670-48b2-b8f1-caddcc8cbeee\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 70,\n            \"line\": 4,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 103,\n            \"line\": 4,\n            \"column\": 38\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"a61b8211-29a0-4ea9-9a4f-cd1d796eae77\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 76,\n                  \"line\": 4,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 102,\n                  \"line\": 4,\n                  \"column\": 37\n                }\n              },\n              \"content\": \"echo \\\"integration: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"e27f57ed-0210-40a2-b929-cea8c6482ef2\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 75,\n                  \"line\": 4,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 103,\n                  \"line\": 4,\n                  \"column\": 38\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"integration: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"8a3b656e-baff-43b8-9f60-f37541e35e5a\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 109,\n            \"line\": 5,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 134,\n            \"line\": 5,\n            \"column\": 30\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"aa1b4f9b-7722-472c-961b-8415eb745e5e\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 115,\n                  \"line\": 5,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 133,\n                  \"line\": 5,\n                  \"column\": 29\n                }\n              },\n              \"content\": \"echo \\\"e2e: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"61235bb6-a2b5-4971-b651-34cbc8d8c8b1\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 114,\n                  \"line\": 5,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 134,\n                  \"line\": 5,\n                  \"column\": 30\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"e2e: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      }\n    ]\n  },\n  \"count\": 3\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 2
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "7b053294-1cda-4f8b-a1ec-d15a0e4bc2a9",
      "location": {
        "start": {
          "offset": 152,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 153,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "8cbaa132-51ee-4c43-808c-b70a74f89ab6",
      "location": {
        "start": {
          "offset": 153,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 289,
          "line": 13,
          "column": 38
        }
      },
      "kind": "add",
      "subtype": "addTemplate",
      "source": "template",
      "values": {
        "content": [
          {
            "type": "Text",
            "nodeId": "8c1c1496-2b9d-4e3e-a1d8-59201b36bd89",
            "location": {
              "start": {
                "offset": 160,
                "line": 9,
                "column": 8
              },
              "end": {
                "offset": 174,
                "line": 10,
                "column": 1
              }
            },
            "content": "Test Results:\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "517108fa-3146-4b7d-9026-9a9555e76066",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "52678939-5fca-4f82-9368-c6682358f485",
            "location": {
              "start": {
                "offset": 199,
                "line": 10,
                "column": 26
              },
              "end": {
                "offset": 200,
                "line": 11,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "09767e3a-9557-48f6-bce1-8e4c6dfe8062",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "25a9cbf2-fdb5-4298-a934-9b96f3311911",
            "location": {
              "start": {
                "offset": 225,
                "line": 11,
                "column": 26
              },
              "end": {
                "offset": 226,
                "line": 12,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "369b95ac-d32a-47ec-963c-3e4620f10123",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "73cca7bd-e4d1-4de1-b2f3-ed12dfc108c5",
            "location": {
              "start": {
                "offset": 251,
                "line": 12,
                "column": 26
              },
              "end": {
                "offset": 259,
                "line": 13,
                "column": 8
              }
            },
            "content": "\nTotal: "
          },
          {
            "type": "VariableReference",
            "nodeId": "82206b20-c3da-4c82-af65-7cd837a0f65f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "count"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "009d8a9a-721c-4338-ae3a-5a564131b071",
            "location": {
              "start": {
                "offset": 280,
                "line": 13,
                "column": 29
              },
              "end": {
                "offset": 287,
                "line": 13,
                "column": 36
              }
            },
            "content": " suites"
          }
        ]
      },
      "raw": {
        "content": "Test Results:\n{{testResults}}\n{{testResults}}\n{{testResults}}\nTotal: {{testResults}} suites"
      },
      "meta": {
        "isTemplateContent": true,
        "hasVariables": true,
        "wrapperType": "doubleBracket"
      }
    }
  ],
  "parseError": null
}