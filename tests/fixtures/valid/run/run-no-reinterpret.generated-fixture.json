{
  "name": "run-no-reinterpret",
  "description": "Test fixture for valid/run-no-reinterpret",
  "category": "valid",
  "subcategory": "run-no-reinterpret",
  "input": "# Test Variables Are Not Re-interpreted\n\nThis tests that variable values containing mlld syntax are treated as literals.\n\n@text mlld_content = \"@text foo = 'bar'\n@run [echo 'hello']\n@add @foo\"\n\n@text path_content = \"[some/path.md]\"\n@text template_content = \"Hello {{name}}\"\n\n>> Variable containing mlld directives should be literal\n@run [echo \"@mlld_content\"]\n\n>> Variable containing path syntax should be literal\n@run [echo \"@path_content\"]\n\n>> Variable containing template syntax should be literal\n@run [echo \"@template_content\"]",
  "expected": "# Test Variables Are Not Re-interpreted\n\nThis tests that variable values containing mlld syntax are treated as literals.\n\n>> Variable containing mlld directives should be literal\n@text foo = 'bar'\n@run [echo 'hello']\n@add @foo\n\n>> Variable containing path syntax should be literal\n[some/path.md]\n\n>> Variable containing template syntax should be literal\nHello {{name}}",
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Text",
      "nodeId": "node-1",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 122,
          "line": 5,
          "column": 1
        }
      },
      "content": "# Test Variables Are Not Re-interpreted\n\nThis tests that variable values containing mlld syntax are treated as literals.\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "node-2",
      "location": {
        "start": {
          "offset": 122,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 192,
          "line": 7,
          "column": 11
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "node-3",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "mlld_content"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "node-4",
            "location": {
              "start": {
                "offset": 143,
                "line": 5,
                "column": 22
              },
              "end": {
                "offset": 192,
                "line": 7,
                "column": 11
              }
            },
            "content": "@text foo = 'bar'\n@run [echo 'hello']\n@add @foo"
          }
        ]
      },
      "raw": {
        "identifier": "mlld_content",
        "content": "@text foo = 'bar'\n@run [echo 'hello']\n@add @foo"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Text",
      "nodeId": "node-5",
      "location": {
        "start": {
          "offset": 192,
          "line": 7,
          "column": 11
        },
        "end": {
          "offset": 194,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "node-6",
      "location": {
        "start": {
          "offset": 194,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 231,
          "line": 9,
          "column": 38
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "node-7",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "path_content"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "node-8",
            "location": {
              "start": {
                "offset": 215,
                "line": 9,
                "column": 22
              },
              "end": {
                "offset": 231,
                "line": 9,
                "column": 38
              }
            },
            "content": "[some/path.md]"
          }
        ]
      },
      "raw": {
        "identifier": "path_content",
        "content": "[some/path.md]"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "node-9",
      "location": {
        "start": {
          "offset": 231,
          "line": 9,
          "column": 38
        },
        "end": {
          "offset": 232,
          "line": 10,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "node-10",
      "location": {
        "start": {
          "offset": 232,
          "line": 10,
          "column": 1
        },
        "end": {
          "offset": 273,
          "line": 10,
          "column": 42
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "node-11",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "template_content"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "node-12",
            "location": {
              "start": {
                "offset": 257,
                "line": 10,
                "column": 26
              },
              "end": {
                "offset": 273,
                "line": 10,
                "column": 42
              }
            },
            "content": "Hello {{name}}"
          }
        ]
      },
      "raw": {
        "identifier": "template_content",
        "content": "Hello {{name}}"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Text",
      "nodeId": "node-13",
      "location": {
        "start": {
          "offset": 273,
          "line": 10,
          "column": 42
        },
        "end": {
          "offset": 275,
          "line": 12,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Comment",
      "nodeId": "node-14",
      "location": {
        "start": {
          "offset": 275,
          "line": 12,
          "column": 1
        },
        "end": {
          "offset": 332,
          "line": 13,
          "column": 1
        }
      },
      "content": "Variable containing mlld directives should be literal",
      "marker": ">>"
    },
    {
      "type": "Directive",
      "nodeId": "node-15",
      "location": {
        "start": {
          "offset": 332,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 414,
          "line": 16,
          "column": 1
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "node-16",
            "location": {
              "start": {
                "offset": 338,
                "line": 13,
                "column": 7
              },
              "end": {
                "offset": 344,
                "line": 13,
                "column": 13
              }
            },
            "content": "echo \""
          },
          {
            "type": "VariableReference",
            "nodeId": "node-17",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "mlld_content"
          },
          {
            "type": "Text",
            "nodeId": "node-18",
            "location": {
              "start": {
                "offset": 357,
                "line": 13,
                "column": 26
              },
              "end": {
                "offset": 358,
                "line": 13,
                "column": 27
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "node-19",
            "location": {
              "start": {
                "offset": 337,
                "line": 13,
                "column": 6
              },
              "end": {
                "offset": 359,
                "line": 13,
                "column": 28
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "command": "echo \"@mlld_content\"",
        "commandBases": [
          "echo"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false,
        "comment": {
          "type": "Comment",
          "marker": ">>",
          "content": "Variable containing path syntax should be literal",
          "location": {
            "start": {
              "offset": 359,
              "line": 13,
              "column": 28
            },
            "end": {
              "offset": 414,
              "line": 16,
              "column": 1
            }
          }
        }
      }
    },
    {
      "type": "Directive",
      "nodeId": "node-20",
      "location": {
        "start": {
          "offset": 414,
          "line": 16,
          "column": 1
        },
        "end": {
          "offset": 500,
          "line": 19,
          "column": 1
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "node-21",
            "location": {
              "start": {
                "offset": 420,
                "line": 16,
                "column": 7
              },
              "end": {
                "offset": 426,
                "line": 16,
                "column": 13
              }
            },
            "content": "echo \""
          },
          {
            "type": "VariableReference",
            "nodeId": "node-22",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "path_content"
          },
          {
            "type": "Text",
            "nodeId": "node-23",
            "location": {
              "start": {
                "offset": 439,
                "line": 16,
                "column": 26
              },
              "end": {
                "offset": 440,
                "line": 16,
                "column": 27
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "node-24",
            "location": {
              "start": {
                "offset": 419,
                "line": 16,
                "column": 6
              },
              "end": {
                "offset": 441,
                "line": 16,
                "column": 28
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "command": "echo \"@path_content\"",
        "commandBases": [
          "echo"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false,
        "comment": {
          "type": "Comment",
          "marker": ">>",
          "content": "Variable containing template syntax should be literal",
          "location": {
            "start": {
              "offset": 441,
              "line": 16,
              "column": 28
            },
            "end": {
              "offset": 500,
              "line": 19,
              "column": 1
            }
          }
        }
      }
    },
    {
      "type": "Directive",
      "nodeId": "node-25",
      "location": {
        "start": {
          "offset": 500,
          "line": 19,
          "column": 1
        },
        "end": {
          "offset": 531,
          "line": 19,
          "column": 32
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "node-26",
            "location": {
              "start": {
                "offset": 506,
                "line": 19,
                "column": 7
              },
              "end": {
                "offset": 512,
                "line": 19,
                "column": 13
              }
            },
            "content": "echo \""
          },
          {
            "type": "VariableReference",
            "nodeId": "node-27",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "template_content"
          },
          {
            "type": "Text",
            "nodeId": "node-28",
            "location": {
              "start": {
                "offset": 529,
                "line": 19,
                "column": 30
              },
              "end": {
                "offset": 530,
                "line": 19,
                "column": 31
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "node-29",
            "location": {
              "start": {
                "offset": 505,
                "line": 19,
                "column": 6
              },
              "end": {
                "offset": 531,
                "line": 19,
                "column": 32
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "command": "echo \"@template_content\"",
        "commandBases": [
          "echo"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    }
  ],
  "parseError": null
}