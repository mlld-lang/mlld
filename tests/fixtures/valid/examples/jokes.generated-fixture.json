{
  "name": "jokes",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@text joke_1 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_2 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_3 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_4 = @run [oneshot \"Tell me a joke\"]\n\n@text evaluation = [[\n    Which joke is the funniest?\n    {{joke_1}}\n    {{joke_2}}\n    {{joke_3}}\n    {{joke_4}}\n]]\n\n@run [oneshot \"@evaluation\"]",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "47b381b6-d533-465d-a636-11f27941b4a4",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 46,
          "line": 1,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "e9bc7dc0-9046-4f04-a584-316f74e97089",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_1"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "8fefaf3e-a776-4a31-a25d-9988ac637a35",
            "location": {
              "start": {
                "offset": 21,
                "line": 1,
                "column": 22
              },
              "end": {
                "offset": 45,
                "line": 1,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_1",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "dcbfdbad-1111-4def-8ab1-d6b3507e33ae",
      "location": {
        "start": {
          "offset": 46,
          "line": 1,
          "column": 47
        },
        "end": {
          "offset": 48,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "43ef7d07-2bc6-4789-9239-2d8f1b55d823",
      "location": {
        "start": {
          "offset": 48,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 94,
          "line": 3,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "91c07884-62de-4b23-b76d-d554da4b8d90",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_2"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "12731e70-8f9f-476b-b0ca-0cffed083c28",
            "location": {
              "start": {
                "offset": 69,
                "line": 3,
                "column": 22
              },
              "end": {
                "offset": 93,
                "line": 3,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_2",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "3e7a304b-49d4-4d04-bd89-aa7ef4839b55",
      "location": {
        "start": {
          "offset": 94,
          "line": 3,
          "column": 47
        },
        "end": {
          "offset": 96,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "898144b1-d000-4ff6-8119-a02c7c64ed76",
      "location": {
        "start": {
          "offset": 96,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 142,
          "line": 5,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "e97b28b4-a6f2-4324-b90d-9b3f8afd7d0f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_3"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "ec4781c5-35dc-4957-bb0f-7c5a3c5bf4bb",
            "location": {
              "start": {
                "offset": 117,
                "line": 5,
                "column": 22
              },
              "end": {
                "offset": 141,
                "line": 5,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_3",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "2e82a76b-6496-495a-bbd7-0cc0ef7cf3c4",
      "location": {
        "start": {
          "offset": 142,
          "line": 5,
          "column": 47
        },
        "end": {
          "offset": 144,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "cb7826d9-c575-48e9-aa97-48d3756849ff",
      "location": {
        "start": {
          "offset": 144,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 190,
          "line": 7,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "1c776749-f917-48bd-9aa4-8a51d0f803f9",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_4"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "2f46c969-2b2a-4d13-8449-602fb54e76fd",
            "location": {
              "start": {
                "offset": 165,
                "line": 7,
                "column": 22
              },
              "end": {
                "offset": 189,
                "line": 7,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_4",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "6509af65-50c3-4ab7-899c-8e25fa13a47d",
      "location": {
        "start": {
          "offset": 190,
          "line": 7,
          "column": 47
        },
        "end": {
          "offset": 192,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "b96ac407-2437-4275-9d79-97bb6b31e17b",
      "location": {
        "start": {
          "offset": 192,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 308,
          "line": 15,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "58f91aa5-8534-4d98-82b9-37137d31316b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "evaluation"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "84a95481-49f6-408e-8365-0a3f21922688",
            "location": {
              "start": {
                "offset": 213,
                "line": 9,
                "column": 22
              },
              "end": {
                "offset": 250,
                "line": 11,
                "column": 5
              }
            },
            "content": "\n    Which joke is the funniest?\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "d07b57b0-b67d-4301-a769-61ea64544c6b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_1"
          },
          {
            "type": "Text",
            "nodeId": "fa842a16-8dab-4de8-aca9-aea8005364d4",
            "location": {
              "start": {
                "offset": 260,
                "line": 11,
                "column": 15
              },
              "end": {
                "offset": 265,
                "line": 12,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "590da5af-53b0-4304-9acb-2308f976b4e0",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_2"
          },
          {
            "type": "Text",
            "nodeId": "84c61d35-f887-42f6-a685-c667b75ac0ec",
            "location": {
              "start": {
                "offset": 275,
                "line": 12,
                "column": 15
              },
              "end": {
                "offset": 280,
                "line": 13,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "0799cfdc-223e-45b0-a12c-e9126b9dc2de",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_3"
          },
          {
            "type": "Text",
            "nodeId": "eecf3b24-7c4b-403a-a00b-9b01b7147c62",
            "location": {
              "start": {
                "offset": 290,
                "line": 13,
                "column": 15
              },
              "end": {
                "offset": 295,
                "line": 14,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "08f8d272-0c76-4312-b9ae-0d537240582f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_4"
          },
          {
            "type": "Text",
            "nodeId": "bba6495b-75b3-43d7-9183-7142758cebe0",
            "location": {
              "start": {
                "offset": 305,
                "line": 14,
                "column": 15
              },
              "end": {
                "offset": 306,
                "line": 15,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "evaluation",
        "content": "\n    Which joke is the funniest?\n    {{joke_1}}\n    {{joke_2}}\n    {{joke_3}}\n    {{joke_4}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "00dccff6-0b59-4758-b25d-d2ad5f4f6da6",
      "location": {
        "start": {
          "offset": 308,
          "line": 15,
          "column": 3
        },
        "end": {
          "offset": 310,
          "line": 17,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "bc37825a-ecc5-4bbe-8c95-dc11d0d7e49d",
      "location": {
        "start": {
          "offset": 310,
          "line": 17,
          "column": 1
        },
        "end": {
          "offset": 338,
          "line": 17,
          "column": 29
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "a92ffc08-d791-4412-b44f-2f680effa366",
            "location": {
              "start": {
                "offset": 316,
                "line": 17,
                "column": 7
              },
              "end": {
                "offset": 325,
                "line": 17,
                "column": 16
              }
            },
            "content": "oneshot \""
          },
          {
            "type": "VariableReference",
            "nodeId": "e6bba838-ba2e-4a1a-b0cb-6950accbb6ca",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "evaluation"
          },
          {
            "type": "Text",
            "nodeId": "52512b8b-8f66-49e6-bd86-44b29cb20f24",
            "location": {
              "start": {
                "offset": 336,
                "line": 17,
                "column": 27
              },
              "end": {
                "offset": 337,
                "line": 17,
                "column": 28
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "ea9e2a96-b824-4f69-89d5-f78a41db0c6c",
            "location": {
              "start": {
                "offset": 315,
                "line": 17,
                "column": 6
              },
              "end": {
                "offset": 338,
                "line": 17,
                "column": 29
              }
            },
            "command": "oneshot"
          }
        ]
      },
      "raw": {
        "command": "oneshot \"@evaluation\"",
        "commandBases": [
          "oneshot"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    }
  ],
  "parseError": null
}