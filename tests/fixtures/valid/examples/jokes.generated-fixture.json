{
  "name": "jokes",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@text joke_1 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_2 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_3 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_4 = @run [oneshot \"Tell me a joke\"]\n\n@text evaluation = [[\n    Which joke is the funniest?\n    {{joke_1}}\n    {{joke_2}}\n    {{joke_3}}\n    {{joke_4}}\n]]\n\n@run [oneshot \"@evaluation\"]",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "6f44a2b6-d1c9-48b8-a56a-a5e049639301",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 46,
          "line": 1,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "83ae2582-9c87-4a31-9e86-3ea04b80ab76",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_1"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "ca0d9030-07ec-4fa2-9730-cc5224e7e363",
            "location": {
              "start": {
                "offset": 21,
                "line": 1,
                "column": 22
              },
              "end": {
                "offset": 45,
                "line": 1,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_1",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "70cd0c45-6c77-46c0-8d84-ff925a0d1fde",
      "location": {
        "start": {
          "offset": 46,
          "line": 1,
          "column": 47
        },
        "end": {
          "offset": 48,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "8106d321-35c6-4faf-87e7-2fa30c74638a",
      "location": {
        "start": {
          "offset": 48,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 94,
          "line": 3,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "1ffa61e0-d378-4d82-a5e6-2bf6471dc172",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_2"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "2330e729-bb63-4b90-b78d-db4cfeda3d07",
            "location": {
              "start": {
                "offset": 69,
                "line": 3,
                "column": 22
              },
              "end": {
                "offset": 93,
                "line": 3,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_2",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "ce596adb-2423-4d11-94bc-906ea04c131b",
      "location": {
        "start": {
          "offset": 94,
          "line": 3,
          "column": 47
        },
        "end": {
          "offset": 96,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "fbcc7c64-0baa-4fda-8a18-daf31eb94645",
      "location": {
        "start": {
          "offset": 96,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 142,
          "line": 5,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "57c75b75-3347-48ac-a51a-088d7a038f39",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_3"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "b13d8a31-3a3e-4aac-be4c-12fdcdab81a0",
            "location": {
              "start": {
                "offset": 117,
                "line": 5,
                "column": 22
              },
              "end": {
                "offset": 141,
                "line": 5,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_3",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "067aa141-5998-4e64-8be6-3f738c185ceb",
      "location": {
        "start": {
          "offset": 142,
          "line": 5,
          "column": 47
        },
        "end": {
          "offset": 144,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "f265d80d-127d-47d9-8a9d-f2f56880bfb8",
      "location": {
        "start": {
          "offset": 144,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 190,
          "line": 7,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "cfe28436-0bed-45e4-998e-72470d2e8218",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_4"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "3c03d117-dc03-4e9e-a08c-c597dc294994",
            "location": {
              "start": {
                "offset": 165,
                "line": 7,
                "column": 22
              },
              "end": {
                "offset": 189,
                "line": 7,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_4",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "0615b4a6-b8e7-44f0-9dbc-3ebe0cd8b77b",
      "location": {
        "start": {
          "offset": 190,
          "line": 7,
          "column": 47
        },
        "end": {
          "offset": 192,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "fe019407-c26d-4caa-ac1f-b1e0af0b0187",
      "location": {
        "start": {
          "offset": 192,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 308,
          "line": 15,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "872b18d3-1698-4924-96fd-d3605b82e577",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "evaluation"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "926f2111-c645-4e68-bba8-7c54a3acb3fb",
            "location": {
              "start": {
                "offset": 213,
                "line": 9,
                "column": 22
              },
              "end": {
                "offset": 250,
                "line": 11,
                "column": 5
              }
            },
            "content": "\n    Which joke is the funniest?\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "de60be5b-61d2-4f06-bb7d-8f7cb17425d6",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_1"
          },
          {
            "type": "Text",
            "nodeId": "897e9550-759e-4a28-8762-f8bf4f01481f",
            "location": {
              "start": {
                "offset": 260,
                "line": 11,
                "column": 15
              },
              "end": {
                "offset": 265,
                "line": 12,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "44d36c19-8e00-4dc2-9375-862b0ead415f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_2"
          },
          {
            "type": "Text",
            "nodeId": "a20ba20f-0976-47e8-ad57-0b2dca75017e",
            "location": {
              "start": {
                "offset": 275,
                "line": 12,
                "column": 15
              },
              "end": {
                "offset": 280,
                "line": 13,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "18b82b50-65e6-4eef-bd37-175757da7e75",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_3"
          },
          {
            "type": "Text",
            "nodeId": "6d90df09-ca3c-4d01-b8af-d3f7ec200b4e",
            "location": {
              "start": {
                "offset": 290,
                "line": 13,
                "column": 15
              },
              "end": {
                "offset": 295,
                "line": 14,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "f9c952d7-5ed6-436e-bd8d-d94bf1088c00",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_4"
          },
          {
            "type": "Text",
            "nodeId": "4226e834-d32e-4254-935c-47fb0a2bc5c0",
            "location": {
              "start": {
                "offset": 305,
                "line": 14,
                "column": 15
              },
              "end": {
                "offset": 306,
                "line": 15,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "evaluation",
        "content": "\n    Which joke is the funniest?\n    {{joke_1}}\n    {{joke_2}}\n    {{joke_3}}\n    {{joke_4}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "cd3c321b-fc7d-4e8d-a5d2-301ecf3c7610",
      "location": {
        "start": {
          "offset": 308,
          "line": 15,
          "column": 3
        },
        "end": {
          "offset": 310,
          "line": 17,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "269ad034-4dc2-42a1-b855-5c494eaa0081",
      "location": {
        "start": {
          "offset": 310,
          "line": 17,
          "column": 1
        },
        "end": {
          "offset": 338,
          "line": 17,
          "column": 29
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "79780f82-0ce3-4a7c-9969-36eb0093930d",
            "location": {
              "start": {
                "offset": 316,
                "line": 17,
                "column": 7
              },
              "end": {
                "offset": 325,
                "line": 17,
                "column": 16
              }
            },
            "content": "oneshot \""
          },
          {
            "type": "VariableReference",
            "nodeId": "612ebc3a-a19c-45b7-ae35-2b4f17a32a47",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "evaluation"
          },
          {
            "type": "Text",
            "nodeId": "62c2c699-64ab-4a6e-b673-c92188d6a9da",
            "location": {
              "start": {
                "offset": 336,
                "line": 17,
                "column": 27
              },
              "end": {
                "offset": 337,
                "line": 17,
                "column": 28
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "cc947559-794c-45cc-b8de-938ade023bf9",
            "location": {
              "start": {
                "offset": 315,
                "line": 17,
                "column": 6
              },
              "end": {
                "offset": 338,
                "line": 17,
                "column": 29
              }
            },
            "command": "oneshot"
          }
        ]
      },
      "raw": {
        "command": "oneshot \"@evaluation\"",
        "commandBases": [
          "oneshot"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    }
  ],
  "parseError": null
}