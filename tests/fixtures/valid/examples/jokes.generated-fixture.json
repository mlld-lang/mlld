{
  "name": "jokes",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@text joke_1 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_2 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_3 = @run [oneshot \"Tell me a joke\"]\n\n@text joke_4 = @run [oneshot \"Tell me a joke\"]\n\n@text evaluation = [[\n    Which joke is the funniest?\n    {{joke_1}}\n    {{joke_2}}\n    {{joke_3}}\n    {{joke_4}}\n]]\n\n@run [oneshot \"@evaluation\"]",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "3c0683fe-f34e-41c6-96df-44cf52ff0637",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 46,
          "line": 1,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "0bc1987b-3fe6-46ef-b62a-6fafa580e70a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_1"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "915fe369-f424-487e-b79a-2a49a4e3c832",
            "location": {
              "start": {
                "offset": 21,
                "line": 1,
                "column": 22
              },
              "end": {
                "offset": 45,
                "line": 1,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_1",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "f0ad5283-eb6c-4e8e-ba5d-824273475c15",
      "location": {
        "start": {
          "offset": 46,
          "line": 1,
          "column": 47
        },
        "end": {
          "offset": 48,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "6cf6fced-6aa0-4adf-8fc9-7433bfdab8bf",
      "location": {
        "start": {
          "offset": 48,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 94,
          "line": 3,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "344b4f3a-8142-4fb9-8741-28592a00d29a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_2"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "5882d215-3bd0-4b93-909d-01eca7f72fe1",
            "location": {
              "start": {
                "offset": 69,
                "line": 3,
                "column": 22
              },
              "end": {
                "offset": 93,
                "line": 3,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_2",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "42b91866-1273-49e0-9dd3-7333ca19eb72",
      "location": {
        "start": {
          "offset": 94,
          "line": 3,
          "column": 47
        },
        "end": {
          "offset": 96,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "30b035dc-7d1d-41da-9654-a444bdf147eb",
      "location": {
        "start": {
          "offset": 96,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 142,
          "line": 5,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "10cb935c-aef5-4de6-83fe-d0ff68d023b6",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_3"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "91fc0c1b-34b1-472d-9693-cbd81263090e",
            "location": {
              "start": {
                "offset": 117,
                "line": 5,
                "column": 22
              },
              "end": {
                "offset": 141,
                "line": 5,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_3",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "1598aa29-d7b3-43e5-92bb-5882ae23d928",
      "location": {
        "start": {
          "offset": 142,
          "line": 5,
          "column": 47
        },
        "end": {
          "offset": 144,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "1cf9efd5-b9d5-4e0c-b03a-318f98e5d58a",
      "location": {
        "start": {
          "offset": 144,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 190,
          "line": 7,
          "column": 47
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "e93ff6eb-7fae-4511-916d-81b1e00b9320",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "joke_4"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "8b7ac57f-d882-455d-9473-287aa3449889",
            "location": {
              "start": {
                "offset": 165,
                "line": 7,
                "column": 22
              },
              "end": {
                "offset": 189,
                "line": 7,
                "column": 46
              }
            },
            "content": "oneshot \"Tell me a joke\""
          }
        ]
      },
      "raw": {
        "identifier": "joke_4",
        "content": "@run oneshot \"Tell me a joke\""
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "e9ff7097-3fbf-42e3-88c5-24da4fc0c061",
      "location": {
        "start": {
          "offset": 190,
          "line": 7,
          "column": 47
        },
        "end": {
          "offset": 192,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "8bfb0951-6e6d-4cb1-a9f1-41ccb770059b",
      "location": {
        "start": {
          "offset": 192,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 308,
          "line": 15,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "2163a507-ebd8-4d27-8cd6-d54d262d5c68",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "evaluation"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "8ddd38f3-b2f0-469d-ab92-d47d49eaa937",
            "location": {
              "start": {
                "offset": 213,
                "line": 9,
                "column": 22
              },
              "end": {
                "offset": 250,
                "line": 11,
                "column": 5
              }
            },
            "content": "\n    Which joke is the funniest?\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "89b36fa0-7bae-4771-a3e3-052c8a72220a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_1"
          },
          {
            "type": "Text",
            "nodeId": "ac81b059-c972-49b0-bb3a-d5a6a285092f",
            "location": {
              "start": {
                "offset": 260,
                "line": 11,
                "column": 15
              },
              "end": {
                "offset": 265,
                "line": 12,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "3e0f98aa-c105-4318-b93e-542c3bf129f9",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_2"
          },
          {
            "type": "Text",
            "nodeId": "9ea19a7d-2f0d-44f7-a73f-cf18914b2dd5",
            "location": {
              "start": {
                "offset": 275,
                "line": 12,
                "column": 15
              },
              "end": {
                "offset": 280,
                "line": 13,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "b5b61cec-4c90-4d33-90a4-1a5a0da40930",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_3"
          },
          {
            "type": "Text",
            "nodeId": "d6169e8f-e054-44ba-8787-e5218510b92e",
            "location": {
              "start": {
                "offset": 290,
                "line": 13,
                "column": 15
              },
              "end": {
                "offset": 295,
                "line": 14,
                "column": 5
              }
            },
            "content": "\n    "
          },
          {
            "type": "VariableReference",
            "nodeId": "f7e0907f-6e39-42fc-a5bc-5397f2bd0741",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "joke_4"
          },
          {
            "type": "Text",
            "nodeId": "0197beda-394d-4a9d-bdc4-4c8d43b61f49",
            "location": {
              "start": {
                "offset": 305,
                "line": 14,
                "column": 15
              },
              "end": {
                "offset": 306,
                "line": 15,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "evaluation",
        "content": "\n    Which joke is the funniest?\n    {{joke_1}}\n    {{joke_2}}\n    {{joke_3}}\n    {{joke_4}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "56cbe637-c497-46f9-918e-4eec9fd230c7",
      "location": {
        "start": {
          "offset": 308,
          "line": 15,
          "column": 3
        },
        "end": {
          "offset": 310,
          "line": 17,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "e92471a3-4d30-4b97-8394-5bf153886d90",
      "location": {
        "start": {
          "offset": 310,
          "line": 17,
          "column": 1
        },
        "end": {
          "offset": 338,
          "line": 17,
          "column": 29
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "602f0472-906e-4ef2-9926-7ac5d1d35c55",
            "location": {
              "start": {
                "offset": 316,
                "line": 17,
                "column": 7
              },
              "end": {
                "offset": 325,
                "line": 17,
                "column": 16
              }
            },
            "content": "oneshot \""
          },
          {
            "type": "VariableReference",
            "nodeId": "6f10437d-fd12-47b6-a00a-54ff7d16da5b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "evaluation"
          },
          {
            "type": "Text",
            "nodeId": "61d04400-be3e-42d8-b400-374d28e5731f",
            "location": {
              "start": {
                "offset": 336,
                "line": 17,
                "column": 27
              },
              "end": {
                "offset": 337,
                "line": 17,
                "column": 28
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "39481aac-d33d-4d8e-8e59-e35419590195",
            "location": {
              "start": {
                "offset": 315,
                "line": 17,
                "column": 6
              },
              "end": {
                "offset": 338,
                "line": 17,
                "column": 29
              }
            },
            "command": "oneshot"
          }
        ]
      },
      "raw": {
        "command": "oneshot \"@evaluation\"",
        "commandBases": [
          "oneshot"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    }
  ],
  "parseError": null
}