{
  "name": "plan",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@import {*} from \"files/imports.mld\"\n\n@path services = [@./src/services]\n@text code = @run @codecat(@services)\n\n@text context = [[\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n]]\n\n@text arch_review = @run @ask(@context, @role.architect, @task.archrev)\n@text ux_review   = @run @ask(@context, @role.ux, @task.uxrev)\n@text sec_review  = @run @ask(@context, @role.security, @task.secrev)\n\n@text pm_review = [[\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task.roadmap}}\n]]\n\n@run @ask(@context, @role.pm, @pm_review)",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "506b2beb-ad1d-413c-aa9d-606b9f94e8c2",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 36,
          "line": 1,
          "column": 37
        }
      },
      "kind": "import",
      "subtype": "importAll",
      "source": "path",
      "values": {
        "imports": [
          {
            "type": "VariableReference",
            "nodeId": "f51c3b45-d75b-45de-b0f8-275e4e853626",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "import",
            "identifier": "*"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "efa8e3a6-0e36-4cbd-a94e-6326fbeb7b2c",
            "location": {
              "start": {
                "offset": 17,
                "line": 1,
                "column": 18
              },
              "end": {
                "offset": 36,
                "line": 1,
                "column": 37
              }
            },
            "content": "files/imports.mld"
          }
        ]
      },
      "raw": {
        "imports": "*",
        "path": "files/imports.mld"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": true,
          "extension": "mld",
          "pathSubtype": "filePath"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "a9ce9e2f-459b-48f9-98df-852f4876f0c1",
      "location": {
        "start": {
          "offset": 36,
          "line": 1,
          "column": 37
        },
        "end": {
          "offset": 38,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "df394ca6-1e1d-45b9-b443-a8c602dac179",
      "location": {
        "start": {
          "offset": 38,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 72,
          "line": 3,
          "column": 35
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "846342e6-e66f-49bd-86d0-f93c9a38d0ff",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "services"
          }
        ],
        "path": [
          {
            "type": "VariableReference",
            "nodeId": "1657505e-c0d4-491b-988d-b540682a60bb",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "PROJECTPATH"
          },
          {
            "type": "Text",
            "nodeId": "6664d61b-7494-4f9f-88c9-c90f8f9138fb",
            "location": {
              "start": {
                "offset": 38,
                "line": 3,
                "column": 1
              },
              "end": {
                "offset": 72,
                "line": 3,
                "column": 35
              }
            },
            "content": "/src/services"
          }
        ]
      },
      "raw": {
        "identifier": "services",
        "path": "@PROJECTPATH/src/services"
      },
      "meta": {
        "path": {
          "hasVariables": true,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "31de9fc2-916d-430d-a1ac-31c8f2c1df47",
      "location": {
        "start": {
          "offset": 72,
          "line": 3,
          "column": 35
        },
        "end": {
          "offset": 73,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "edad7935-e88a-4959-a363-75a4814a23f7",
      "location": {
        "start": {
          "offset": 73,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 110,
          "line": 4,
          "column": 38
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "7c6386ca-6846-4a9c-abda-0e7916b51080",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "code"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "3fbde488-7910-46fc-b161-47414328f2bb",
            "location": {
              "start": {
                "offset": 73,
                "line": 4,
                "column": 1
              },
              "end": {
                "offset": 110,
                "line": 4,
                "column": 38
              }
            },
            "content": "@run @codecat(@services)"
          }
        ]
      },
      "raw": {
        "identifier": "code",
        "content": "@run @codecat(@services)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "codecat"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "75c621e0-c9b4-45ab-8e28-63f28154b2d7",
      "location": {
        "start": {
          "offset": 110,
          "line": 4,
          "column": 38
        },
        "end": {
          "offset": 112,
          "line": 6,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "25641db2-58c1-436b-a19d-78cc872008db",
      "location": {
        "start": {
          "offset": 112,
          "line": 6,
          "column": 1
        },
        "end": {
          "offset": 187,
          "line": 9,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "04b35a37-40fb-4dfd-b723-dce467548ede",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "context"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "c51aa160-2e1a-4100-8dd2-6d3f992d1577",
            "location": {
              "start": {
                "offset": 130,
                "line": 6,
                "column": 19
              },
              "end": {
                "offset": 148,
                "line": 7,
                "column": 18
              }
            },
            "content": "\n  Read our docs: "
          },
          {
            "type": "VariableReference",
            "nodeId": "1410c16c-2d95-4c3a-a303-2721265f95ec",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "docs"
          },
          {
            "type": "Text",
            "nodeId": "97e4a947-efd5-49a8-bbe2-baa00ea6650b",
            "location": {
              "start": {
                "offset": 156,
                "line": 7,
                "column": 26
              },
              "end": {
                "offset": 176,
                "line": 8,
                "column": 20
              }
            },
            "content": "\n  Review our code: "
          },
          {
            "type": "VariableReference",
            "nodeId": "c7079819-be56-48ad-9627-c51969284da3",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "code"
          },
          {
            "type": "Text",
            "nodeId": "c6903e5e-2f74-4a33-a087-e72cba11efec",
            "location": {
              "start": {
                "offset": 184,
                "line": 8,
                "column": 28
              },
              "end": {
                "offset": 185,
                "line": 9,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "context",
        "content": "\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "fb7fc0bb-fb1d-4b23-89ee-95c5cb572f46",
      "location": {
        "start": {
          "offset": 187,
          "line": 9,
          "column": 3
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "3df19169-a89b-4d49-9f9f-d4a209e8930e",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 260,
          "line": 11,
          "column": 72
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "abf068a8-420a-46fc-a2a5-f5f384d568d2",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "arch_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "b1439264-b26a-442e-aea7-0ba7a833fdb3",
            "location": {
              "start": {
                "offset": 189,
                "line": 11,
                "column": 1
              },
              "end": {
                "offset": 260,
                "line": 11,
                "column": 72
              }
            },
            "content": "@run @ask(@context, @role.architect, @task.archrev)"
          }
        ]
      },
      "raw": {
        "identifier": "arch_review",
        "content": "@run @ask(@context, @role.architect, @task.archrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "3f90603e-3024-420e-b00a-552b06ac707a",
      "location": {
        "start": {
          "offset": 260,
          "line": 11,
          "column": 72
        },
        "end": {
          "offset": 261,
          "line": 12,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "4f436e94-41dc-4221-a65e-736c50472d6c",
      "location": {
        "start": {
          "offset": 261,
          "line": 12,
          "column": 1
        },
        "end": {
          "offset": 323,
          "line": 12,
          "column": 63
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "5cbf62c0-7abf-410d-8161-d53fce38f69a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "ux_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "e0465432-81f7-4d0e-9dfe-fdf0319ceccd",
            "location": {
              "start": {
                "offset": 261,
                "line": 12,
                "column": 1
              },
              "end": {
                "offset": 323,
                "line": 12,
                "column": 63
              }
            },
            "content": "@run @ask(@context, @role.ux, @task.uxrev)"
          }
        ]
      },
      "raw": {
        "identifier": "ux_review",
        "content": "@run @ask(@context, @role.ux, @task.uxrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "c18b3443-5d87-44ea-9972-6e21385d8307",
      "location": {
        "start": {
          "offset": 323,
          "line": 12,
          "column": 63
        },
        "end": {
          "offset": 324,
          "line": 13,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "02bd8c03-9a80-430c-9f88-453d7d491721",
      "location": {
        "start": {
          "offset": 324,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 393,
          "line": 13,
          "column": 70
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "7789e250-af38-4142-95b7-3d6380ac8883",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "sec_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "ec550845-f1c0-4f10-88e3-343bf62878ac",
            "location": {
              "start": {
                "offset": 324,
                "line": 13,
                "column": 1
              },
              "end": {
                "offset": 393,
                "line": 13,
                "column": 70
              }
            },
            "content": "@run @ask(@context, @role.security, @task.secrev)"
          }
        ]
      },
      "raw": {
        "identifier": "sec_review",
        "content": "@run @ask(@context, @role.security, @task.secrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "d83e1336-8005-4e57-929c-e2404f3ef9f5",
      "location": {
        "start": {
          "offset": 393,
          "line": 13,
          "column": 70
        },
        "end": {
          "offset": 395,
          "line": 15,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "20e85044-9a08-4cd7-8fac-f6f0676b66aa",
      "location": {
        "start": {
          "offset": 395,
          "line": 15,
          "column": 1
        },
        "end": {
          "offset": 596,
          "line": 21,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "9abaaff0-7ad7-4f58-83ba-76f1942fd6db",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "pm_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "106f9323-584f-4ed5-8cea-8abd86c40a6a",
            "location": {
              "start": {
                "offset": 415,
                "line": 15,
                "column": 21
              },
              "end": {
                "offset": 483,
                "line": 17,
                "column": 23
              }
            },
            "content": "\n  Here's the team's input on our priorities:\n  - Architect review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "421cb85f-a642-43d0-a6fb-d7d92b68865d",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "arch_review"
          },
          {
            "type": "Text",
            "nodeId": "4f5906a3-d087-4cb2-a032-76fe52a6d1e2",
            "location": {
              "start": {
                "offset": 498,
                "line": 17,
                "column": 38
              },
              "end": {
                "offset": 514,
                "line": 18,
                "column": 16
              }
            },
            "content": "\n  - UX review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "d56cdb4b-3caa-4d22-bc2f-c4d1eafd6879",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "ux_review"
          },
          {
            "type": "Text",
            "nodeId": "c5d2af31-33f1-4c57-8fef-733e2995c9cd",
            "location": {
              "start": {
                "offset": 527,
                "line": 18,
                "column": 29
              },
              "end": {
                "offset": 549,
                "line": 19,
                "column": 22
              }
            },
            "content": "\n  - Security review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "728682f2-af19-43c2-9294-60a96d724134",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "sec_review"
          },
          {
            "type": "Text",
            "nodeId": "953f7c0d-8d2e-4b2e-88bf-68bc81e35cb3",
            "location": {
              "start": {
                "offset": 563,
                "line": 19,
                "column": 36
              },
              "end": {
                "offset": 577,
                "line": 20,
                "column": 14
              }
            },
            "content": "\n  Your task: "
          },
          {
            "type": "VariableReference",
            "nodeId": "8f4b878e-db32-4363-8b56-2fd7a65fc9cf",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "task",
            "fields": [
              {
                "type": "field",
                "name": "roadmap"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "5ba8b9fc-69bc-4064-96cc-5bfba650668b",
            "location": {
              "start": {
                "offset": 593,
                "line": 20,
                "column": 30
              },
              "end": {
                "offset": 594,
                "line": 21,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "pm_review",
        "content": "\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "c2ac3f6e-220c-4c8f-953f-4bedf5b1a27e",
      "location": {
        "start": {
          "offset": 596,
          "line": 21,
          "column": 3
        },
        "end": {
          "offset": 598,
          "line": 23,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "42e4ce80-31ca-49ea-a0af-c8313ea019f3",
      "location": {
        "start": {
          "offset": 598,
          "line": 23,
          "column": 1
        },
        "end": {
          "offset": 639,
          "line": 23,
          "column": 42
        }
      },
      "kind": "run",
      "subtype": "runExec",
      "source": "exec",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "26e1c8d2-0d72-4708-84c6-49b51f014664",
            "location": {
              "start": {
                "offset": 604,
                "line": 23,
                "column": 7
              },
              "end": {
                "offset": 639,
                "line": 23,
                "column": 42
              }
            },
            "content": "ask"
          }
        ],
        "args": [
          {
            "type": "Text",
            "nodeId": "3f04e23b-86c0-4500-861d-53fea84c5b0e",
            "location": {
              "start": {
                "offset": 608,
                "line": 23,
                "column": 11
              },
              "end": {
                "offset": 616,
                "line": 23,
                "column": 19
              }
            },
            "content": "@context"
          },
          {
            "type": "Text",
            "nodeId": "b660acf4-f181-4a67-ad95-2e613e9b8665",
            "location": {
              "start": {
                "offset": 618,
                "line": 23,
                "column": 21
              },
              "end": {
                "offset": 626,
                "line": 23,
                "column": 29
              }
            },
            "content": "@role.pm"
          },
          {
            "type": "Text",
            "nodeId": "2d825a4a-e24d-4e55-88af-869f7b537488",
            "location": {
              "start": {
                "offset": 628,
                "line": 23,
                "column": 31
              },
              "end": {
                "offset": 638,
                "line": 23,
                "column": 41
              }
            },
            "content": "@pm_review"
          }
        ]
      },
      "raw": {
        "identifier": "ask",
        "args": [
          "@context",
          "@role.pm",
          "@pm_review"
        ]
      },
      "meta": {
        "argumentCount": 3
      }
    }
  ],
  "parseError": null
}