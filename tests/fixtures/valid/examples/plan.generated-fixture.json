{
  "name": "plan",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@import {*} from \"files/imports.mld\"\n\n@path services = [@./src/services]\n@text code = @run @codecat(@services)\n\n@text context = [[\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n]]\n\n@text arch_review = @run @ask(@context, @role.architect, @task.archrev)\n@text ux_review   = @run @ask(@context, @role.ux, @task.uxrev)\n@text sec_review  = @run @ask(@context, @role.security, @task.secrev)\n\n@text pm_review = [[\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task.roadmap}}\n]]\n\n@run @ask(@context, @role.pm, @pm_review)",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "4e881d87-87cc-4fa5-a44c-b6a65467ec5d",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 36,
          "line": 1,
          "column": 37
        }
      },
      "kind": "import",
      "subtype": "importAll",
      "source": "path",
      "values": {
        "imports": [
          {
            "type": "VariableReference",
            "nodeId": "44862ade-c4ce-41f0-ae15-7858c832aa90",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "import",
            "identifier": "*"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "5dbfb83a-0b28-4614-9d13-975359847e1e",
            "location": {
              "start": {
                "offset": 17,
                "line": 1,
                "column": 18
              },
              "end": {
                "offset": 36,
                "line": 1,
                "column": 37
              }
            },
            "content": "files/imports.mld"
          }
        ]
      },
      "raw": {
        "imports": "*",
        "path": "files/imports.mld"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": true,
          "extension": "mld",
          "pathSubtype": "filePath"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "44143d79-af21-4f47-b452-1658c8582f15",
      "location": {
        "start": {
          "offset": 36,
          "line": 1,
          "column": 37
        },
        "end": {
          "offset": 38,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "19d7505b-2683-4d03-bc77-d4aec3ba23ca",
      "location": {
        "start": {
          "offset": 38,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 72,
          "line": 3,
          "column": 35
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "18380d96-dc29-4f99-9b86-80b004e95f10",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "services"
          }
        ],
        "path": [
          {
            "type": "VariableReference",
            "nodeId": "575f6319-c467-4039-aadb-de2f054196c6",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "PROJECTPATH"
          },
          {
            "type": "Text",
            "nodeId": "1a840ee6-8cb2-49ef-838d-fe396857087f",
            "location": {
              "start": {
                "offset": 38,
                "line": 3,
                "column": 1
              },
              "end": {
                "offset": 72,
                "line": 3,
                "column": 35
              }
            },
            "content": "/src/services"
          }
        ]
      },
      "raw": {
        "identifier": "services",
        "path": "@PROJECTPATH/src/services"
      },
      "meta": {
        "path": {
          "hasVariables": true,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "755cee00-e104-4ab6-8fcb-1509ab0db372",
      "location": {
        "start": {
          "offset": 72,
          "line": 3,
          "column": 35
        },
        "end": {
          "offset": 73,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "c65e1d4e-5bed-42d6-a983-9f5a88e8988b",
      "location": {
        "start": {
          "offset": 73,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 110,
          "line": 4,
          "column": 38
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "f7e2b62d-354c-416a-b753-0ae65efaa288",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "code"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "a783aa40-c8fa-4695-be10-222aaf080c11",
            "location": {
              "start": {
                "offset": 73,
                "line": 4,
                "column": 1
              },
              "end": {
                "offset": 110,
                "line": 4,
                "column": 38
              }
            },
            "content": "@run @codecat(@services)"
          }
        ]
      },
      "raw": {
        "identifier": "code",
        "content": "@run @codecat(@services)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "codecat"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "5e13a50d-3c8c-4626-8682-be9b0af0fa7e",
      "location": {
        "start": {
          "offset": 110,
          "line": 4,
          "column": 38
        },
        "end": {
          "offset": 112,
          "line": 6,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "7de78363-3f20-4083-82d3-e7d5ecf2706a",
      "location": {
        "start": {
          "offset": 112,
          "line": 6,
          "column": 1
        },
        "end": {
          "offset": 187,
          "line": 9,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "5d8f4575-f494-4fdd-9397-a1ce249f2f1f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "context"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "7d2190d0-d7aa-4c71-95ef-137deae7577e",
            "location": {
              "start": {
                "offset": 130,
                "line": 6,
                "column": 19
              },
              "end": {
                "offset": 148,
                "line": 7,
                "column": 18
              }
            },
            "content": "\n  Read our docs: "
          },
          {
            "type": "VariableReference",
            "nodeId": "1651ee8b-f45e-4b77-a349-812e97125eaf",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "docs"
          },
          {
            "type": "Text",
            "nodeId": "8b736757-bbc0-4a01-ba89-8bb85464b176",
            "location": {
              "start": {
                "offset": 156,
                "line": 7,
                "column": 26
              },
              "end": {
                "offset": 176,
                "line": 8,
                "column": 20
              }
            },
            "content": "\n  Review our code: "
          },
          {
            "type": "VariableReference",
            "nodeId": "f3496b69-0342-45d3-af2d-bd5972f77aa0",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "code"
          },
          {
            "type": "Text",
            "nodeId": "12c70226-bf64-4a63-b1bc-d76e6e67c422",
            "location": {
              "start": {
                "offset": 184,
                "line": 8,
                "column": 28
              },
              "end": {
                "offset": 185,
                "line": 9,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "context",
        "content": "\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "0d05d67f-7421-4fbf-8c1c-f5b6ea6824c8",
      "location": {
        "start": {
          "offset": 187,
          "line": 9,
          "column": 3
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "c0e87232-c6ec-4eb8-a775-fb9d4408dcea",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 260,
          "line": 11,
          "column": 72
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "fab4f8a0-3ced-471b-b8f8-27d55cce7927",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "arch_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "e98494e8-3932-4da3-a091-266288375e40",
            "location": {
              "start": {
                "offset": 189,
                "line": 11,
                "column": 1
              },
              "end": {
                "offset": 260,
                "line": 11,
                "column": 72
              }
            },
            "content": "@run @ask(@context, @role.architect, @task.archrev)"
          }
        ]
      },
      "raw": {
        "identifier": "arch_review",
        "content": "@run @ask(@context, @role.architect, @task.archrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "c78411c4-8c3f-4895-8043-0e7be3b95706",
      "location": {
        "start": {
          "offset": 260,
          "line": 11,
          "column": 72
        },
        "end": {
          "offset": 261,
          "line": 12,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "45e57d28-3f2a-43b0-a0f9-054017ceaa70",
      "location": {
        "start": {
          "offset": 261,
          "line": 12,
          "column": 1
        },
        "end": {
          "offset": 323,
          "line": 12,
          "column": 63
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "4d9ed4c6-d1d2-49f4-b0a2-fc96ffd5ff04",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "ux_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "5d14c580-5600-46e3-887d-e3da5b6383bb",
            "location": {
              "start": {
                "offset": 261,
                "line": 12,
                "column": 1
              },
              "end": {
                "offset": 323,
                "line": 12,
                "column": 63
              }
            },
            "content": "@run @ask(@context, @role.ux, @task.uxrev)"
          }
        ]
      },
      "raw": {
        "identifier": "ux_review",
        "content": "@run @ask(@context, @role.ux, @task.uxrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "fd623f78-e6c5-4f81-a38d-702586ed5d38",
      "location": {
        "start": {
          "offset": 323,
          "line": 12,
          "column": 63
        },
        "end": {
          "offset": 324,
          "line": 13,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "bbcba47b-6878-483b-9556-5ee997e81235",
      "location": {
        "start": {
          "offset": 324,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 393,
          "line": 13,
          "column": 70
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "56a09898-a49e-463b-9b6c-684a1b4de664",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "sec_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "bc728119-3805-4f0a-a0a9-50cca4f9410e",
            "location": {
              "start": {
                "offset": 324,
                "line": 13,
                "column": 1
              },
              "end": {
                "offset": 393,
                "line": 13,
                "column": 70
              }
            },
            "content": "@run @ask(@context, @role.security, @task.secrev)"
          }
        ]
      },
      "raw": {
        "identifier": "sec_review",
        "content": "@run @ask(@context, @role.security, @task.secrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "7cf2fe97-d1d6-466d-a7ee-f5928b561d87",
      "location": {
        "start": {
          "offset": 393,
          "line": 13,
          "column": 70
        },
        "end": {
          "offset": 395,
          "line": 15,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "06a49f7d-babc-4436-bf57-c31c71bce8c8",
      "location": {
        "start": {
          "offset": 395,
          "line": 15,
          "column": 1
        },
        "end": {
          "offset": 596,
          "line": 21,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "ec86246f-d65e-48b9-984a-e3723302a0d3",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "pm_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "d1bb7c5a-a6ba-4bd7-a8cb-7ff6b85861b2",
            "location": {
              "start": {
                "offset": 415,
                "line": 15,
                "column": 21
              },
              "end": {
                "offset": 483,
                "line": 17,
                "column": 23
              }
            },
            "content": "\n  Here's the team's input on our priorities:\n  - Architect review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "ef9f5d8b-7700-4365-9660-a9afd8721d43",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "arch_review"
          },
          {
            "type": "Text",
            "nodeId": "d9df2f51-279f-4a39-8be8-e28275f123f7",
            "location": {
              "start": {
                "offset": 498,
                "line": 17,
                "column": 38
              },
              "end": {
                "offset": 514,
                "line": 18,
                "column": 16
              }
            },
            "content": "\n  - UX review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "164a2866-e46a-421d-be7d-c6cfab3a4b31",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "ux_review"
          },
          {
            "type": "Text",
            "nodeId": "c06c1a8c-177a-4856-8ab6-0bbec59838d5",
            "location": {
              "start": {
                "offset": 527,
                "line": 18,
                "column": 29
              },
              "end": {
                "offset": 549,
                "line": 19,
                "column": 22
              }
            },
            "content": "\n  - Security review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "489c5943-5222-4941-a14c-6a50a1945588",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "sec_review"
          },
          {
            "type": "Text",
            "nodeId": "76f21806-6714-49fe-b40f-259a6404af36",
            "location": {
              "start": {
                "offset": 563,
                "line": 19,
                "column": 36
              },
              "end": {
                "offset": 577,
                "line": 20,
                "column": 14
              }
            },
            "content": "\n  Your task: "
          },
          {
            "type": "VariableReference",
            "nodeId": "3217d3bc-f41f-4702-9668-8d828ab51105",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "task",
            "fields": [
              {
                "type": "field",
                "name": "roadmap"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "d2779c9b-4886-4a0f-aaa3-167106fb73ca",
            "location": {
              "start": {
                "offset": 593,
                "line": 20,
                "column": 30
              },
              "end": {
                "offset": 594,
                "line": 21,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "pm_review",
        "content": "\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "c1819b72-8f8a-4250-8545-b8bcc39661a2",
      "location": {
        "start": {
          "offset": 596,
          "line": 21,
          "column": 3
        },
        "end": {
          "offset": 598,
          "line": 23,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "1aa8ea17-c425-4f92-b58a-629dd2c71796",
      "location": {
        "start": {
          "offset": 598,
          "line": 23,
          "column": 1
        },
        "end": {
          "offset": 639,
          "line": 23,
          "column": 42
        }
      },
      "kind": "run",
      "subtype": "runExec",
      "source": "exec",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "3ba3fc68-a498-4695-af48-eba78443b7d3",
            "location": {
              "start": {
                "offset": 604,
                "line": 23,
                "column": 7
              },
              "end": {
                "offset": 639,
                "line": 23,
                "column": 42
              }
            },
            "content": "ask"
          }
        ],
        "args": [
          {
            "type": "Text",
            "nodeId": "bed339cc-769d-44d2-9bdc-446642b35539",
            "location": {
              "start": {
                "offset": 608,
                "line": 23,
                "column": 11
              },
              "end": {
                "offset": 616,
                "line": 23,
                "column": 19
              }
            },
            "content": "@context"
          },
          {
            "type": "Text",
            "nodeId": "4d3bdfac-0f57-4f97-b1d4-159929394fe3",
            "location": {
              "start": {
                "offset": 618,
                "line": 23,
                "column": 21
              },
              "end": {
                "offset": 626,
                "line": 23,
                "column": 29
              }
            },
            "content": "@role.pm"
          },
          {
            "type": "Text",
            "nodeId": "ad426783-1687-4836-9f84-bc2606608fa1",
            "location": {
              "start": {
                "offset": 628,
                "line": 23,
                "column": 31
              },
              "end": {
                "offset": 638,
                "line": 23,
                "column": 41
              }
            },
            "content": "@pm_review"
          }
        ]
      },
      "raw": {
        "identifier": "ask",
        "args": [
          "@context",
          "@role.pm",
          "@pm_review"
        ]
      },
      "meta": {
        "argumentCount": 3
      }
    }
  ],
  "parseError": null
}