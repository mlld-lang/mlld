{
  "name": "plan",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@import {*} from \"files/imports.mld\"\n\n@path services = [@./src/services]\n@text code = @run @codecat(@services)\n\n@text context = [[\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n]]\n\n@text arch_review = @run @ask(@context, @role.architect, @task.archrev)\n@text ux_review   = @run @ask(@context, @role.ux, @task.uxrev)\n@text sec_review  = @run @ask(@context, @role.security, @task.secrev)\n\n@text pm_review = [[\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task.roadmap}}\n]]\n\n@run @ask(@context, @role.pm, @pm_review)",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "f56cbb84-0ab4-40c5-beb5-576345c18ffc",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 36,
          "line": 1,
          "column": 37
        }
      },
      "kind": "import",
      "subtype": "importAll",
      "source": "path",
      "values": {
        "imports": [
          {
            "type": "VariableReference",
            "nodeId": "13571849-c6b3-414c-b24f-31e4a60f6306",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "import",
            "identifier": "*"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "a0a8743c-8100-4983-a863-ffe1fb191f28",
            "location": {
              "start": {
                "offset": 17,
                "line": 1,
                "column": 18
              },
              "end": {
                "offset": 36,
                "line": 1,
                "column": 37
              }
            },
            "content": "files/imports.mld"
          }
        ]
      },
      "raw": {
        "imports": "*",
        "path": "files/imports.mld"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": true,
          "extension": "mld",
          "pathSubtype": "filePath"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "f993bc6d-b661-46cc-a599-14b3044b10e1",
      "location": {
        "start": {
          "offset": 36,
          "line": 1,
          "column": 37
        },
        "end": {
          "offset": 38,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "74f6481c-2780-40fc-bdd9-7f96b3be6acf",
      "location": {
        "start": {
          "offset": 38,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 72,
          "line": 3,
          "column": 35
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "e4fea891-043d-4260-99fd-0e1cf09cfd56",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "services"
          }
        ],
        "path": [
          {
            "type": "VariableReference",
            "nodeId": "ad3a6fb6-5f0f-435b-9a40-58eb8a9eef50",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "PROJECTPATH"
          },
          {
            "type": "Text",
            "nodeId": "002273b4-97a6-4458-9377-38b20658ae02",
            "location": {
              "start": {
                "offset": 38,
                "line": 3,
                "column": 1
              },
              "end": {
                "offset": 72,
                "line": 3,
                "column": 35
              }
            },
            "content": "/src/services"
          }
        ]
      },
      "raw": {
        "identifier": "services",
        "path": "@PROJECTPATH/src/services"
      },
      "meta": {
        "path": {
          "hasVariables": true,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "f8698b7b-f7e2-4f8f-9155-8351ac74e07c",
      "location": {
        "start": {
          "offset": 72,
          "line": 3,
          "column": 35
        },
        "end": {
          "offset": 73,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "9cea04d4-69f1-416f-9fd0-1bf514229964",
      "location": {
        "start": {
          "offset": 73,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 110,
          "line": 4,
          "column": 38
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "322bf488-ad3d-4d0e-a214-ec17ceace52e",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "code"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "0e253ccc-f419-4240-9ea7-645a8649f883",
            "location": {
              "start": {
                "offset": 73,
                "line": 4,
                "column": 1
              },
              "end": {
                "offset": 110,
                "line": 4,
                "column": 38
              }
            },
            "content": "@run @codecat(@services)"
          }
        ]
      },
      "raw": {
        "identifier": "code",
        "content": "@run @codecat(@services)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "codecat"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "899f1381-1786-49b3-ba53-66822cfe0579",
      "location": {
        "start": {
          "offset": 110,
          "line": 4,
          "column": 38
        },
        "end": {
          "offset": 112,
          "line": 6,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "d2002b91-5088-46c7-8b63-9458838defc5",
      "location": {
        "start": {
          "offset": 112,
          "line": 6,
          "column": 1
        },
        "end": {
          "offset": 187,
          "line": 9,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "08f136da-0b9d-49ba-9a8e-eeba3a240f1a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "context"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "a711c405-ad10-4f3e-ad80-550a547a0cb3",
            "location": {
              "start": {
                "offset": 130,
                "line": 6,
                "column": 19
              },
              "end": {
                "offset": 148,
                "line": 7,
                "column": 18
              }
            },
            "content": "\n  Read our docs: "
          },
          {
            "type": "VariableReference",
            "nodeId": "6d6cf04e-5e9e-492b-ade9-86db665975c0",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "docs"
          },
          {
            "type": "Text",
            "nodeId": "e6406a0c-54d1-41f3-97ea-60982a4c0ccd",
            "location": {
              "start": {
                "offset": 156,
                "line": 7,
                "column": 26
              },
              "end": {
                "offset": 176,
                "line": 8,
                "column": 20
              }
            },
            "content": "\n  Review our code: "
          },
          {
            "type": "VariableReference",
            "nodeId": "7ae2c2cf-1cb3-42ee-b77b-b642e8e6df94",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "code"
          },
          {
            "type": "Text",
            "nodeId": "f9cb6259-d30e-4dd3-97c9-93edcd45e614",
            "location": {
              "start": {
                "offset": 184,
                "line": 8,
                "column": 28
              },
              "end": {
                "offset": 185,
                "line": 9,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "context",
        "content": "\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "80c77136-5a80-4389-8b59-72c67a8dac30",
      "location": {
        "start": {
          "offset": 187,
          "line": 9,
          "column": 3
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "13651613-c7ec-4106-9b75-0ae17bb1eb12",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 260,
          "line": 11,
          "column": 72
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "1eeafdec-56be-48a9-8d62-2c45cb5f0f06",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "arch_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "d2bb0fc7-ce75-4fba-9716-e80b2f64d902",
            "location": {
              "start": {
                "offset": 189,
                "line": 11,
                "column": 1
              },
              "end": {
                "offset": 260,
                "line": 11,
                "column": 72
              }
            },
            "content": "@run @ask(@context, @role.architect, @task.archrev)"
          }
        ]
      },
      "raw": {
        "identifier": "arch_review",
        "content": "@run @ask(@context, @role.architect, @task.archrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "70438eac-bf44-4e18-93f8-b52fc26631f1",
      "location": {
        "start": {
          "offset": 260,
          "line": 11,
          "column": 72
        },
        "end": {
          "offset": 261,
          "line": 12,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "14e1fa95-79a6-4c41-8314-9909b1683fa5",
      "location": {
        "start": {
          "offset": 261,
          "line": 12,
          "column": 1
        },
        "end": {
          "offset": 323,
          "line": 12,
          "column": 63
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "1cd1dbe4-cb58-4efc-8576-a61332ad2398",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "ux_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "e8d6e556-772a-4000-aaea-7bf498ea93ee",
            "location": {
              "start": {
                "offset": 261,
                "line": 12,
                "column": 1
              },
              "end": {
                "offset": 323,
                "line": 12,
                "column": 63
              }
            },
            "content": "@run @ask(@context, @role.ux, @task.uxrev)"
          }
        ]
      },
      "raw": {
        "identifier": "ux_review",
        "content": "@run @ask(@context, @role.ux, @task.uxrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "c650645c-2221-4dc0-940a-ca961b2f5f84",
      "location": {
        "start": {
          "offset": 323,
          "line": 12,
          "column": 63
        },
        "end": {
          "offset": 324,
          "line": 13,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "1051bb3f-77b6-4d0f-9d81-eb5ad145eec8",
      "location": {
        "start": {
          "offset": 324,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 393,
          "line": 13,
          "column": 70
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "c0b11d71-ebe5-4266-a770-38614444cdaf",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "sec_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "2045d583-40f1-4b2c-9955-272dc462c1a4",
            "location": {
              "start": {
                "offset": 324,
                "line": 13,
                "column": 1
              },
              "end": {
                "offset": 393,
                "line": 13,
                "column": 70
              }
            },
            "content": "@run @ask(@context, @role.security, @task.secrev)"
          }
        ]
      },
      "raw": {
        "identifier": "sec_review",
        "content": "@run @ask(@context, @role.security, @task.secrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "16f90aef-6abc-4940-b7d5-cf1b76c3355a",
      "location": {
        "start": {
          "offset": 393,
          "line": 13,
          "column": 70
        },
        "end": {
          "offset": 395,
          "line": 15,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "2bd7d3e0-8729-439f-b7fd-4bd2313a0278",
      "location": {
        "start": {
          "offset": 395,
          "line": 15,
          "column": 1
        },
        "end": {
          "offset": 596,
          "line": 21,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "bec548e0-413a-4423-a977-e02b374be21c",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "pm_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "ebbb9241-3948-448b-b7ed-939561b7e7fa",
            "location": {
              "start": {
                "offset": 415,
                "line": 15,
                "column": 21
              },
              "end": {
                "offset": 483,
                "line": 17,
                "column": 23
              }
            },
            "content": "\n  Here's the team's input on our priorities:\n  - Architect review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "1bee2e2a-396e-4e04-9de5-43495ecc6a6d",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "arch_review"
          },
          {
            "type": "Text",
            "nodeId": "65ffde80-3761-4815-b18f-dbe5a1bc5a26",
            "location": {
              "start": {
                "offset": 498,
                "line": 17,
                "column": 38
              },
              "end": {
                "offset": 514,
                "line": 18,
                "column": 16
              }
            },
            "content": "\n  - UX review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "36b781b1-a871-434f-97b8-bfdb19fa96ca",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "ux_review"
          },
          {
            "type": "Text",
            "nodeId": "813febaf-c573-499c-9d0f-8b5e76336dc7",
            "location": {
              "start": {
                "offset": 527,
                "line": 18,
                "column": 29
              },
              "end": {
                "offset": 549,
                "line": 19,
                "column": 22
              }
            },
            "content": "\n  - Security review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "81f1e7de-a129-4a6e-a242-c460e74fca7b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "sec_review"
          },
          {
            "type": "Text",
            "nodeId": "15e15f9c-b538-4c18-b55e-576f862eaedc",
            "location": {
              "start": {
                "offset": 563,
                "line": 19,
                "column": 36
              },
              "end": {
                "offset": 577,
                "line": 20,
                "column": 14
              }
            },
            "content": "\n  Your task: "
          },
          {
            "type": "VariableReference",
            "nodeId": "77f54dfd-ab5d-48a6-bb37-7ea8f4870606",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "task",
            "fields": [
              {
                "type": "field",
                "name": "roadmap"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "7115e24b-d256-4afd-9dc3-9b7964a39c75",
            "location": {
              "start": {
                "offset": 593,
                "line": 20,
                "column": 30
              },
              "end": {
                "offset": 594,
                "line": 21,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "pm_review",
        "content": "\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "396744da-8efa-4007-8ed5-2c19fa0ee01f",
      "location": {
        "start": {
          "offset": 596,
          "line": 21,
          "column": 3
        },
        "end": {
          "offset": 598,
          "line": 23,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "add7ca8f-40f5-4fb7-b882-d2c50c6d65f9",
      "location": {
        "start": {
          "offset": 598,
          "line": 23,
          "column": 1
        },
        "end": {
          "offset": 639,
          "line": 23,
          "column": 42
        }
      },
      "kind": "run",
      "subtype": "runExec",
      "source": "exec",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "062d3de9-7dc5-463b-92b9-e7a65a4856ad",
            "location": {
              "start": {
                "offset": 604,
                "line": 23,
                "column": 7
              },
              "end": {
                "offset": 639,
                "line": 23,
                "column": 42
              }
            },
            "content": "ask"
          }
        ],
        "args": [
          {
            "type": "Text",
            "nodeId": "d9482b2b-b68f-4ffe-a341-14ad3ad68ea7",
            "location": {
              "start": {
                "offset": 608,
                "line": 23,
                "column": 11
              },
              "end": {
                "offset": 616,
                "line": 23,
                "column": 19
              }
            },
            "content": "@context"
          },
          {
            "type": "Text",
            "nodeId": "c267c44f-d183-435c-8db5-c945216b981c",
            "location": {
              "start": {
                "offset": 618,
                "line": 23,
                "column": 21
              },
              "end": {
                "offset": 626,
                "line": 23,
                "column": 29
              }
            },
            "content": "@role.pm"
          },
          {
            "type": "Text",
            "nodeId": "37bb3204-18fa-4e8e-b927-35ff71e336f5",
            "location": {
              "start": {
                "offset": 628,
                "line": 23,
                "column": 31
              },
              "end": {
                "offset": 638,
                "line": 23,
                "column": 41
              }
            },
            "content": "@pm_review"
          }
        ]
      },
      "raw": {
        "identifier": "ask",
        "args": [
          "@context",
          "@role.pm",
          "@pm_review"
        ]
      },
      "meta": {
        "argumentCount": 3
      }
    }
  ],
  "parseError": null
}