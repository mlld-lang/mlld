{
  "name": "plan",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "@import {*} from \"files/imports.mld\"\n\n@path services = [@./src/services]\n@text code = @run @codecat(@services)\n\n@text context = [[\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n]]\n\n@text arch_review = @run @ask(@context, @role.architect, @task.archrev)\n@text ux_review   = @run @ask(@context, @role.ux, @task.uxrev)\n@text sec_review  = @run @ask(@context, @role.security, @task.secrev)\n\n@text pm_review = [[\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task.roadmap}}\n]]\n\n@run @ask(@context, @role.pm, @pm_review)",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "a860f6f3-ab2e-4277-8db2-96d5a554e159",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 36,
          "line": 1,
          "column": 37
        }
      },
      "kind": "import",
      "subtype": "importAll",
      "source": "path",
      "values": {
        "imports": [
          {
            "type": "VariableReference",
            "nodeId": "68edbc2a-6252-4de3-981d-9d5dea611019",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "import",
            "identifier": "*"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "034417cb-70ec-4c76-809b-df8d75f6ffa2",
            "location": {
              "start": {
                "offset": 17,
                "line": 1,
                "column": 18
              },
              "end": {
                "offset": 36,
                "line": 1,
                "column": 37
              }
            },
            "content": "files/imports.mld"
          }
        ]
      },
      "raw": {
        "imports": "*",
        "path": "files/imports.mld"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": true,
          "extension": "mld",
          "pathSubtype": "filePath"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "118aa8e3-5390-463d-b93e-dc59794938df",
      "location": {
        "start": {
          "offset": 36,
          "line": 1,
          "column": 37
        },
        "end": {
          "offset": 38,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "e6774032-e3cc-402f-902c-8fd034956cfb",
      "location": {
        "start": {
          "offset": 38,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 72,
          "line": 3,
          "column": 35
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "8430c177-baf9-4026-bff8-a4fb957852ee",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "services"
          }
        ],
        "path": [
          {
            "type": "VariableReference",
            "nodeId": "a045acad-76e7-408e-8341-249b9d021a9a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "PROJECTPATH"
          },
          {
            "type": "Text",
            "nodeId": "2e32bff6-0573-4824-8da2-5830a55bab8c",
            "location": {
              "start": {
                "offset": 38,
                "line": 3,
                "column": 1
              },
              "end": {
                "offset": 72,
                "line": 3,
                "column": 35
              }
            },
            "content": "/src/services"
          }
        ]
      },
      "raw": {
        "identifier": "services",
        "path": "@PROJECTPATH/src/services"
      },
      "meta": {
        "path": {
          "hasVariables": true,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "bf02db28-b37e-40c1-ae79-6e0a833b149f",
      "location": {
        "start": {
          "offset": 72,
          "line": 3,
          "column": 35
        },
        "end": {
          "offset": 73,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "11283bf4-d47f-4bef-a8ef-27f17447cc1b",
      "location": {
        "start": {
          "offset": 73,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 110,
          "line": 4,
          "column": 38
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "c3ef44c9-2ebd-46b4-b7b8-c97ffc6cf958",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "code"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "d5d623ba-5b91-4804-8c0a-4f8bb8fafdad",
            "location": {
              "start": {
                "offset": 73,
                "line": 4,
                "column": 1
              },
              "end": {
                "offset": 110,
                "line": 4,
                "column": 38
              }
            },
            "content": "@run @codecat(@services)"
          }
        ]
      },
      "raw": {
        "identifier": "code",
        "content": "@run @codecat(@services)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "codecat"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "a9d10655-64af-4474-bc29-483ef686b829",
      "location": {
        "start": {
          "offset": 110,
          "line": 4,
          "column": 38
        },
        "end": {
          "offset": 112,
          "line": 6,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "49cc9fde-981b-40f6-967d-4d8dab05cc6e",
      "location": {
        "start": {
          "offset": 112,
          "line": 6,
          "column": 1
        },
        "end": {
          "offset": 187,
          "line": 9,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "8419fd85-75b1-4157-a656-66f7da57c37d",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "context"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "8c820e66-70a7-4e4c-841d-e14495eb1d51",
            "location": {
              "start": {
                "offset": 130,
                "line": 6,
                "column": 19
              },
              "end": {
                "offset": 148,
                "line": 7,
                "column": 18
              }
            },
            "content": "\n  Read our docs: "
          },
          {
            "type": "VariableReference",
            "nodeId": "a5ec5e7c-e148-423f-b6de-4287ce6fd2bc",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "docs"
          },
          {
            "type": "Text",
            "nodeId": "950c2128-a229-4881-91d0-b95f777919f6",
            "location": {
              "start": {
                "offset": 156,
                "line": 7,
                "column": 26
              },
              "end": {
                "offset": 176,
                "line": 8,
                "column": 20
              }
            },
            "content": "\n  Review our code: "
          },
          {
            "type": "VariableReference",
            "nodeId": "beab65b7-1c67-465d-8b7f-c0d0ffdd9d44",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "code"
          },
          {
            "type": "Text",
            "nodeId": "b8d95d85-a0be-4945-8736-4fd2be39848a",
            "location": {
              "start": {
                "offset": 184,
                "line": 8,
                "column": 28
              },
              "end": {
                "offset": 185,
                "line": 9,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "context",
        "content": "\n  Read our docs: {{docs}}\n  Review our code: {{code}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "06784e91-947d-4af6-b7a7-a354324ba5d3",
      "location": {
        "start": {
          "offset": 187,
          "line": 9,
          "column": 3
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "f919de63-af75-4e77-9cb1-6c474d2849bb",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 260,
          "line": 11,
          "column": 72
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "14c2303d-dcfd-43a1-b7bb-d1ea37f7d7f2",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "arch_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "3ecb294b-5bba-4e88-a99b-8ae98deba32e",
            "location": {
              "start": {
                "offset": 189,
                "line": 11,
                "column": 1
              },
              "end": {
                "offset": 260,
                "line": 11,
                "column": 72
              }
            },
            "content": "@run @ask(@context, @role.architect, @task.archrev)"
          }
        ]
      },
      "raw": {
        "identifier": "arch_review",
        "content": "@run @ask(@context, @role.architect, @task.archrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "eee4bc6b-1bc3-4d3d-85a1-1800cd6c92da",
      "location": {
        "start": {
          "offset": 260,
          "line": 11,
          "column": 72
        },
        "end": {
          "offset": 261,
          "line": 12,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "e9ce585b-bd63-47df-8e08-d56c789c044e",
      "location": {
        "start": {
          "offset": 261,
          "line": 12,
          "column": 1
        },
        "end": {
          "offset": 323,
          "line": 12,
          "column": 63
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "284e31ad-4f34-488f-b868-47835617ea0f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "ux_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "00374119-d177-4e8b-87c7-bac5cb5dcd9b",
            "location": {
              "start": {
                "offset": 261,
                "line": 12,
                "column": 1
              },
              "end": {
                "offset": 323,
                "line": 12,
                "column": 63
              }
            },
            "content": "@run @ask(@context, @role.ux, @task.uxrev)"
          }
        ]
      },
      "raw": {
        "identifier": "ux_review",
        "content": "@run @ask(@context, @role.ux, @task.uxrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "71482b3c-fcdb-43b7-a111-ba51600bdc13",
      "location": {
        "start": {
          "offset": 323,
          "line": 12,
          "column": 63
        },
        "end": {
          "offset": 324,
          "line": 13,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "cdc21a1b-3382-4c7f-9b93-c14e9d2d7844",
      "location": {
        "start": {
          "offset": 324,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 393,
          "line": 13,
          "column": 70
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "bd7aac0b-58cc-4582-a226-362d629e8e73",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "sec_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "911be4d1-b867-4903-9824-73411264fa26",
            "location": {
              "start": {
                "offset": 324,
                "line": 13,
                "column": 1
              },
              "end": {
                "offset": 393,
                "line": 13,
                "column": 70
              }
            },
            "content": "@run @ask(@context, @role.security, @task.secrev)"
          }
        ]
      },
      "raw": {
        "identifier": "sec_review",
        "content": "@run @ask(@context, @role.security, @task.secrev)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "ask"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "5e1040cf-7570-494b-b1d1-81931eae8dcf",
      "location": {
        "start": {
          "offset": 393,
          "line": 13,
          "column": 70
        },
        "end": {
          "offset": 395,
          "line": 15,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "e9a4ea31-170e-45d8-98c7-2fe75b848956",
      "location": {
        "start": {
          "offset": 395,
          "line": 15,
          "column": 1
        },
        "end": {
          "offset": 596,
          "line": 21,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "6bb36177-b2c8-477a-9d10-9d1d4a49266b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "pm_review"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "d4a93220-8186-47ba-9a7b-98686aefae81",
            "location": {
              "start": {
                "offset": 415,
                "line": 15,
                "column": 21
              },
              "end": {
                "offset": 483,
                "line": 17,
                "column": 23
              }
            },
            "content": "\n  Here's the team's input on our priorities:\n  - Architect review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "8d5bec7b-56d9-497b-96d0-a2a91b8496ee",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "arch_review"
          },
          {
            "type": "Text",
            "nodeId": "dbbbdf39-dd66-4a3f-8960-f766d6dc5989",
            "location": {
              "start": {
                "offset": 498,
                "line": 17,
                "column": 38
              },
              "end": {
                "offset": 514,
                "line": 18,
                "column": 16
              }
            },
            "content": "\n  - UX review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "002632c6-8fb7-463a-9bc0-d2a98b30311e",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "ux_review"
          },
          {
            "type": "Text",
            "nodeId": "4896f798-5ccb-49d8-8e44-95aad069b62b",
            "location": {
              "start": {
                "offset": 527,
                "line": 18,
                "column": 29
              },
              "end": {
                "offset": 549,
                "line": 19,
                "column": 22
              }
            },
            "content": "\n  - Security review: "
          },
          {
            "type": "VariableReference",
            "nodeId": "c7f23856-7357-406d-a614-01f9942638d8",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "sec_review"
          },
          {
            "type": "Text",
            "nodeId": "aabd7da8-b47f-4c0f-a63a-4676c9148a14",
            "location": {
              "start": {
                "offset": 563,
                "line": 19,
                "column": 36
              },
              "end": {
                "offset": 577,
                "line": 20,
                "column": 14
              }
            },
            "content": "\n  Your task: "
          },
          {
            "type": "VariableReference",
            "nodeId": "bd599b50-9e2d-4bfb-854d-4681662db4a3",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "task",
            "fields": [
              {
                "type": "field",
                "name": "roadmap"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "2e637787-3124-4f89-93b8-78150439dba9",
            "location": {
              "start": {
                "offset": 593,
                "line": 20,
                "column": 30
              },
              "end": {
                "offset": 594,
                "line": 21,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "pm_review",
        "content": "\n  Here's the team's input on our priorities:\n  - Architect review: {{arch_review}}\n  - UX review: {{ux_review}}\n  - Security review: {{sec_review}}\n  Your task: {{task}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "91f89fab-3de2-4a7a-be13-6b6be452319f",
      "location": {
        "start": {
          "offset": 596,
          "line": 21,
          "column": 3
        },
        "end": {
          "offset": 598,
          "line": 23,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "840eb24c-4c05-48a7-9ed6-e0273ca92d51",
      "location": {
        "start": {
          "offset": 598,
          "line": 23,
          "column": 1
        },
        "end": {
          "offset": 639,
          "line": 23,
          "column": 42
        }
      },
      "kind": "run",
      "subtype": "runExec",
      "source": "exec",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "f0053a53-ee8d-46a9-bffc-3cb13f6e6d75",
            "location": {
              "start": {
                "offset": 604,
                "line": 23,
                "column": 7
              },
              "end": {
                "offset": 639,
                "line": 23,
                "column": 42
              }
            },
            "content": "ask"
          }
        ],
        "args": [
          {
            "type": "Text",
            "nodeId": "39849a17-1b7d-43ce-84b4-cec956aed96f",
            "location": {
              "start": {
                "offset": 608,
                "line": 23,
                "column": 11
              },
              "end": {
                "offset": 616,
                "line": 23,
                "column": 19
              }
            },
            "content": "@context"
          },
          {
            "type": "Text",
            "nodeId": "999355bc-4369-495a-9465-7fcc12c02b04",
            "location": {
              "start": {
                "offset": 618,
                "line": 23,
                "column": 21
              },
              "end": {
                "offset": 626,
                "line": 23,
                "column": 29
              }
            },
            "content": "@role.pm"
          },
          {
            "type": "Text",
            "nodeId": "5d37e887-f19a-49dc-bc53-55e5342a2c14",
            "location": {
              "start": {
                "offset": 628,
                "line": 23,
                "column": 31
              },
              "end": {
                "offset": 638,
                "line": 23,
                "column": 41
              }
            },
            "content": "@pm_review"
          }
        ]
      },
      "raw": {
        "identifier": "ask",
        "args": [
          "@context",
          "@role.pm",
          "@pm_review"
        ]
      },
      "meta": {
        "argumentCount": 3
      }
    }
  ],
  "parseError": null
}