{
  "name": "complex-test-5-mixed-operations",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "# Complex Test 5: Mixed Operations and Error Handling\n\n# Setup various data types\n@text string_var = \"Hello, World!\"\n@data number_var = 42\n@data boolean_var = true\n@data null_var = null\n@data array_var = [\"first\", \"second\", \"third\"]\n@data object_var = {\"key\": \"value\", \"nested\": {\"deep\": \"data\"}}\n\n# Path variables with special characters\n@path home = @~\n@path project = @./\n@path parent = @../\n\n# Test various operations\n@text operations_test = [[\n# Mixed Operations Test\n\n## Variable Types\n- String: {{string_var}}\n- Number: {{number_var}}\n- Boolean: {{boolean_var}}\n- Null: {{null_var}}\n- Array: {{array_var}}\n- Object: {{object_var}}\n\n## Array Operations\n- First element: {{array_var.0}}\n- Second element: {{array_var.1}}\n- Last element: {{array_var.2}}\n\n## Object Operations\n- Direct access: {{object_var.key}}\n- Nested access: {{object_var.nested.deep}}\n\n## Path Operations\n- Home: {{home}}\n- Project: {{project}}\n- Parent: {{parent}}\n\n## Mixed Template\nThe answer is {{number_var}} and the message is \"{{string_var}}\"\nArray has {{array_var}} items\nObject keys: {{object_var}}\n]]\n\n# Test exec with complex parameters\n@exec process_data(arr, obj) = @run [echo \"Array: @arr, Object: @obj\" | wc -l]\n\n# Test add with various sources\n@add @operations_test\n\n## Command with Variables\n@run [echo \"String: @string_var, Number: @number_var\"]\n\n# Test command execution\n@text command_result = @run @process_data(@array_var, @object_var)\n\n## Command Result\nLines counted: @add @command_result\n\n# Test inline operations\nFinal thought: The value {{number_var}} with {{string_var}} makes {{boolean_var}}",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Text",
      "nodeId": "6d2c7ca9-0b90-49dc-9ae8-167b03f386bd",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 82,
          "line": 4,
          "column": 1
        }
      },
      "content": "# Complex Test 5: Mixed Operations and Error Handling\n\n# Setup various data types\n"
    },
    {
      "type": "Directive",
      "nodeId": "01b99790-fcf6-478c-8726-1846dab3f461",
      "location": {
        "start": {
          "offset": 82,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 116,
          "line": 4,
          "column": 35
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "5d0ac7e1-ed12-4b55-af1a-e6f69062ba13",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "string_var"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "f6552178-3c02-46a4-a1b7-e80e121dc096",
            "location": {
              "start": {
                "offset": 101,
                "line": 4,
                "column": 20
              },
              "end": {
                "offset": 116,
                "line": 4,
                "column": 35
              }
            },
            "content": "Hello, World!"
          }
        ]
      },
      "raw": {
        "identifier": "string_var",
        "content": "Hello, World!"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "e1f1d85e-4b31-450f-9c72-55f8bc9f39d4",
      "location": {
        "start": {
          "offset": 116,
          "line": 4,
          "column": 35
        },
        "end": {
          "offset": 117,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "efff30af-0a2c-4973-9cc8-9c863d675d14",
      "location": {
        "start": {
          "offset": 117,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 138,
          "line": 5,
          "column": 22
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "c464c57c-b4dd-4cf4-90b1-6ed254a1169a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "number_var"
          }
        ],
        "value": [
          42
        ]
      },
      "raw": {
        "identifier": "number_var",
        "value": "42"
      },
      "meta": {
        "primitiveType": "number"
      }
    },
    {
      "type": "Newline",
      "nodeId": "89f703ae-ce3a-45bb-a1e8-03df48842ef3",
      "location": {
        "start": {
          "offset": 138,
          "line": 5,
          "column": 22
        },
        "end": {
          "offset": 139,
          "line": 6,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "7f1bdbcf-9e56-4e73-83bc-15d3b62d355d",
      "location": {
        "start": {
          "offset": 139,
          "line": 6,
          "column": 1
        },
        "end": {
          "offset": 163,
          "line": 6,
          "column": 25
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "2aed7b1e-0e9d-41d6-84d5-2e465b33eac7",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "boolean_var"
          }
        ],
        "value": [
          true
        ]
      },
      "raw": {
        "identifier": "boolean_var",
        "value": "true"
      },
      "meta": {
        "primitiveType": "boolean"
      }
    },
    {
      "type": "Newline",
      "nodeId": "f7fd6a3a-14eb-43a7-b955-1e99d714d713",
      "location": {
        "start": {
          "offset": 163,
          "line": 6,
          "column": 25
        },
        "end": {
          "offset": 164,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "4cb99554-42be-45fb-b58c-64c6f0470da4",
      "location": {
        "start": {
          "offset": 164,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 185,
          "line": 7,
          "column": 22
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "937d77f7-13c3-4196-8509-b1e6a22f75bb",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "null_var"
          }
        ],
        "value": [
          {
            "type": "Null",
            "nodeId": "f8f5355b-e86b-4943-8fa2-0ba8393591f6",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "value": null
          }
        ]
      },
      "raw": {
        "identifier": "null_var",
        "value": "{\"type\":\"Null\",\"nodeId\":\"f8f5355b-e86b-4943-8fa2-0ba8393591f6\",\"location\":{\"start\":{\"offset\":0,\"line\":1,\"column\":1},\"end\":{\"offset\":0,\"line\":1,\"column\":1}},\"value\":null}"
      },
      "meta": {}
    },
    {
      "type": "Newline",
      "nodeId": "b26d15aa-3ea7-4e28-a7d8-bfb993b9af42",
      "location": {
        "start": {
          "offset": 185,
          "line": 7,
          "column": 22
        },
        "end": {
          "offset": 186,
          "line": 8,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "34e34ab7-56c6-402a-bcfe-28e13e6d77e2",
      "location": {
        "start": {
          "offset": 186,
          "line": 8,
          "column": 1
        },
        "end": {
          "offset": 232,
          "line": 8,
          "column": 47
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "array",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "28a7de44-cf51-4e3f-a5ce-2cbc67693f6a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "array_var"
          }
        ],
        "value": {
          "type": "array",
          "items": [
            [
              {
                "type": "Text",
                "nodeId": "1c3cc212-91d9-40f7-af77-95e45b2f705d",
                "location": {
                  "start": {
                    "offset": 205,
                    "line": 8,
                    "column": 20
                  },
                  "end": {
                    "offset": 212,
                    "line": 8,
                    "column": 27
                  }
                },
                "content": "first"
              }
            ],
            [
              {
                "type": "Text",
                "nodeId": "73f3d48f-0b8f-457d-831a-b74b70b873ea",
                "location": {
                  "start": {
                    "offset": 214,
                    "line": 8,
                    "column": 29
                  },
                  "end": {
                    "offset": 222,
                    "line": 8,
                    "column": 37
                  }
                },
                "content": "second"
              }
            ],
            [
              {
                "type": "Text",
                "nodeId": "839a230b-8ada-4e04-875e-68b8aa2b44cd",
                "location": {
                  "start": {
                    "offset": 224,
                    "line": 8,
                    "column": 39
                  },
                  "end": {
                    "offset": 231,
                    "line": 8,
                    "column": 46
                  }
                },
                "content": "third"
              }
            ]
          ]
        }
      },
      "raw": {
        "identifier": "array_var",
        "value": "[\n  [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"1c3cc212-91d9-40f7-af77-95e45b2f705d\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 205,\n          \"line\": 8,\n          \"column\": 20\n        },\n        \"end\": {\n          \"offset\": 212,\n          \"line\": 8,\n          \"column\": 27\n        }\n      },\n      \"content\": \"first\"\n    }\n  ],\n  [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"73f3d48f-0b8f-457d-831a-b74b70b873ea\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 214,\n          \"line\": 8,\n          \"column\": 29\n        },\n        \"end\": {\n          \"offset\": 222,\n          \"line\": 8,\n          \"column\": 37\n        }\n      },\n      \"content\": \"second\"\n    }\n  ],\n  [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"839a230b-8ada-4e04-875e-68b8aa2b44cd\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 224,\n          \"line\": 8,\n          \"column\": 39\n        },\n        \"end\": {\n          \"offset\": 231,\n          \"line\": 8,\n          \"column\": 46\n        }\n      },\n      \"content\": \"third\"\n    }\n  ]\n]"
      },
      "meta": {
        "arrayData": {
          "itemCount": 3
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "4c6159aa-de77-41e8-b678-a8fa77e4ef4d",
      "location": {
        "start": {
          "offset": 232,
          "line": 8,
          "column": 47
        },
        "end": {
          "offset": 233,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "89bf57ba-dcb9-41ac-a130-f4c1ae288e46",
      "location": {
        "start": {
          "offset": 233,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 296,
          "line": 9,
          "column": 64
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "44b7a6fc-8f05-402e-85e3-1f5d89963dc9",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "object_var"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "key": [
              {
                "type": "Text",
                "nodeId": "54407acf-c8a7-4c64-9185-0e78ed6f244a",
                "location": {
                  "start": {
                    "offset": 260,
                    "line": 9,
                    "column": 28
                  },
                  "end": {
                    "offset": 267,
                    "line": 9,
                    "column": 35
                  }
                },
                "content": "value"
              }
            ],
            "nested": {
              "type": "object",
              "properties": {
                "deep": [
                  {
                    "type": "Text",
                    "nodeId": "4b6e30cd-b4ee-4e78-82ba-49f8892e2cca",
                    "location": {
                      "start": {
                        "offset": 288,
                        "line": 9,
                        "column": 56
                      },
                      "end": {
                        "offset": 294,
                        "line": 9,
                        "column": 62
                      }
                    },
                    "content": "data"
                  }
                ]
              }
            }
          }
        }
      },
      "raw": {
        "identifier": "object_var",
        "value": "{\n  \"key\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"54407acf-c8a7-4c64-9185-0e78ed6f244a\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 260,\n          \"line\": 9,\n          \"column\": 28\n        },\n        \"end\": {\n          \"offset\": 267,\n          \"line\": 9,\n          \"column\": 35\n        }\n      },\n      \"content\": \"value\"\n    }\n  ],\n  \"nested\": {\n    \"type\": \"object\",\n    \"properties\": {\n      \"deep\": [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"4b6e30cd-b4ee-4e78-82ba-49f8892e2cca\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 288,\n              \"line\": 9,\n              \"column\": 56\n            },\n            \"end\": {\n              \"offset\": 294,\n              \"line\": 9,\n              \"column\": 62\n            }\n          },\n          \"content\": \"data\"\n        }\n      ]\n    }\n  }\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 2
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "e209ef4e-a73f-42fc-b2bc-9d2bf2777b72",
      "location": {
        "start": {
          "offset": 296,
          "line": 9,
          "column": 64
        },
        "end": {
          "offset": 339,
          "line": 12,
          "column": 1
        }
      },
      "content": "\n\n# Path variables with special characters\n"
    },
    {
      "type": "Directive",
      "nodeId": "ec35e80d-05c9-4671-b6b4-d87f26452171",
      "location": {
        "start": {
          "offset": 339,
          "line": 12,
          "column": 1
        },
        "end": {
          "offset": 354,
          "line": 12,
          "column": 16
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "7c90b572-0a1b-4b9b-a989-b2d2ef8c19ed",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "home"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "c7becbaf-4f91-4312-a5af-62f1411cb232",
            "location": {
              "start": {
                "offset": 352,
                "line": 12,
                "column": 14
              },
              "end": {
                "offset": 354,
                "line": 12,
                "column": 16
              }
            },
            "content": "@~"
          }
        ]
      },
      "raw": {
        "identifier": "home",
        "path": "@HOMEPATH"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null,
          "pathSubtype": "filePath"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "40d34e98-c7e9-4f54-9650-ebf71c550023",
      "location": {
        "start": {
          "offset": 354,
          "line": 12,
          "column": 16
        },
        "end": {
          "offset": 355,
          "line": 13,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "c7e3b75b-42d8-4a12-80bd-461afb5268bd",
      "location": {
        "start": {
          "offset": 355,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 374,
          "line": 13,
          "column": 20
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "138b0932-148c-447b-a37a-24548af12204",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "project"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "ad1ec706-caed-43a2-8f39-0f48fdc9e3b1",
            "location": {
              "start": {
                "offset": 371,
                "line": 13,
                "column": 17
              },
              "end": {
                "offset": 373,
                "line": 13,
                "column": 19
              }
            },
            "content": "@."
          },
          {
            "type": "PathSeparator",
            "nodeId": "3c4e9273-9529-4b6a-92e4-401faba5d635",
            "location": {
              "start": {
                "offset": 373,
                "line": 13,
                "column": 19
              },
              "end": {
                "offset": 374,
                "line": 13,
                "column": 20
              }
            },
            "value": "/"
          }
        ]
      },
      "raw": {
        "identifier": "project",
        "path": "@PROJECTPATH/"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null,
          "pathSubtype": "filePath"
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "87763d4e-0619-4587-9038-1e9245a2eff7",
      "location": {
        "start": {
          "offset": 374,
          "line": 13,
          "column": 20
        },
        "end": {
          "offset": 375,
          "line": 14,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "833cb94f-c306-4cbe-a955-1da0d430a055",
      "location": {
        "start": {
          "offset": 375,
          "line": 14,
          "column": 1
        },
        "end": {
          "offset": 402,
          "line": 16,
          "column": 7
        }
      },
      "kind": "path",
      "subtype": "pathAssignment",
      "source": "path",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "32a56bd8-8682-4d51-9f1a-8fae71f2aac6",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "parent"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "c0bf9c62-9b84-44d0-9d6a-2690092fe55f",
            "location": {
              "start": {
                "offset": 390,
                "line": 14,
                "column": 16
              },
              "end": {
                "offset": 393,
                "line": 14,
                "column": 19
              }
            },
            "content": "@.."
          },
          {
            "type": "PathSeparator",
            "nodeId": "7728613a-92e4-4ebd-ac7c-bee484a4aa69",
            "location": {
              "start": {
                "offset": 393,
                "line": 14,
                "column": 19
              },
              "end": {
                "offset": 394,
                "line": 14,
                "column": 20
              }
            },
            "value": "/"
          }
        ]
      },
      "raw": {
        "identifier": "parent",
        "path": "@PROJECTPATH./"
      },
      "meta": {
        "path": {
          "hasVariables": false,
          "isAbsolute": false,
          "hasExtension": false,
          "extension": null,
          "hasSection": true,
          "pathSubtype": "fileSectionPath"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "d5a1be61-2945-411d-9d98-21704c37de63",
      "location": {
        "start": {
          "offset": 402,
          "line": 16,
          "column": 7
        },
        "end": {
          "offset": 422,
          "line": 17,
          "column": 1
        }
      },
      "content": " various operations\n"
    },
    {
      "type": "Directive",
      "nodeId": "3184107e-f69c-4d6f-8426-bdc9636719cf",
      "location": {
        "start": {
          "offset": 422,
          "line": 17,
          "column": 1
        },
        "end": {
          "offset": 1084,
          "line": 46,
          "column": 2
        }
      },
      "kind": "text",
      "subtype": "textPathSection",
      "source": "section",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "b5d134f2-40b3-4c51-b1be-302af07472b8",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "operations_test"
          }
        ],
        "section": [
          {
            "type": "Text",
            "nodeId": "ced92a51-ae64-4963-89fd-fe844592d333",
            "location": {
              "start": {
                "offset": 422,
                "line": 17,
                "column": 1
              },
              "end": {
                "offset": 1084,
                "line": 46,
                "column": 2
              }
            },
            "content": "Mixed Operations Test\n\n## Variable Types\n- String: {{string_var}}\n- Number: {{number_var}}\n- Boolean: {{boolean_var}}\n- Null: {{null_var}}\n- Array: {{array_var}}\n- Object: {{object_var}}\n\n## Array Operations\n- First element: {{array_var.0}}\n- Second element: {{array_var.1}}\n- Last element: {{array_var.2}}\n\n## Object Operations\n- Direct access: {{object_var.key}}\n- Nested access: {{object_var.nested.deep}}\n\n## Path Operations\n- Home: {{home}}\n- Project: {{project}}\n- Parent: {{parent}}\n\n## Mixed Template\nThe answer is {{number_var}} and the message is \"{{string_var}}\"\nArray has {{array_var}} items\nObject keys: {{object_var}}"
          }
        ],
        "path": [
          {
            "type": "Text",
            "nodeId": "3c0ef919-376f-4a7c-895a-df8fe19d1a48",
            "location": {
              "start": {
                "offset": 422,
                "line": 17,
                "column": 1
              },
              "end": {
                "offset": 1084,
                "line": 46,
                "column": 2
              }
            },
            "content": "["
          }
        ]
      },
      "raw": {
        "identifier": "operations_test",
        "section": "Mixed Operations Test\n\n## Variable Types\n- String: {{string_var}}\n- Number: {{number_var}}\n- Boolean: {{boolean_var}}\n- Null: {{null_var}}\n- Array: {{array_var}}\n- Object: {{object_var}}\n\n## Array Operations\n- First element: {{array_var.0}}\n- Second element: {{array_var.1}}\n- Last element: {{array_var.2}}\n\n## Object Operations\n- Direct access: {{object_var.key}}\n- Nested access: {{object_var.nested.deep}}\n\n## Path Operations\n- Home: {{home}}\n- Project: {{project}}\n- Parent: {{parent}}\n\n## Mixed Template\nThe answer is {{number_var}} and the message is \"{{string_var}}\"\nArray has {{array_var}} items\nObject keys: {{object_var}}",
        "path": "["
      },
      "meta": {
        "sourceType": "section",
        "hasRename": false,
        "hasVariables": false
      }
    },
    {
      "type": "Text",
      "nodeId": "8b6bd929-17cd-42de-a22c-50e987aabcb0",
      "location": {
        "start": {
          "offset": 1084,
          "line": 46,
          "column": 2
        },
        "end": {
          "offset": 1123,
          "line": 49,
          "column": 1
        }
      },
      "content": "]\n\n# Test exec with complex parameters\n"
    },
    {
      "type": "Directive",
      "nodeId": "8eb7fa44-3538-48be-bad5-03dae13ea024",
      "location": {
        "start": {
          "offset": 1123,
          "line": 49,
          "column": 1
        },
        "end": {
          "offset": 1201,
          "line": 49,
          "column": 79
        }
      },
      "kind": "exec",
      "subtype": "execCommand",
      "source": "command",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "7ec9b85e-c7d0-4ff9-83fe-b44baf81bc80",
            "location": {
              "start": {
                "offset": 1123,
                "line": 49,
                "column": 1
              },
              "end": {
                "offset": 1201,
                "line": 49,
                "column": 79
              }
            },
            "content": "process_data"
          }
        ],
        "params": [
          "arr",
          "obj"
        ],
        "command": [
          {
            "type": "Text",
            "nodeId": "f997fd71-3a44-42ca-b2a9-79cc890989bf",
            "location": {
              "start": {
                "offset": 1160,
                "line": 49,
                "column": 38
              },
              "end": {
                "offset": 1173,
                "line": 49,
                "column": 51
              }
            },
            "content": "echo \"Array: "
          },
          {
            "type": "VariableReference",
            "nodeId": "5e53683c-34b5-4e49-b81e-1f9ac1c43c34",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "arr"
          },
          {
            "type": "Text",
            "nodeId": "06c601a3-5929-46ea-9402-10d04cffd230",
            "location": {
              "start": {
                "offset": 1177,
                "line": 49,
                "column": 55
              },
              "end": {
                "offset": 1187,
                "line": 49,
                "column": 65
              }
            },
            "content": ", Object: "
          },
          {
            "type": "VariableReference",
            "nodeId": "40a94bab-655a-4f53-a4a2-475e60db0d85",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "obj"
          },
          {
            "type": "Text",
            "nodeId": "9a92b82e-9433-4b11-9263-30b6b7298f53",
            "location": {
              "start": {
                "offset": 1191,
                "line": 49,
                "column": 69
              },
              "end": {
                "offset": 1200,
                "line": 49,
                "column": 78
              }
            },
            "content": "\" | wc -l"
          }
        ],
        "commandBases": [
          {
            "nodeId": "e308c405-d954-4e15-8997-d58ee1454e2b",
            "location": {
              "start": {
                "offset": 1159,
                "line": 49,
                "column": 37
              },
              "end": {
                "offset": 1201,
                "line": 49,
                "column": 79
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "5412ba7d-b201-4f4c-a2c9-a6fd4d493973",
            "location": {
              "start": {
                "offset": 1159,
                "line": 49,
                "column": 37
              },
              "end": {
                "offset": 1201,
                "line": 49,
                "column": 79
              }
            },
            "command": "wc"
          }
        ]
      },
      "raw": {
        "identifier": "process_data",
        "params": [
          "arr",
          "obj"
        ],
        "command": "echo \"Array: @arr, Object: @obj\" | wc -l",
        "commandBases": [
          "echo",
          "wc"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 2,
        "hasScriptRunner": false,
        "parameterCount": 2
      }
    },
    {
      "type": "Text",
      "nodeId": "1badf49c-0de9-4811-b52d-44eebecc0780",
      "location": {
        "start": {
          "offset": 1201,
          "line": 49,
          "column": 79
        },
        "end": {
          "offset": 1235,
          "line": 52,
          "column": 1
        }
      },
      "content": "\n\n# Test add with various sources\n"
    },
    {
      "type": "Directive",
      "nodeId": "1c295f03-225f-4440-943f-4cf87d454115",
      "location": {
        "start": {
          "offset": 1235,
          "line": 52,
          "column": 1
        },
        "end": {
          "offset": 1258,
          "line": 54,
          "column": 1
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "bf2e6ef2-7b66-474e-b2b5-4292f3d1b818",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "operations_test"
          }
        ]
      },
      "raw": {
        "variable": "@operations_test"
      },
      "meta": {}
    },
    {
      "type": "Text",
      "nodeId": "11cabac2-b6ed-4138-a4a7-d89e451674ae",
      "location": {
        "start": {
          "offset": 1258,
          "line": 54,
          "column": 1
        },
        "end": {
          "offset": 1284,
          "line": 55,
          "column": 1
        }
      },
      "content": "## Command with Variables\n"
    },
    {
      "type": "Directive",
      "nodeId": "bf3b2b1b-d234-4be9-8ad8-f0dfd1070579",
      "location": {
        "start": {
          "offset": 1284,
          "line": 55,
          "column": 1
        },
        "end": {
          "offset": 1338,
          "line": 55,
          "column": 55
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "41697920-f2ce-4581-a22c-1309cb8e2024",
            "location": {
              "start": {
                "offset": 1290,
                "line": 55,
                "column": 7
              },
              "end": {
                "offset": 1304,
                "line": 55,
                "column": 21
              }
            },
            "content": "echo \"String: "
          },
          {
            "type": "VariableReference",
            "nodeId": "60f6f112-7913-4a84-a0bb-45f6b09cde5a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "string_var"
          },
          {
            "type": "Text",
            "nodeId": "3b8e309e-da6a-43e7-9305-c5de4547a094",
            "location": {
              "start": {
                "offset": 1315,
                "line": 55,
                "column": 32
              },
              "end": {
                "offset": 1325,
                "line": 55,
                "column": 42
              }
            },
            "content": ", Number: "
          },
          {
            "type": "VariableReference",
            "nodeId": "d94bfabb-6198-4a89-835e-6248080cc705",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "number_var"
          },
          {
            "type": "Text",
            "nodeId": "747c6cd1-97ff-4366-9fe0-a50d857930bb",
            "location": {
              "start": {
                "offset": 1336,
                "line": 55,
                "column": 53
              },
              "end": {
                "offset": 1337,
                "line": 55,
                "column": 54
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "61eb8eda-c478-445d-ac6f-7bd25b8b0ab7",
            "location": {
              "start": {
                "offset": 1289,
                "line": 55,
                "column": 6
              },
              "end": {
                "offset": 1338,
                "line": 55,
                "column": 55
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "command": "echo \"String: @string_var, Number: @number_var\"",
        "commandBases": [
          "echo"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "aae071fa-fc7c-453c-84d2-28489d9169f9",
      "location": {
        "start": {
          "offset": 1338,
          "line": 55,
          "column": 55
        },
        "end": {
          "offset": 1365,
          "line": 58,
          "column": 1
        }
      },
      "content": "\n\n# Test command execution\n"
    },
    {
      "type": "Directive",
      "nodeId": "75484671-c3e0-4669-bdad-b3cf7bada41f",
      "location": {
        "start": {
          "offset": 1365,
          "line": 58,
          "column": 1
        },
        "end": {
          "offset": 1431,
          "line": 58,
          "column": 67
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "65e4a6c8-5c17-4aab-9986-98415b3c688f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "command_result"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "9c24e24c-c472-4aac-bc7a-a1ca53acd4c3",
            "location": {
              "start": {
                "offset": 1365,
                "line": 58,
                "column": 1
              },
              "end": {
                "offset": 1431,
                "line": 58,
                "column": 67
              }
            },
            "content": "@run @process_data(@array_var, @object_var)"
          }
        ]
      },
      "raw": {
        "identifier": "command_result",
        "content": "@run @process_data(@array_var, @object_var)"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommandRef": true,
          "commandName": "process_data"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "bc3703cd-e7b3-455d-8663-b27e0141f2a7",
      "location": {
        "start": {
          "offset": 1431,
          "line": 58,
          "column": 67
        },
        "end": {
          "offset": 1538,
          "line": 64,
          "column": 26
        }
      },
      "content": "\n\n## Command Result\nLines counted: @add @command_result\n\n# Test inline operations\nFinal thought: The value "
    },
    {
      "type": "VariableReference",
      "nodeId": "3607a9b8-b1fa-4cf1-bb33-582ae9d39b08",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 0,
          "line": 1,
          "column": 1
        }
      },
      "valueType": "varInterpolation",
      "identifier": "number_var"
    },
    {
      "type": "Text",
      "nodeId": "4aed4c78-939c-4a4f-b386-735496add4d5",
      "location": {
        "start": {
          "offset": 1552,
          "line": 64,
          "column": 40
        },
        "end": {
          "offset": 1558,
          "line": 64,
          "column": 46
        }
      },
      "content": " with "
    },
    {
      "type": "VariableReference",
      "nodeId": "7fe82a89-1e58-4d72-8788-1d5315c1e6cc",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 0,
          "line": 1,
          "column": 1
        }
      },
      "valueType": "varInterpolation",
      "identifier": "string_var"
    },
    {
      "type": "Text",
      "nodeId": "087a4234-ad3c-458d-84cd-3fa070ae6dfc",
      "location": {
        "start": {
          "offset": 1572,
          "line": 64,
          "column": 60
        },
        "end": {
          "offset": 1579,
          "line": 64,
          "column": 67
        }
      },
      "content": " makes "
    },
    {
      "type": "VariableReference",
      "nodeId": "7cc52099-ce28-42b8-b7da-4d5da198cb60",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 0,
          "line": 1,
          "column": 1
        }
      },
      "valueType": "varInterpolation",
      "identifier": "boolean_var"
    }
  ],
  "parseError": null
}