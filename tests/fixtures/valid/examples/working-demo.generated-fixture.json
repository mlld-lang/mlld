{
  "name": "working-demo",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "# Working Demo\n\n@text greeting = \"Hello from Meld!\"\n@data config = {\n  \"name\": \"Meld Demo\",\n  \"version\": \"1.0.0\",\n  \"features\": [\"templates\", \"imports\", \"data structures\"]\n}\n\n## Basic Text\n@add @greeting\n\n## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n@text date = @run [date +%Y-%m-%d]\nToday's date: @add @date\n\n## Template Example\n@text summary = [[\n=== {{config.name}} ===\nVersion: {{config.version}}\nFeatures: {{config.features.0}}, {{config.features.1}}, {{config.features.2}}\nDate: {{date}}\n]]\n\n@add @summary",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Text",
      "nodeId": "6fc99a28-11cd-47fa-a682-822d850c6689",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 16,
          "line": 3,
          "column": 1
        }
      },
      "content": "# Working Demo\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "ce0790c0-171f-4986-8cef-62c46faffd40",
      "location": {
        "start": {
          "offset": 16,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 51,
          "line": 3,
          "column": 36
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "dec73df1-a012-4cdb-9672-0ea8b8f8a517",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "greeting"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "da3ce117-a91e-45b3-9c6b-3d88fd803816",
            "location": {
              "start": {
                "offset": 33,
                "line": 3,
                "column": 18
              },
              "end": {
                "offset": 51,
                "line": 3,
                "column": 36
              }
            },
            "content": "Hello from Meld!"
          }
        ]
      },
      "raw": {
        "identifier": "greeting",
        "content": "Hello from Meld!"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "3f7f8333-3039-476c-86f3-21abb2beb81b",
      "location": {
        "start": {
          "offset": 51,
          "line": 3,
          "column": 36
        },
        "end": {
          "offset": 52,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "e411bc69-169c-4c53-8b64-835fddd07f35",
      "location": {
        "start": {
          "offset": 52,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 173,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "444580a0-f21a-42db-b438-d83913cd122e",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "config"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "name": [
              {
                "type": "Text",
                "nodeId": "38e87481-34dd-4fce-a15c-fd147270240a",
                "location": {
                  "start": {
                    "offset": 79,
                    "line": 5,
                    "column": 11
                  },
                  "end": {
                    "offset": 90,
                    "line": 5,
                    "column": 22
                  }
                },
                "content": "Meld Demo"
              }
            ],
            "version": [
              {
                "type": "Text",
                "nodeId": "95ea4aff-a4c1-464f-a607-2efb95c5b456",
                "location": {
                  "start": {
                    "offset": 105,
                    "line": 6,
                    "column": 14
                  },
                  "end": {
                    "offset": 112,
                    "line": 6,
                    "column": 21
                  }
                },
                "content": "1.0.0"
              }
            ],
            "features": {
              "type": "array",
              "items": [
                [
                  {
                    "type": "Text",
                    "nodeId": "c5f52204-2d17-49d0-bb2a-40fb560298bc",
                    "location": {
                      "start": {
                        "offset": 129,
                        "line": 7,
                        "column": 16
                      },
                      "end": {
                        "offset": 140,
                        "line": 7,
                        "column": 27
                      }
                    },
                    "content": "templates"
                  }
                ],
                [
                  {
                    "type": "Text",
                    "nodeId": "dd0c1d53-69d6-4d15-947e-4b379e4dd203",
                    "location": {
                      "start": {
                        "offset": 142,
                        "line": 7,
                        "column": 29
                      },
                      "end": {
                        "offset": 151,
                        "line": 7,
                        "column": 38
                      }
                    },
                    "content": "imports"
                  }
                ],
                [
                  {
                    "type": "Text",
                    "nodeId": "12256717-cf45-4826-9d35-87d70911fbe6",
                    "location": {
                      "start": {
                        "offset": 153,
                        "line": 7,
                        "column": 40
                      },
                      "end": {
                        "offset": 170,
                        "line": 7,
                        "column": 57
                      }
                    },
                    "content": "data structures"
                  }
                ]
              ]
            }
          }
        }
      },
      "raw": {
        "identifier": "config",
        "value": "{\n  \"name\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"38e87481-34dd-4fce-a15c-fd147270240a\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 79,\n          \"line\": 5,\n          \"column\": 11\n        },\n        \"end\": {\n          \"offset\": 90,\n          \"line\": 5,\n          \"column\": 22\n        }\n      },\n      \"content\": \"Meld Demo\"\n    }\n  ],\n  \"version\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"95ea4aff-a4c1-464f-a607-2efb95c5b456\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 105,\n          \"line\": 6,\n          \"column\": 14\n        },\n        \"end\": {\n          \"offset\": 112,\n          \"line\": 6,\n          \"column\": 21\n        }\n      },\n      \"content\": \"1.0.0\"\n    }\n  ],\n  \"features\": {\n    \"type\": \"array\",\n    \"items\": [\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"c5f52204-2d17-49d0-bb2a-40fb560298bc\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 129,\n              \"line\": 7,\n              \"column\": 16\n            },\n            \"end\": {\n              \"offset\": 140,\n              \"line\": 7,\n              \"column\": 27\n            }\n          },\n          \"content\": \"templates\"\n        }\n      ],\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"dd0c1d53-69d6-4d15-947e-4b379e4dd203\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 142,\n              \"line\": 7,\n              \"column\": 29\n            },\n            \"end\": {\n              \"offset\": 151,\n              \"line\": 7,\n              \"column\": 38\n            }\n          },\n          \"content\": \"imports\"\n        }\n      ],\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"12256717-cf45-4826-9d35-87d70911fbe6\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 153,\n              \"line\": 7,\n              \"column\": 40\n            },\n            \"end\": {\n              \"offset\": 170,\n              \"line\": 7,\n              \"column\": 57\n            }\n          },\n          \"content\": \"data structures\"\n        }\n      ]\n    ]\n  }\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 3
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "b7720101-4fa6-4b95-af8b-cc64ed040f6b",
      "location": {
        "start": {
          "offset": 173,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n## Basic Text\n"
    },
    {
      "type": "Directive",
      "nodeId": "5aa4e5e7-3b6e-47d5-a93b-a4f104f00463",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 205,
          "line": 13,
          "column": 1
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "8400ee95-9759-4613-b88f-591ab152d346",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "greeting"
          }
        ]
      },
      "raw": {
        "variable": "@greeting"
      },
      "meta": {}
    },
    {
      "type": "Text",
      "nodeId": "04312423-f3e1-40e6-9643-c5b3cb9333f5",
      "location": {
        "start": {
          "offset": 205,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 297,
          "line": 18,
          "column": 1
        }
      },
      "content": "## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n"
    },
    {
      "type": "Directive",
      "nodeId": "5a763cd4-dffc-4ce2-8d27-16b63c782ba6",
      "location": {
        "start": {
          "offset": 297,
          "line": 18,
          "column": 1
        },
        "end": {
          "offset": 331,
          "line": 18,
          "column": 35
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "5f49d7f1-0b19-4be4-a459-60ccdcd5111a",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "date"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "f0d86c72-dcdc-46c1-acb2-d30d9a0daec4",
            "location": {
              "start": {
                "offset": 316,
                "line": 18,
                "column": 20
              },
              "end": {
                "offset": 330,
                "line": 18,
                "column": 34
              }
            },
            "content": "date +%Y-%m-%d"
          }
        ]
      },
      "raw": {
        "identifier": "date",
        "content": "@run date +%Y-%m-%d"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "cd373b97-248f-4451-bc55-75949136e305",
      "location": {
        "start": {
          "offset": 331,
          "line": 18,
          "column": 35
        },
        "end": {
          "offset": 378,
          "line": 22,
          "column": 1
        }
      },
      "content": "\nToday's date: @add @date\n\n## Template Example\n"
    },
    {
      "type": "Directive",
      "nodeId": "b1167759-821d-41e4-95d4-ba8515134e4a",
      "location": {
        "start": {
          "offset": 378,
          "line": 22,
          "column": 1
        },
        "end": {
          "offset": 544,
          "line": 27,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "bd78876b-9301-41ea-8648-beb2e0810334",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "summary"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "ea83add9-40ca-4f10-a73d-14d8492ca366",
            "location": {
              "start": {
                "offset": 396,
                "line": 22,
                "column": 19
              },
              "end": {
                "offset": 401,
                "line": 23,
                "column": 5
              }
            },
            "content": "\n=== "
          },
          {
            "type": "VariableReference",
            "nodeId": "da5c1d67-be75-4718-b031-d676590815a7",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "name"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "33edb5aa-96f2-4083-903a-ca5194a9c435",
            "location": {
              "start": {
                "offset": 416,
                "line": 23,
                "column": 20
              },
              "end": {
                "offset": 430,
                "line": 24,
                "column": 10
              }
            },
            "content": " ===\nVersion: "
          },
          {
            "type": "VariableReference",
            "nodeId": "3363225a-768c-4399-960a-a15b7f96d636",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "version"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "809c7c7c-5f34-478e-9716-01fe47282ec0",
            "location": {
              "start": {
                "offset": 448,
                "line": 24,
                "column": 28
              },
              "end": {
                "offset": 459,
                "line": 25,
                "column": 11
              }
            },
            "content": "\nFeatures: "
          },
          {
            "type": "VariableReference",
            "nodeId": "0ddaccfe-57ad-41c9-b5c7-8c3137ff071b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "c32be93e-cbe7-44c5-9aab-088ba5972c0c",
            "location": {
              "start": {
                "offset": 480,
                "line": 25,
                "column": 32
              },
              "end": {
                "offset": 482,
                "line": 25,
                "column": 34
              }
            },
            "content": ", "
          },
          {
            "type": "VariableReference",
            "nodeId": "ade3183d-5aa2-4f44-a29f-2a6d5249c709",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "b4a30c51-6bb2-4ffe-a7f0-828478e35d0a",
            "location": {
              "start": {
                "offset": 503,
                "line": 25,
                "column": 55
              },
              "end": {
                "offset": 505,
                "line": 25,
                "column": 57
              }
            },
            "content": ", "
          },
          {
            "type": "VariableReference",
            "nodeId": "58eeb6d8-cecd-439a-a018-be546a9dcd03",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "23ca95eb-7572-4a27-a764-e54010e43b88",
            "location": {
              "start": {
                "offset": 526,
                "line": 25,
                "column": 78
              },
              "end": {
                "offset": 533,
                "line": 26,
                "column": 7
              }
            },
            "content": "\nDate: "
          },
          {
            "type": "VariableReference",
            "nodeId": "c9eb2e04-8bf4-43bc-84c4-4c4c96955a95",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "date"
          },
          {
            "type": "Text",
            "nodeId": "cbe9376a-e28f-42c6-b811-9ddd83abd840",
            "location": {
              "start": {
                "offset": 541,
                "line": 26,
                "column": 15
              },
              "end": {
                "offset": 542,
                "line": 27,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "summary",
        "content": "\n=== {{config}} ===\nVersion: {{config}}\nFeatures: {{config}}, {{config}}, {{config}}\nDate: {{date}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "ef5a35c3-f382-4276-b003-8b213c19f401",
      "location": {
        "start": {
          "offset": 544,
          "line": 27,
          "column": 3
        },
        "end": {
          "offset": 546,
          "line": 29,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "d58fd03b-4fac-4e5f-8861-9c8c909ece94",
      "location": {
        "start": {
          "offset": 546,
          "line": 29,
          "column": 1
        },
        "end": {
          "offset": 559,
          "line": 29,
          "column": 14
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "c6e156c0-b236-40f2-9f8e-ca1e4f1b03c3",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "summary"
          }
        ]
      },
      "raw": {
        "variable": "@summary"
      },
      "meta": {}
    }
  ],
  "parseError": null
}