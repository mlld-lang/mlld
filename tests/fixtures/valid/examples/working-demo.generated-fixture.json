{
  "name": "working-demo",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "# Working Demo\n\n@text greeting = \"Hello from Meld!\"\n@data config = {\n  \"name\": \"Meld Demo\",\n  \"version\": \"1.0.0\",\n  \"features\": [\"templates\", \"imports\", \"data structures\"]\n}\n\n## Basic Text\n@add @greeting\n\n## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n@text date = @run [date +%Y-%m-%d]\nToday's date: @add @date\n\n## Template Example\n@text summary = [[\n=== {{config.name}} ===\nVersion: {{config.version}}\nFeatures: {{config.features.0}}, {{config.features.1}}, {{config.features.2}}\nDate: {{date}}\n]]\n\n@add @summary",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Text",
      "nodeId": "bfe061b3-aa6c-4e64-a94d-d303f92567a6",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 16,
          "line": 3,
          "column": 1
        }
      },
      "content": "# Working Demo\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "f82d0b7c-fdbf-46a0-9858-2225d31b81d6",
      "location": {
        "start": {
          "offset": 16,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 51,
          "line": 3,
          "column": 36
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "39482d03-1e76-4d27-9c50-d879df6d33bf",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "greeting"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "249c6e11-b2fa-4ab3-a32d-cc063d5c7aad",
            "location": {
              "start": {
                "offset": 33,
                "line": 3,
                "column": 18
              },
              "end": {
                "offset": 51,
                "line": 3,
                "column": 36
              }
            },
            "content": "Hello from Meld!"
          }
        ]
      },
      "raw": {
        "identifier": "greeting",
        "content": "Hello from Meld!"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "55c4bebc-2942-4c12-9a3f-c15591b4f2da",
      "location": {
        "start": {
          "offset": 51,
          "line": 3,
          "column": 36
        },
        "end": {
          "offset": 52,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "d1286a7e-fbf2-4538-8e1e-11d762efc910",
      "location": {
        "start": {
          "offset": 52,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 173,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "b7ba55b8-1771-4bfa-af6e-6fd408ad6468",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "config"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "name": [
              {
                "type": "Text",
                "nodeId": "2562d09b-f191-4bec-a499-1af28e8f8b4e",
                "location": {
                  "start": {
                    "offset": 79,
                    "line": 5,
                    "column": 11
                  },
                  "end": {
                    "offset": 90,
                    "line": 5,
                    "column": 22
                  }
                },
                "content": "Meld Demo"
              }
            ],
            "version": [
              {
                "type": "Text",
                "nodeId": "0e9836ac-1b22-456e-b52c-99aa9847abcc",
                "location": {
                  "start": {
                    "offset": 105,
                    "line": 6,
                    "column": 14
                  },
                  "end": {
                    "offset": 112,
                    "line": 6,
                    "column": 21
                  }
                },
                "content": "1.0.0"
              }
            ],
            "features": {
              "type": "array",
              "items": [
                [
                  {
                    "type": "Text",
                    "nodeId": "658d6555-5451-4d1f-839b-ed1d9ddddd69",
                    "location": {
                      "start": {
                        "offset": 129,
                        "line": 7,
                        "column": 16
                      },
                      "end": {
                        "offset": 140,
                        "line": 7,
                        "column": 27
                      }
                    },
                    "content": "templates"
                  }
                ],
                [
                  {
                    "type": "Text",
                    "nodeId": "209404ca-8dce-458f-8547-382bb650867a",
                    "location": {
                      "start": {
                        "offset": 142,
                        "line": 7,
                        "column": 29
                      },
                      "end": {
                        "offset": 151,
                        "line": 7,
                        "column": 38
                      }
                    },
                    "content": "imports"
                  }
                ],
                [
                  {
                    "type": "Text",
                    "nodeId": "b5a9dea8-4c17-495f-a31a-bb607f01cd86",
                    "location": {
                      "start": {
                        "offset": 153,
                        "line": 7,
                        "column": 40
                      },
                      "end": {
                        "offset": 170,
                        "line": 7,
                        "column": 57
                      }
                    },
                    "content": "data structures"
                  }
                ]
              ]
            }
          }
        }
      },
      "raw": {
        "identifier": "config",
        "value": "{\n  \"name\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"2562d09b-f191-4bec-a499-1af28e8f8b4e\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 79,\n          \"line\": 5,\n          \"column\": 11\n        },\n        \"end\": {\n          \"offset\": 90,\n          \"line\": 5,\n          \"column\": 22\n        }\n      },\n      \"content\": \"Meld Demo\"\n    }\n  ],\n  \"version\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"0e9836ac-1b22-456e-b52c-99aa9847abcc\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 105,\n          \"line\": 6,\n          \"column\": 14\n        },\n        \"end\": {\n          \"offset\": 112,\n          \"line\": 6,\n          \"column\": 21\n        }\n      },\n      \"content\": \"1.0.0\"\n    }\n  ],\n  \"features\": {\n    \"type\": \"array\",\n    \"items\": [\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"658d6555-5451-4d1f-839b-ed1d9ddddd69\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 129,\n              \"line\": 7,\n              \"column\": 16\n            },\n            \"end\": {\n              \"offset\": 140,\n              \"line\": 7,\n              \"column\": 27\n            }\n          },\n          \"content\": \"templates\"\n        }\n      ],\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"209404ca-8dce-458f-8547-382bb650867a\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 142,\n              \"line\": 7,\n              \"column\": 29\n            },\n            \"end\": {\n              \"offset\": 151,\n              \"line\": 7,\n              \"column\": 38\n            }\n          },\n          \"content\": \"imports\"\n        }\n      ],\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"b5a9dea8-4c17-495f-a31a-bb607f01cd86\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 153,\n              \"line\": 7,\n              \"column\": 40\n            },\n            \"end\": {\n              \"offset\": 170,\n              \"line\": 7,\n              \"column\": 57\n            }\n          },\n          \"content\": \"data structures\"\n        }\n      ]\n    ]\n  }\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 3
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "84454ff1-b1ed-45d3-8dba-469f46fa181f",
      "location": {
        "start": {
          "offset": 173,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n## Basic Text\n"
    },
    {
      "type": "Directive",
      "nodeId": "6b5c4980-42d7-4938-8e5c-b4fb9ceca4a7",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 205,
          "line": 13,
          "column": 1
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "e6762e8f-0982-426a-9dd7-221233f214b3",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "greeting"
          }
        ]
      },
      "raw": {
        "variable": "@greeting"
      },
      "meta": {}
    },
    {
      "type": "Text",
      "nodeId": "92c6ee23-551e-4bd5-afe4-d60cfc0bda6e",
      "location": {
        "start": {
          "offset": 205,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 297,
          "line": 18,
          "column": 1
        }
      },
      "content": "## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n"
    },
    {
      "type": "Directive",
      "nodeId": "53b55add-5b4c-4257-9140-0ebff72f027d",
      "location": {
        "start": {
          "offset": 297,
          "line": 18,
          "column": 1
        },
        "end": {
          "offset": 331,
          "line": 18,
          "column": 35
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "cfb92fe1-a572-4310-b185-735c6d206eb9",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "date"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "b8df991d-f9bd-450c-acc6-7798fab46d43",
            "location": {
              "start": {
                "offset": 316,
                "line": 18,
                "column": 20
              },
              "end": {
                "offset": 330,
                "line": 18,
                "column": 34
              }
            },
            "content": "date +%Y-%m-%d"
          }
        ]
      },
      "raw": {
        "identifier": "date",
        "content": "@run date +%Y-%m-%d"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "197f2685-2928-49c3-a310-c7b918364ca9",
      "location": {
        "start": {
          "offset": 331,
          "line": 18,
          "column": 35
        },
        "end": {
          "offset": 378,
          "line": 22,
          "column": 1
        }
      },
      "content": "\nToday's date: @add @date\n\n## Template Example\n"
    },
    {
      "type": "Directive",
      "nodeId": "390a7845-5a34-4739-a80c-9334790740ba",
      "location": {
        "start": {
          "offset": 378,
          "line": 22,
          "column": 1
        },
        "end": {
          "offset": 544,
          "line": 27,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "e8957f21-98a2-45b6-8ed7-f1abb1efe2e4",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "summary"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "b2356cfe-9df5-4481-9ea1-a16b43358280",
            "location": {
              "start": {
                "offset": 396,
                "line": 22,
                "column": 19
              },
              "end": {
                "offset": 401,
                "line": 23,
                "column": 5
              }
            },
            "content": "\n=== "
          },
          {
            "type": "VariableReference",
            "nodeId": "ccc5efe3-214e-41b1-b0c7-319ff8cc233f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "name"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "f2d7084c-c083-4416-bb43-cac16d6ad837",
            "location": {
              "start": {
                "offset": 416,
                "line": 23,
                "column": 20
              },
              "end": {
                "offset": 430,
                "line": 24,
                "column": 10
              }
            },
            "content": " ===\nVersion: "
          },
          {
            "type": "VariableReference",
            "nodeId": "98f9537b-314b-4600-b8e0-1b129d02fc27",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "version"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "f504f13c-693e-4efa-babf-ce12509ca4d3",
            "location": {
              "start": {
                "offset": 448,
                "line": 24,
                "column": 28
              },
              "end": {
                "offset": 459,
                "line": 25,
                "column": 11
              }
            },
            "content": "\nFeatures: "
          },
          {
            "type": "VariableReference",
            "nodeId": "d498909d-1ca0-4578-a44b-7237010458ef",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "f7737486-f2f2-43ba-a93e-69f1679998ca",
            "location": {
              "start": {
                "offset": 480,
                "line": 25,
                "column": 32
              },
              "end": {
                "offset": 482,
                "line": 25,
                "column": 34
              }
            },
            "content": ", "
          },
          {
            "type": "VariableReference",
            "nodeId": "7d6c6232-22ad-4e00-bcf8-d4ea9b5bdc28",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "b7c9bd14-4f9e-4676-8d3b-cbde47e77c99",
            "location": {
              "start": {
                "offset": 503,
                "line": 25,
                "column": 55
              },
              "end": {
                "offset": 505,
                "line": 25,
                "column": 57
              }
            },
            "content": ", "
          },
          {
            "type": "VariableReference",
            "nodeId": "0f8f2a1e-ee53-4547-922a-ff0af233ec2b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "435331a4-a443-4bdb-98c0-bfcd0f6af649",
            "location": {
              "start": {
                "offset": 526,
                "line": 25,
                "column": 78
              },
              "end": {
                "offset": 533,
                "line": 26,
                "column": 7
              }
            },
            "content": "\nDate: "
          },
          {
            "type": "VariableReference",
            "nodeId": "575ffa21-7c29-42f0-afc4-888ad0cc9aac",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "date"
          },
          {
            "type": "Text",
            "nodeId": "d85dcc49-5eb3-493c-9b75-64c7515b4476",
            "location": {
              "start": {
                "offset": 541,
                "line": 26,
                "column": 15
              },
              "end": {
                "offset": 542,
                "line": 27,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "summary",
        "content": "\n=== {{config}} ===\nVersion: {{config}}\nFeatures: {{config}}, {{config}}, {{config}}\nDate: {{date}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "828b800e-a791-44c7-9a83-f405b9032d4e",
      "location": {
        "start": {
          "offset": 544,
          "line": 27,
          "column": 3
        },
        "end": {
          "offset": 546,
          "line": 29,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "0ae9ecf6-3b2e-43b8-9af8-9c98e7fdb1ce",
      "location": {
        "start": {
          "offset": 546,
          "line": 29,
          "column": 1
        },
        "end": {
          "offset": 559,
          "line": 29,
          "column": 14
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "05b58167-470d-4620-b829-350dd45a4b8e",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "summary"
          }
        ]
      },
      "raw": {
        "variable": "@summary"
      },
      "meta": {}
    }
  ],
  "parseError": null
}