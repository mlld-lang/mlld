{
  "name": "working-demo",
  "description": "Test fixture for valid/examples",
  "category": "valid",
  "subcategory": "examples",
  "input": "# Working Demo\n\n@text greeting = \"Hello from Meld!\"\n@data config = {\n  \"name\": \"Meld Demo\",\n  \"version\": \"1.0.0\",\n  \"features\": [\"templates\", \"imports\", \"data structures\"]\n}\n\n## Basic Text\n@add @greeting\n\n## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n@text date = @run [date +%Y-%m-%d]\nToday's date: @add @date\n\n## Template Example\n@text summary = [[\n=== {{config.name}} ===\nVersion: {{config.version}}\nFeatures: {{config.features.0}}, {{config.features.1}}, {{config.features.2}}\nDate: {{date}}\n]]\n\n@add @summary",
  "expected": null,
  "expectedError": null,
  "expectedWarning": null,
  "actualOutput": "# Working Demo\n\n## Basic Text\nHello from Meld!\n## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n\nToday's date: @add @date\n\n## Template Example\n\n=== Meld Demo ===\nVersion: 1.0.0\nFeatures: [\"templates\",\"imports\",\"data structures\"], [\"templates\",\"imports\",\"data structures\"], [\"templates\",\"imports\",\"data structures\"]\nDate: 2025-05-26\n",
  "ast": [
    {
      "type": "Text",
      "nodeId": "cd0a44c7-b3dd-47d0-bf4f-517beed6db01",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 16,
          "line": 3,
          "column": 1
        }
      },
      "content": "# Working Demo\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "8ec7a1c5-6443-4373-95bc-5f87aebae92f",
      "location": {
        "start": {
          "offset": 16,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 51,
          "line": 3,
          "column": 36
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "39a0e021-f994-437e-be63-e41be27c0798",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "greeting"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "7c79d321-0523-4a40-9049-ed7c22dd4587",
            "location": {
              "start": {
                "offset": 33,
                "line": 3,
                "column": 18
              },
              "end": {
                "offset": 51,
                "line": 3,
                "column": 36
              }
            },
            "content": "Hello from Meld!"
          }
        ]
      },
      "raw": {
        "identifier": "greeting",
        "content": "Hello from Meld!"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "d50d8980-edad-4029-8ad6-641a2521f4be",
      "location": {
        "start": {
          "offset": 51,
          "line": 3,
          "column": 36
        },
        "end": {
          "offset": 52,
          "line": 4,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "b863dc54-9fe1-4180-93cb-d733074ace52",
      "location": {
        "start": {
          "offset": 52,
          "line": 4,
          "column": 1
        },
        "end": {
          "offset": 173,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "6bbf2a80-86fb-4ad8-be2c-43d99f33f726",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "config"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "name": [
              {
                "type": "Text",
                "nodeId": "0f1c15f0-cc4b-4775-9e29-0243b92c2cdb",
                "location": {
                  "start": {
                    "offset": 79,
                    "line": 5,
                    "column": 11
                  },
                  "end": {
                    "offset": 90,
                    "line": 5,
                    "column": 22
                  }
                },
                "content": "Meld Demo"
              }
            ],
            "version": [
              {
                "type": "Text",
                "nodeId": "1b0e6d94-bcbc-46a0-b8b2-63331693ac43",
                "location": {
                  "start": {
                    "offset": 105,
                    "line": 6,
                    "column": 14
                  },
                  "end": {
                    "offset": 112,
                    "line": 6,
                    "column": 21
                  }
                },
                "content": "1.0.0"
              }
            ],
            "features": {
              "type": "array",
              "items": [
                [
                  {
                    "type": "Text",
                    "nodeId": "8e6d2835-cae0-4d11-a448-c715205c05ec",
                    "location": {
                      "start": {
                        "offset": 129,
                        "line": 7,
                        "column": 16
                      },
                      "end": {
                        "offset": 140,
                        "line": 7,
                        "column": 27
                      }
                    },
                    "content": "templates"
                  }
                ],
                [
                  {
                    "type": "Text",
                    "nodeId": "71aaa189-6cf8-4f14-8756-db3559934a5d",
                    "location": {
                      "start": {
                        "offset": 142,
                        "line": 7,
                        "column": 29
                      },
                      "end": {
                        "offset": 151,
                        "line": 7,
                        "column": 38
                      }
                    },
                    "content": "imports"
                  }
                ],
                [
                  {
                    "type": "Text",
                    "nodeId": "02734523-9efc-4051-a05f-55e94876743b",
                    "location": {
                      "start": {
                        "offset": 153,
                        "line": 7,
                        "column": 40
                      },
                      "end": {
                        "offset": 170,
                        "line": 7,
                        "column": 57
                      }
                    },
                    "content": "data structures"
                  }
                ]
              ]
            }
          }
        }
      },
      "raw": {
        "identifier": "config",
        "value": "{\n  \"name\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"0f1c15f0-cc4b-4775-9e29-0243b92c2cdb\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 79,\n          \"line\": 5,\n          \"column\": 11\n        },\n        \"end\": {\n          \"offset\": 90,\n          \"line\": 5,\n          \"column\": 22\n        }\n      },\n      \"content\": \"Meld Demo\"\n    }\n  ],\n  \"version\": [\n    {\n      \"type\": \"Text\",\n      \"nodeId\": \"1b0e6d94-bcbc-46a0-b8b2-63331693ac43\",\n      \"location\": {\n        \"start\": {\n          \"offset\": 105,\n          \"line\": 6,\n          \"column\": 14\n        },\n        \"end\": {\n          \"offset\": 112,\n          \"line\": 6,\n          \"column\": 21\n        }\n      },\n      \"content\": \"1.0.0\"\n    }\n  ],\n  \"features\": {\n    \"type\": \"array\",\n    \"items\": [\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"8e6d2835-cae0-4d11-a448-c715205c05ec\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 129,\n              \"line\": 7,\n              \"column\": 16\n            },\n            \"end\": {\n              \"offset\": 140,\n              \"line\": 7,\n              \"column\": 27\n            }\n          },\n          \"content\": \"templates\"\n        }\n      ],\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"71aaa189-6cf8-4f14-8756-db3559934a5d\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 142,\n              \"line\": 7,\n              \"column\": 29\n            },\n            \"end\": {\n              \"offset\": 151,\n              \"line\": 7,\n              \"column\": 38\n            }\n          },\n          \"content\": \"imports\"\n        }\n      ],\n      [\n        {\n          \"type\": \"Text\",\n          \"nodeId\": \"02734523-9efc-4051-a05f-55e94876743b\",\n          \"location\": {\n            \"start\": {\n              \"offset\": 153,\n              \"line\": 7,\n              \"column\": 40\n            },\n            \"end\": {\n              \"offset\": 170,\n              \"line\": 7,\n              \"column\": 57\n            }\n          },\n          \"content\": \"data structures\"\n        }\n      ]\n    ]\n  }\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 3
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "2aa27ded-57bb-484f-9d4f-96cb3a21dafe",
      "location": {
        "start": {
          "offset": 173,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 189,
          "line": 11,
          "column": 1
        }
      },
      "content": "\n\n## Basic Text\n"
    },
    {
      "type": "Directive",
      "nodeId": "f3a3951e-937d-4246-a488-a98ac44484e3",
      "location": {
        "start": {
          "offset": 189,
          "line": 11,
          "column": 1
        },
        "end": {
          "offset": 205,
          "line": 13,
          "column": 1
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "00e7411b-f9bc-44e4-815e-c9cfe024c2b0",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "greeting"
          }
        ]
      },
      "raw": {
        "variable": "@greeting"
      },
      "meta": {}
    },
    {
      "type": "Text",
      "nodeId": "1745ba31-93fa-4a4e-bd49-3df81eda8c64",
      "location": {
        "start": {
          "offset": 205,
          "line": 13,
          "column": 1
        },
        "end": {
          "offset": 297,
          "line": 18,
          "column": 1
        }
      },
      "content": "## Data Access\nProject: @add @config.name\nVersion: @add @config.version\n\n## Command Example\n"
    },
    {
      "type": "Directive",
      "nodeId": "245dfe4f-2076-475e-a710-f2f511fb0213",
      "location": {
        "start": {
          "offset": 297,
          "line": 18,
          "column": 1
        },
        "end": {
          "offset": 331,
          "line": 18,
          "column": 35
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "run",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "f0755f1f-d6d2-4f76-843a-5cc4fde76bd8",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "date"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "3cd2ee1c-1c9d-4464-a56b-a15bea3879d4",
            "location": {
              "start": {
                "offset": 316,
                "line": 18,
                "column": 20
              },
              "end": {
                "offset": 330,
                "line": 18,
                "column": 34
              }
            },
            "content": "date +%Y-%m-%d"
          }
        ]
      },
      "raw": {
        "identifier": "date",
        "content": "@run date +%Y-%m-%d"
      },
      "meta": {
        "sourceType": "directive",
        "directive": "run",
        "hasVariables": false,
        "run": {
          "isCommand": true
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "329e2f30-6019-41d3-a783-f6bf86026b1e",
      "location": {
        "start": {
          "offset": 331,
          "line": 18,
          "column": 35
        },
        "end": {
          "offset": 378,
          "line": 22,
          "column": 1
        }
      },
      "content": "\nToday's date: @add @date\n\n## Template Example\n"
    },
    {
      "type": "Directive",
      "nodeId": "316a98cc-2e3b-40e5-9155-60b68588bae0",
      "location": {
        "start": {
          "offset": 378,
          "line": 22,
          "column": 1
        },
        "end": {
          "offset": 544,
          "line": 27,
          "column": 3
        }
      },
      "kind": "text",
      "subtype": "textTemplate",
      "source": "template",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "ba99890e-a6ad-4d0d-82f8-db9c65119e8b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "summary"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "6a231fcb-ece3-4c77-aedb-6cbf269d5253",
            "location": {
              "start": {
                "offset": 396,
                "line": 22,
                "column": 19
              },
              "end": {
                "offset": 401,
                "line": 23,
                "column": 5
              }
            },
            "content": "\n=== "
          },
          {
            "type": "VariableReference",
            "nodeId": "64063b12-6188-400a-beba-908f76a64e14",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "name"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "1271da2a-553b-46a3-8b54-ed64d459dec2",
            "location": {
              "start": {
                "offset": 416,
                "line": 23,
                "column": 20
              },
              "end": {
                "offset": 430,
                "line": 24,
                "column": 10
              }
            },
            "content": " ===\nVersion: "
          },
          {
            "type": "VariableReference",
            "nodeId": "dd301152-8c16-41cf-91a5-2fcd6aa92d1d",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "version"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "17eb69e6-0351-4b3e-af1d-d451399d01ab",
            "location": {
              "start": {
                "offset": 448,
                "line": 24,
                "column": 28
              },
              "end": {
                "offset": 459,
                "line": 25,
                "column": 11
              }
            },
            "content": "\nFeatures: "
          },
          {
            "type": "VariableReference",
            "nodeId": "3bf0e981-3835-4f96-9b9e-215d1d2743b8",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "22dcdc2b-9439-4eee-8a65-cfbf031cdd13",
            "location": {
              "start": {
                "offset": 480,
                "line": 25,
                "column": 32
              },
              "end": {
                "offset": 482,
                "line": 25,
                "column": 34
              }
            },
            "content": ", "
          },
          {
            "type": "VariableReference",
            "nodeId": "bf9e43b3-6fc9-42a6-b931-2e7aa607eaf1",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "b2f0445d-ea01-4d56-85d8-20f2d5430979",
            "location": {
              "start": {
                "offset": 503,
                "line": 25,
                "column": 55
              },
              "end": {
                "offset": 505,
                "line": 25,
                "column": 57
              }
            },
            "content": ", "
          },
          {
            "type": "VariableReference",
            "nodeId": "1b57ad98-48ba-4e19-bc8a-0ffb4f1602d5",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "config",
            "fields": [
              {
                "type": "field",
                "name": "features"
              },
              {
                "type": "numericField",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "2205d28e-1846-4ec8-a2df-d3d5fd69d42a",
            "location": {
              "start": {
                "offset": 526,
                "line": 25,
                "column": 78
              },
              "end": {
                "offset": 533,
                "line": 26,
                "column": 7
              }
            },
            "content": "\nDate: "
          },
          {
            "type": "VariableReference",
            "nodeId": "7a1e9feb-6338-4497-884b-8e0be2319aea",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "date"
          },
          {
            "type": "Text",
            "nodeId": "82d0bc77-d7fd-4f87-94fe-6472d9b5d532",
            "location": {
              "start": {
                "offset": 541,
                "line": 26,
                "column": 15
              },
              "end": {
                "offset": 542,
                "line": 27,
                "column": 1
              }
            },
            "content": "\n"
          }
        ]
      },
      "raw": {
        "identifier": "summary",
        "content": "\n=== {{config}} ===\nVersion: {{config}}\nFeatures: {{config}}, {{config}}, {{config}}\nDate: {{date}}\n"
      },
      "meta": {
        "sourceType": "template",
        "hasVariables": true,
        "isTemplateContent": true
      }
    },
    {
      "type": "Text",
      "nodeId": "882111e7-51ee-4c70-b503-4d5d910990cb",
      "location": {
        "start": {
          "offset": 544,
          "line": 27,
          "column": 3
        },
        "end": {
          "offset": 546,
          "line": 29,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "ef21218a-c3f7-4c87-9718-2fe8481665bc",
      "location": {
        "start": {
          "offset": 546,
          "line": 29,
          "column": 1
        },
        "end": {
          "offset": 559,
          "line": 29,
          "column": 14
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "66f23216-dc45-4435-a7fa-93ca25ff8a10",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "summary"
          }
        ]
      },
      "raw": {
        "variable": "@summary"
      },
      "meta": {}
    }
  ],
  "parseError": null
}