{
  "name": "run-command-bases-operators",
  "description": "Test fixture for run/command-bases",
  "category": "run",
  "subcategory": "command-bases",
  "input": "# Test command operators\n\n@run [ls -la | grep foo | wc -l]\n\n@run [mkdir test && cd test && touch file.txt]\n\n@run [rm -rf temp || echo \"Already clean\"]\n\n@run [npm test; npm run build; npm run deploy]",
  "expected": "# Test command operators\n\n@run [ls -la | grep foo | wc -l]\n\n@run [mkdir test && cd test && touch file.txt]\n\n@run [rm -rf temp || echo \"Already clean\"]\n\n@run [npm test; npm run build; npm run deploy]",
  "ast": [
    {
      "type": "Text",
      "nodeId": "21bb86c2-2378-41a6-8c65-6fcf41ec75e1",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 26,
          "line": 3,
          "column": 1
        }
      },
      "content": "# Test command operators\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "2d0dc40e-fb89-47c9-bf05-47fd108918c6",
      "location": {
        "start": {
          "offset": 26,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 58,
          "line": 3,
          "column": 33
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "1863c807-d8f5-41c5-80a4-254a759ad803",
            "location": {
              "start": {
                "offset": 32,
                "line": 3,
                "column": 7
              },
              "end": {
                "offset": 57,
                "line": 3,
                "column": 32
              }
            },
            "content": "ls -la | grep foo | wc -l"
          }
        ],
        "commandBases": [
          {
            "nodeId": "585ca851-7a82-45fa-8e1d-ba8ad73fd3b9",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 58,
                "line": 3,
                "column": 33
              }
            },
            "command": "ls"
          },
          {
            "nodeId": "e5f49272-3681-4e3e-a834-95eb23a12c9d",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 58,
                "line": 3,
                "column": 33
              }
            },
            "command": "grep"
          },
          {
            "nodeId": "8c51739e-42af-4149-a94e-48be483f1589",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 58,
                "line": 3,
                "column": 33
              }
            },
            "command": "wc"
          }
        ]
      },
      "raw": {
        "command": "ls -la | grep foo | wc -l",
        "commandBases": [
          "ls",
          "grep",
          "wc"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "d0c1e107-846c-41d2-a670-d1f003e6b0c2",
      "location": {
        "start": {
          "offset": 58,
          "line": 3,
          "column": 33
        },
        "end": {
          "offset": 60,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "982b1ffa-2f85-4a50-94ae-df9906a9d068",
      "location": {
        "start": {
          "offset": 60,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 106,
          "line": 5,
          "column": 47
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "7b90cf65-dc32-468d-90e1-aed1e5847dcf",
            "location": {
              "start": {
                "offset": 66,
                "line": 5,
                "column": 7
              },
              "end": {
                "offset": 105,
                "line": 5,
                "column": 46
              }
            },
            "content": "mkdir test && cd test && touch file.txt"
          }
        ],
        "commandBases": [
          {
            "nodeId": "51ef0280-fce7-4c2f-8a97-bffca81b5322",
            "location": {
              "start": {
                "offset": 65,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 106,
                "line": 5,
                "column": 47
              }
            },
            "command": "mkdir"
          },
          {
            "nodeId": "289cf98d-fe7b-40f3-b4fb-4ff742b9e75e",
            "location": {
              "start": {
                "offset": 65,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 106,
                "line": 5,
                "column": 47
              }
            },
            "command": "cd"
          },
          {
            "nodeId": "3c5c9d7b-818a-4919-ba73-8a5ead150ef7",
            "location": {
              "start": {
                "offset": 65,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 106,
                "line": 5,
                "column": 47
              }
            },
            "command": "touch"
          }
        ]
      },
      "raw": {
        "command": "mkdir test && cd test && touch file.txt",
        "commandBases": [
          "mkdir",
          "cd",
          "touch"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "7d74baf0-13f6-4228-8e46-3ba60475da00",
      "location": {
        "start": {
          "offset": 106,
          "line": 5,
          "column": 47
        },
        "end": {
          "offset": 108,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "0034eca1-26e2-403d-9d2c-2df0730106b4",
      "location": {
        "start": {
          "offset": 108,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 150,
          "line": 7,
          "column": 43
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "beedef50-29a0-4cef-813f-485d9034f7db",
            "location": {
              "start": {
                "offset": 114,
                "line": 7,
                "column": 7
              },
              "end": {
                "offset": 149,
                "line": 7,
                "column": 42
              }
            },
            "content": "rm -rf temp || echo \"Already clean\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "9fb948e0-8c0f-47f2-9ac2-9ca9c060ec1f",
            "location": {
              "start": {
                "offset": 113,
                "line": 7,
                "column": 6
              },
              "end": {
                "offset": 150,
                "line": 7,
                "column": 43
              }
            },
            "command": "rm"
          },
          {
            "nodeId": "8a74c052-0076-4727-a1fc-7f2b426003bc",
            "location": {
              "start": {
                "offset": 113,
                "line": 7,
                "column": 6
              },
              "end": {
                "offset": 150,
                "line": 7,
                "column": 43
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "command": "rm -rf temp || echo \"Already clean\"",
        "commandBases": [
          "rm",
          "echo"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 2,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "f0a059e4-7650-4dfc-ba25-daa44fa05cbf",
      "location": {
        "start": {
          "offset": 150,
          "line": 7,
          "column": 43
        },
        "end": {
          "offset": 152,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "05e799f1-d6b3-4754-a108-0e579a89642e",
      "location": {
        "start": {
          "offset": 152,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 198,
          "line": 9,
          "column": 47
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "67b91268-cc62-45e6-9edf-d61e019c1c5a",
            "location": {
              "start": {
                "offset": 158,
                "line": 9,
                "column": 7
              },
              "end": {
                "offset": 197,
                "line": 9,
                "column": 46
              }
            },
            "content": "npm test; npm run build; npm run deploy"
          }
        ],
        "commandBases": [
          {
            "nodeId": "c10ea556-af8b-4d02-8c31-ed0fc0ccfe73",
            "location": {
              "start": {
                "offset": 157,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 198,
                "line": 9,
                "column": 47
              }
            },
            "command": "npm"
          },
          {
            "nodeId": "360de3a5-32bc-4461-b793-ec5d805e70d2",
            "location": {
              "start": {
                "offset": 157,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 198,
                "line": 9,
                "column": 47
              }
            },
            "command": "npm run",
            "script": "build",
            "isScriptRunner": true
          },
          {
            "nodeId": "ff5e14ef-d2f6-4453-87e5-f913e398007f",
            "location": {
              "start": {
                "offset": 157,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 198,
                "line": 9,
                "column": 47
              }
            },
            "command": "npm run",
            "script": "deploy",
            "isScriptRunner": true
          }
        ]
      },
      "raw": {
        "command": "npm test; npm run build; npm run deploy",
        "commandBases": [
          "npm",
          "npm run",
          "npm run"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": true,
        "isMultiLine": false
      }
    }
  ]
}