{
  "name": "run-command-bases-operators",
  "description": "Test fixture for run/command-bases",
  "category": "run",
  "subcategory": "command-bases",
  "input": "# Test command operators\n\n@run [echo \"ls -la | grep foo | wc -l\"]\n\n@run [echo \"mkdir test && cd test && touch file.txt\"]\n\n@run [echo \"rm -rf temp || Already clean\"]\n\n@run [echo \"npm test; npm run build; npm run deploy\"]",
  "expected": "# Test command operators\n\nls -la | grep foo | wc -l\n\nmkdir test && cd test && touch file.txt\n\nrm -rf temp || Already clean\n\nnpm test; npm run build; npm run deploy",
  "ast": [
    {
      "type": "Text",
      "nodeId": "64008bd0-834d-48aa-8e54-ffc8e4861b5b",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 26,
          "line": 3,
          "column": 1
        }
      },
      "content": "# Test command operators\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "8dad6bda-5011-493b-8ddb-344a92d58a8b",
      "location": {
        "start": {
          "offset": 26,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 65,
          "line": 3,
          "column": 40
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "872a366b-d8ab-4fd7-9fa1-0ed22d0233d6",
            "location": {
              "start": {
                "offset": 32,
                "line": 3,
                "column": 7
              },
              "end": {
                "offset": 64,
                "line": 3,
                "column": 39
              }
            },
            "content": "echo \"ls -la | grep foo | wc -l\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "ef463397-b60e-444e-be9d-f8d292990e0d",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 65,
                "line": 3,
                "column": 40
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "78ca5fca-35a8-4793-a877-eca640b59f53",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 65,
                "line": 3,
                "column": 40
              }
            },
            "command": "grep"
          },
          {
            "nodeId": "ae2c8491-281b-463f-a591-02a100e1b0da",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 65,
                "line": 3,
                "column": 40
              }
            },
            "command": "wc"
          }
        ]
      },
      "raw": {
        "command": "echo \"ls -la | grep foo | wc -l\"",
        "commandBases": [
          "echo",
          "grep",
          "wc"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "48425c16-f65a-40c6-be57-65c50347412f",
      "location": {
        "start": {
          "offset": 65,
          "line": 3,
          "column": 40
        },
        "end": {
          "offset": 67,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "87366321-fd6e-40f3-8782-9a4d3c346598",
      "location": {
        "start": {
          "offset": 67,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 120,
          "line": 5,
          "column": 54
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "ea457e52-2722-4f84-adec-7ced2cef7a7c",
            "location": {
              "start": {
                "offset": 73,
                "line": 5,
                "column": 7
              },
              "end": {
                "offset": 119,
                "line": 5,
                "column": 53
              }
            },
            "content": "echo \"mkdir test && cd test && touch file.txt\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "3ee6eb3e-0459-446d-b4df-69ec7895f91c",
            "location": {
              "start": {
                "offset": 72,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 120,
                "line": 5,
                "column": 54
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "4ded2c47-ee1f-4188-8fec-0477741927b8",
            "location": {
              "start": {
                "offset": 72,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 120,
                "line": 5,
                "column": 54
              }
            },
            "command": "cd"
          },
          {
            "nodeId": "485e434a-d3ce-4249-bafd-6dba1b85046a",
            "location": {
              "start": {
                "offset": 72,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 120,
                "line": 5,
                "column": 54
              }
            },
            "command": "touch"
          }
        ]
      },
      "raw": {
        "command": "echo \"mkdir test && cd test && touch file.txt\"",
        "commandBases": [
          "echo",
          "cd",
          "touch"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "c41ed8be-0a61-4df0-83da-7ce7e91caf0e",
      "location": {
        "start": {
          "offset": 120,
          "line": 5,
          "column": 54
        },
        "end": {
          "offset": 122,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "09b26f8e-a12c-41d2-b9f8-15ed40684f07",
      "location": {
        "start": {
          "offset": 122,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 164,
          "line": 7,
          "column": 43
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "35b196c2-607a-4f2e-89f5-d1258a3e69e5",
            "location": {
              "start": {
                "offset": 128,
                "line": 7,
                "column": 7
              },
              "end": {
                "offset": 163,
                "line": 7,
                "column": 42
              }
            },
            "content": "echo \"rm -rf temp || Already clean\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "49bd7492-ca2f-4309-bf90-92a1768e1c48",
            "location": {
              "start": {
                "offset": 127,
                "line": 7,
                "column": 6
              },
              "end": {
                "offset": 164,
                "line": 7,
                "column": 43
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "ea1b4986-6d89-41ad-95c0-5fb8223676a9",
            "location": {
              "start": {
                "offset": 127,
                "line": 7,
                "column": 6
              },
              "end": {
                "offset": 164,
                "line": 7,
                "column": 43
              }
            },
            "command": "Already"
          }
        ]
      },
      "raw": {
        "command": "echo \"rm -rf temp || Already clean\"",
        "commandBases": [
          "echo",
          "Already"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 2,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "f8693f80-335c-4baf-8ffa-33b9b6c9e44b",
      "location": {
        "start": {
          "offset": 164,
          "line": 7,
          "column": 43
        },
        "end": {
          "offset": 166,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "2ea772ff-9f17-4aa4-bfe7-744361432f58",
      "location": {
        "start": {
          "offset": 166,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 219,
          "line": 9,
          "column": 54
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "a346cb68-7292-42f1-968f-47caf6e077dc",
            "location": {
              "start": {
                "offset": 172,
                "line": 9,
                "column": 7
              },
              "end": {
                "offset": 218,
                "line": 9,
                "column": 53
              }
            },
            "content": "echo \"npm test; npm run build; npm run deploy\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "e0d19703-7d52-4ee9-9031-64b1147fe6da",
            "location": {
              "start": {
                "offset": 171,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 219,
                "line": 9,
                "column": 54
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "f7fbebf8-8a47-492c-9fa4-99bf241f9004",
            "location": {
              "start": {
                "offset": 171,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 219,
                "line": 9,
                "column": 54
              }
            },
            "command": "npm run",
            "script": "build",
            "isScriptRunner": true
          },
          {
            "nodeId": "7a4823c7-adb5-4a55-939f-7ed418167d36",
            "location": {
              "start": {
                "offset": 171,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 219,
                "line": 9,
                "column": 54
              }
            },
            "command": "npm run",
            "script": "deploy\"",
            "isScriptRunner": true
          }
        ]
      },
      "raw": {
        "command": "echo \"npm test; npm run build; npm run deploy\"",
        "commandBases": [
          "echo",
          "npm run",
          "npm run"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": true,
        "isMultiLine": false
      }
    }
  ]
}