{
  "name": "run-command-bases-operators",
  "description": "Test fixture for run/command-bases",
  "category": "run",
  "subcategory": "command-bases",
  "input": "# Test command operators\n\n@run [echo \"ls -la | grep foo | wc -l\"]\n\n@run [echo \"mkdir test && cd test && touch file.txt\"]\n\n@run [echo \"rm -rf temp || Already clean\"]\n\n@run [echo \"npm test; npm run build; npm run deploy\"]",
  "expected": "# Test command operators\n\nls -la | grep foo | wc -l\n\nmkdir test && cd test && touch file.txt\n\nrm -rf temp || Already clean\n\nnpm test; npm run build; npm run deploy",
  "ast": [
    {
      "type": "Text",
      "nodeId": "a3c372b2-b15f-407f-bcc3-d8788e2da270",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 26,
          "line": 3,
          "column": 1
        }
      },
      "content": "# Test command operators\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "653453bb-64e7-4e87-8bed-dee7e1cade95",
      "location": {
        "start": {
          "offset": 26,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 65,
          "line": 3,
          "column": 40
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "6ff970b1-5bd8-42e0-8148-f77b4777a3dc",
            "location": {
              "start": {
                "offset": 32,
                "line": 3,
                "column": 7
              },
              "end": {
                "offset": 64,
                "line": 3,
                "column": 39
              }
            },
            "content": "echo \"ls -la | grep foo | wc -l\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "796f10ae-a3d7-4d4d-a934-e812c2902fea",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 65,
                "line": 3,
                "column": 40
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "24221aeb-0ffa-4005-b85c-cd99f1ebbf11",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 65,
                "line": 3,
                "column": 40
              }
            },
            "command": "grep"
          },
          {
            "nodeId": "4ac1cc94-5fb1-429c-8165-071bb22b230a",
            "location": {
              "start": {
                "offset": 31,
                "line": 3,
                "column": 6
              },
              "end": {
                "offset": 65,
                "line": 3,
                "column": 40
              }
            },
            "command": "wc"
          }
        ]
      },
      "raw": {
        "command": "echo \"ls -la | grep foo | wc -l\"",
        "commandBases": [
          "echo",
          "grep",
          "wc"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "92b5f01c-7b48-4a9f-b1bc-22b69ba987c3",
      "location": {
        "start": {
          "offset": 65,
          "line": 3,
          "column": 40
        },
        "end": {
          "offset": 67,
          "line": 5,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "dfb5b84b-de96-4f43-9f75-328942b73d4f",
      "location": {
        "start": {
          "offset": 67,
          "line": 5,
          "column": 1
        },
        "end": {
          "offset": 120,
          "line": 5,
          "column": 54
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "990f19a9-6619-4680-a800-27eff687a5bd",
            "location": {
              "start": {
                "offset": 73,
                "line": 5,
                "column": 7
              },
              "end": {
                "offset": 119,
                "line": 5,
                "column": 53
              }
            },
            "content": "echo \"mkdir test && cd test && touch file.txt\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "31a75cba-bb91-4b11-8b37-5e4084b6a965",
            "location": {
              "start": {
                "offset": 72,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 120,
                "line": 5,
                "column": 54
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "abc580fc-de61-4c5a-a4d2-510ba1f008c5",
            "location": {
              "start": {
                "offset": 72,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 120,
                "line": 5,
                "column": 54
              }
            },
            "command": "cd"
          },
          {
            "nodeId": "27e7dc81-31c7-4686-a0af-c4ac857c41f0",
            "location": {
              "start": {
                "offset": 72,
                "line": 5,
                "column": 6
              },
              "end": {
                "offset": 120,
                "line": 5,
                "column": 54
              }
            },
            "command": "touch"
          }
        ]
      },
      "raw": {
        "command": "echo \"mkdir test && cd test && touch file.txt\"",
        "commandBases": [
          "echo",
          "cd",
          "touch"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "32477259-52f2-45fc-970f-cb7cd82afbf0",
      "location": {
        "start": {
          "offset": 120,
          "line": 5,
          "column": 54
        },
        "end": {
          "offset": 122,
          "line": 7,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "f58f0ee0-ad5a-462d-8081-681655c5dc52",
      "location": {
        "start": {
          "offset": 122,
          "line": 7,
          "column": 1
        },
        "end": {
          "offset": 164,
          "line": 7,
          "column": 43
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "2ddd35c2-76ca-496f-9916-9104c26b9569",
            "location": {
              "start": {
                "offset": 128,
                "line": 7,
                "column": 7
              },
              "end": {
                "offset": 163,
                "line": 7,
                "column": 42
              }
            },
            "content": "echo \"rm -rf temp || Already clean\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "4e829abf-1294-4997-b864-3ceba8a9dd77",
            "location": {
              "start": {
                "offset": 127,
                "line": 7,
                "column": 6
              },
              "end": {
                "offset": 164,
                "line": 7,
                "column": 43
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "283e618f-e91e-4f32-ab62-0bdc6046a397",
            "location": {
              "start": {
                "offset": 127,
                "line": 7,
                "column": 6
              },
              "end": {
                "offset": 164,
                "line": 7,
                "column": 43
              }
            },
            "command": "Already"
          }
        ]
      },
      "raw": {
        "command": "echo \"rm -rf temp || Already clean\"",
        "commandBases": [
          "echo",
          "Already"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 2,
        "hasScriptRunner": false,
        "isMultiLine": false
      }
    },
    {
      "type": "Text",
      "nodeId": "e454c4b1-71de-4a4b-b9ab-ae2a4806cdf7",
      "location": {
        "start": {
          "offset": 164,
          "line": 7,
          "column": 43
        },
        "end": {
          "offset": 166,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n\n"
    },
    {
      "type": "Directive",
      "nodeId": "28a9bc73-792e-4270-94ec-5c83a6cd679a",
      "location": {
        "start": {
          "offset": 166,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 219,
          "line": 9,
          "column": 54
        }
      },
      "kind": "run",
      "subtype": "runCommand",
      "source": "command",
      "values": {
        "command": [
          {
            "type": "Text",
            "nodeId": "0056b389-bf7d-4bf6-835d-24ec0b03cd47",
            "location": {
              "start": {
                "offset": 172,
                "line": 9,
                "column": 7
              },
              "end": {
                "offset": 218,
                "line": 9,
                "column": 53
              }
            },
            "content": "echo \"npm test; npm run build; npm run deploy\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "28c87b90-bfe0-4252-838e-745c2999dbf8",
            "location": {
              "start": {
                "offset": 171,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 219,
                "line": 9,
                "column": 54
              }
            },
            "command": "echo"
          },
          {
            "nodeId": "fcb7be86-4864-4bf4-8696-37e296518a94",
            "location": {
              "start": {
                "offset": 171,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 219,
                "line": 9,
                "column": 54
              }
            },
            "command": "npm run",
            "script": "build",
            "isScriptRunner": true
          },
          {
            "nodeId": "f833a3a2-4390-4e0e-a265-13cdaededbf2",
            "location": {
              "start": {
                "offset": 171,
                "line": 9,
                "column": 6
              },
              "end": {
                "offset": 219,
                "line": 9,
                "column": 54
              }
            },
            "command": "npm run",
            "script": "deploy\"",
            "isScriptRunner": true
          }
        ]
      },
      "raw": {
        "command": "echo \"npm test; npm run build; npm run deploy\"",
        "commandBases": [
          "echo",
          "npm run",
          "npm run"
        ]
      },
      "meta": {
        "hasVariables": false,
        "commandCount": 3,
        "hasScriptRunner": true,
        "isMultiLine": false
      }
    }
  ]
}