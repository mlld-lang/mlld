{
  "name": "variables-redefinition-same-file",
  "description": "Test fixture for exceptions/variables-redefinition-same-file",
  "category": "exceptions",
  "subcategory": "variables-redefinition-same-file",
  "input": "@text author = \"First Author\"\n@text author = \"Second Author\"\n@add @author",
  "expected": null,
  "expectedError": "VariableRedefinition: Interpreter error (variable-redefinition): Variable 'author' is already defined and cannot be redefined. Originally defined at ./example.md:1:1. Variables in mlld are immutable by design. Use a different variable name or remove one of the definitions. at line 2, column 1 in ./example.md\n\n  ./example.md:2:1\n  1 | @text author = \"First Author\"\n  2 | @text author = \"Second Author\"\n      ^\n  3 | @add @author\n\nDetails:\n  variableName: author\n  existingLocation: ./example.md:1:1\n  newLocation: ./example.md:2:1\n  filePath: ./example.md\n  nodeType: variable-redefinition\n\nðŸ’¡ Variables in mlld are immutable by design. Use a different variable name or remove one of the definitions.",
  "expectedWarning": null,
  "actualOutput": null,
  "ast": [
    {
      "type": "Directive",
      "nodeId": "node-1",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 29,
          "line": 1,
          "column": 30
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "node-2",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "author"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "node-3",
            "location": {
              "start": {
                "offset": 15,
                "line": 1,
                "column": 16
              },
              "end": {
                "offset": 29,
                "line": 1,
                "column": 30
              }
            },
            "content": "First Author"
          }
        ]
      },
      "raw": {
        "identifier": "author",
        "content": "First Author"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "node-4",
      "location": {
        "start": {
          "offset": 29,
          "line": 1,
          "column": 30
        },
        "end": {
          "offset": 30,
          "line": 2,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "node-5",
      "location": {
        "start": {
          "offset": 30,
          "line": 2,
          "column": 1
        },
        "end": {
          "offset": 60,
          "line": 2,
          "column": 31
        }
      },
      "kind": "text",
      "subtype": "textAssignment",
      "source": "literal",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "node-6",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "author"
          }
        ],
        "content": [
          {
            "type": "Text",
            "nodeId": "node-7",
            "location": {
              "start": {
                "offset": 45,
                "line": 2,
                "column": 16
              },
              "end": {
                "offset": 60,
                "line": 2,
                "column": 31
              }
            },
            "content": "Second Author"
          }
        ]
      },
      "raw": {
        "identifier": "author",
        "content": "Second Author"
      },
      "meta": {
        "sourceType": "literal",
        "hasVariables": false,
        "isTemplateContent": false
      }
    },
    {
      "type": "Newline",
      "nodeId": "node-8",
      "location": {
        "start": {
          "offset": 60,
          "line": 2,
          "column": 31
        },
        "end": {
          "offset": 61,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "node-9",
      "location": {
        "start": {
          "offset": 61,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 73,
          "line": 3,
          "column": 13
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "node-10",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "author"
          }
        ]
      },
      "raw": {
        "variable": "@author"
      },
      "meta": {}
    }
  ],
  "parseError": null
}