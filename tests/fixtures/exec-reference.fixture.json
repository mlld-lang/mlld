{
  "name": "exec-reference",
  "description": "Test fixture for exec/reference",
  "category": "exec",
  "subcategory": "reference",
  "input": "@exec echo (text) = @run [echo \"@text\"]\n@exec greet (name) = @run [echo \"Hello, @name!\"]\n@run @greet(\"World\")",
  "expected": "Hello, World!",
  "ast": [
    {
      "type": "Directive",
      "nodeId": "9e4f3c99-455b-4865-83a7-b0d4732cb95f",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 39,
          "line": 1,
          "column": 40
        }
      },
      "kind": "exec",
      "subtype": "execCommand",
      "source": "command",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "7d736943-ffc8-4d6f-85ea-2235d3161155",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 39,
                "line": 1,
                "column": 40
              }
            },
            "content": "echo"
          }
        ],
        "params": [
          "text"
        ],
        "command": [
          {
            "type": "Text",
            "nodeId": "c3b891ca-5378-41c2-9f10-b8921cc809a3",
            "location": {
              "start": {
                "offset": 26,
                "line": 1,
                "column": 27
              },
              "end": {
                "offset": 32,
                "line": 1,
                "column": 33
              }
            },
            "content": "echo \""
          },
          {
            "type": "VariableReference",
            "nodeId": "618965aa-54bf-4893-b6eb-ddca24afa429",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "isVariableReference": true,
            "identifier": "text"
          },
          {
            "type": "Text",
            "nodeId": "ca8e160b-6b60-4a16-ab53-35e1947bbfda",
            "location": {
              "start": {
                "offset": 37,
                "line": 1,
                "column": 38
              },
              "end": {
                "offset": 38,
                "line": 1,
                "column": 39
              }
            },
            "content": "\""
          }
        ]
      },
      "raw": {
        "identifier": "echo",
        "params": [
          "text"
        ],
        "command": "echo \"@text\""
      },
      "meta": {
        "hasVariables": true,
        "parameterCount": 1
      }
    },
    {
      "type": "Newline",
      "nodeId": "bb46fa6c-dd62-41f7-bfab-fae036be9c5d",
      "location": {
        "start": {
          "offset": 39,
          "line": 1,
          "column": 40
        },
        "end": {
          "offset": 40,
          "line": 2,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "fc46ca55-71e9-4f83-915a-042a558b12cd",
      "location": {
        "start": {
          "offset": 40,
          "line": 2,
          "column": 1
        },
        "end": {
          "offset": 88,
          "line": 2,
          "column": 49
        }
      },
      "kind": "exec",
      "subtype": "execCommand",
      "source": "command",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "422ca2d3-f220-483c-8cdc-cc58380f1aae",
            "location": {
              "start": {
                "offset": 40,
                "line": 2,
                "column": 1
              },
              "end": {
                "offset": 88,
                "line": 2,
                "column": 49
              }
            },
            "content": "greet"
          }
        ],
        "params": [
          "name"
        ],
        "command": [
          {
            "type": "Text",
            "nodeId": "f3cdb1c5-0067-4991-9994-6a3b968123b6",
            "location": {
              "start": {
                "offset": 67,
                "line": 2,
                "column": 28
              },
              "end": {
                "offset": 80,
                "line": 2,
                "column": 41
              }
            },
            "content": "echo \"Hello, "
          },
          {
            "type": "VariableReference",
            "nodeId": "a3872891-35d1-4f51-a5e7-15cf42f7a0a5",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "isVariableReference": true,
            "identifier": "name"
          },
          {
            "type": "Text",
            "nodeId": "66b033a6-866e-4059-8171-d85b7f538940",
            "location": {
              "start": {
                "offset": 85,
                "line": 2,
                "column": 46
              },
              "end": {
                "offset": 87,
                "line": 2,
                "column": 48
              }
            },
            "content": "!\""
          }
        ]
      },
      "raw": {
        "identifier": "greet",
        "params": [
          "name"
        ],
        "command": "echo \"Hello, @name!\""
      },
      "meta": {
        "hasVariables": true,
        "parameterCount": 1
      }
    },
    {
      "type": "Newline",
      "nodeId": "35b6bafa-b8b5-4777-8479-8dc0ccd0dd47",
      "location": {
        "start": {
          "offset": 88,
          "line": 2,
          "column": 49
        },
        "end": {
          "offset": 89,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "f1f4e40b-e42e-4298-86c2-e7b5b9e0de92",
      "location": {
        "start": {
          "offset": 89,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 109,
          "line": 3,
          "column": 21
        }
      },
      "kind": "run",
      "subtype": "runExec",
      "source": "exec",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "c67f03eb-4a7f-498b-9058-df8abfe8853c",
            "location": {
              "start": {
                "offset": 95,
                "line": 3,
                "column": 7
              },
              "end": {
                "offset": 109,
                "line": 3,
                "column": 21
              }
            },
            "content": "greet"
          }
        ],
        "args": [
          {
            "type": "Text",
            "nodeId": "d5292188-5175-455f-ba1f-b5961eb7da8b",
            "location": {
              "start": {
                "offset": 101,
                "line": 3,
                "column": 13
              },
              "end": {
                "offset": 108,
                "line": 3,
                "column": 20
              }
            },
            "content": "World"
          }
        ]
      },
      "raw": {
        "identifier": "greet",
        "args": [
          "World"
        ]
      },
      "meta": {
        "argumentCount": 1
      }
    }
  ]
}