{
  "name": "exec-reference",
  "description": "Test fixture for exec/reference",
  "category": "exec",
  "subcategory": "reference",
  "input": "@exec echo (text) = @run [echo \"@text\"]\n@exec greet (name) = @run [echo \"Hello, @name!\"]\n@run @greet(\"World\")",
  "expected": "Hello, World!",
  "ast": [
    {
      "type": "Directive",
      "nodeId": "4b92e8be-c2e1-4524-b425-182bc8d7e4bb",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 39,
          "line": 1,
          "column": 40
        }
      },
      "kind": "exec",
      "subtype": "execCommand",
      "source": "command",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "7b403baa-bb4e-4d41-a108-85b727192167",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 39,
                "line": 1,
                "column": 40
              }
            },
            "content": "echo"
          }
        ],
        "params": [
          "text"
        ],
        "command": [
          {
            "type": "Text",
            "nodeId": "110d93d7-78bc-48b5-9727-b19116e30286",
            "location": {
              "start": {
                "offset": 26,
                "line": 1,
                "column": 27
              },
              "end": {
                "offset": 32,
                "line": 1,
                "column": 33
              }
            },
            "content": "echo \""
          },
          {
            "type": "VariableReference",
            "nodeId": "215cead9-f3f9-4adb-8c23-9e360f057962",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "text"
          },
          {
            "type": "Text",
            "nodeId": "4b504b12-8281-450a-8d24-79fdc7d32f3c",
            "location": {
              "start": {
                "offset": 37,
                "line": 1,
                "column": 38
              },
              "end": {
                "offset": 38,
                "line": 1,
                "column": 39
              }
            },
            "content": "\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "47fe1fce-ed63-4624-87ee-9adf0d5d1837",
            "location": {
              "start": {
                "offset": 25,
                "line": 1,
                "column": 26
              },
              "end": {
                "offset": 39,
                "line": 1,
                "column": 40
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "identifier": "echo",
        "params": [
          "text"
        ],
        "command": "echo \"@text\"",
        "commandBases": [
          "echo"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "parameterCount": 1
      }
    },
    {
      "type": "Newline",
      "nodeId": "7e92e63b-c6b3-4c7a-9b3c-d3ef84c1add3",
      "location": {
        "start": {
          "offset": 39,
          "line": 1,
          "column": 40
        },
        "end": {
          "offset": 40,
          "line": 2,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "93ca32d9-b872-4841-b86c-e4256cd368d6",
      "location": {
        "start": {
          "offset": 40,
          "line": 2,
          "column": 1
        },
        "end": {
          "offset": 88,
          "line": 2,
          "column": 49
        }
      },
      "kind": "exec",
      "subtype": "execCommand",
      "source": "command",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "b974ef71-3104-4c56-8679-f5b4d7e595db",
            "location": {
              "start": {
                "offset": 40,
                "line": 2,
                "column": 1
              },
              "end": {
                "offset": 88,
                "line": 2,
                "column": 49
              }
            },
            "content": "greet"
          }
        ],
        "params": [
          "name"
        ],
        "command": [
          {
            "type": "Text",
            "nodeId": "b00899db-1e7c-47ea-b323-dcee7bc1239c",
            "location": {
              "start": {
                "offset": 67,
                "line": 2,
                "column": 28
              },
              "end": {
                "offset": 80,
                "line": 2,
                "column": 41
              }
            },
            "content": "echo \"Hello, "
          },
          {
            "type": "VariableReference",
            "nodeId": "fa24d1a0-3d53-4beb-b4a0-200ba47c0bb1",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "identifier": "name"
          },
          {
            "type": "Text",
            "nodeId": "b03f002e-a3ff-4bf8-a276-bcfa0ed7b262",
            "location": {
              "start": {
                "offset": 85,
                "line": 2,
                "column": 46
              },
              "end": {
                "offset": 87,
                "line": 2,
                "column": 48
              }
            },
            "content": "!\""
          }
        ],
        "commandBases": [
          {
            "nodeId": "cc21a8c0-b86e-40cd-aa6d-b6c90977f752",
            "location": {
              "start": {
                "offset": 66,
                "line": 2,
                "column": 27
              },
              "end": {
                "offset": 88,
                "line": 2,
                "column": 49
              }
            },
            "command": "echo"
          }
        ]
      },
      "raw": {
        "identifier": "greet",
        "params": [
          "name"
        ],
        "command": "echo \"Hello, @name!\"",
        "commandBases": [
          "echo"
        ]
      },
      "meta": {
        "hasVariables": true,
        "commandCount": 1,
        "hasScriptRunner": false,
        "parameterCount": 1
      }
    },
    {
      "type": "Newline",
      "nodeId": "80cf2e32-8b65-4efc-ad2e-1f73a34bf71c",
      "location": {
        "start": {
          "offset": 88,
          "line": 2,
          "column": 49
        },
        "end": {
          "offset": 89,
          "line": 3,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "235dd92c-654b-4a4b-9a23-1509ea300ab1",
      "location": {
        "start": {
          "offset": 89,
          "line": 3,
          "column": 1
        },
        "end": {
          "offset": 109,
          "line": 3,
          "column": 21
        }
      },
      "kind": "run",
      "subtype": "runExec",
      "source": "exec",
      "values": {
        "identifier": [
          {
            "type": "Text",
            "nodeId": "07f045f4-2ccf-4c1c-92fd-d0bf6c1b538a",
            "location": {
              "start": {
                "offset": 95,
                "line": 3,
                "column": 7
              },
              "end": {
                "offset": 109,
                "line": 3,
                "column": 21
              }
            },
            "content": "greet"
          }
        ],
        "args": [
          {
            "type": "Text",
            "nodeId": "92496e2c-d35e-45f6-8fe7-f4e9d132b22f",
            "location": {
              "start": {
                "offset": 101,
                "line": 3,
                "column": 13
              },
              "end": {
                "offset": 108,
                "line": 3,
                "column": 20
              }
            },
            "content": "World"
          }
        ]
      },
      "raw": {
        "identifier": "greet",
        "args": [
          "World"
        ]
      },
      "meta": {
        "argumentCount": 1
      }
    }
  ]
}