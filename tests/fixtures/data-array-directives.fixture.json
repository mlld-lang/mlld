{
  "name": "data-array-directives",
  "description": "Test fixture for data/array-directives",
  "category": "data",
  "subcategory": "array-directives",
  "input": "@data testResults = {\n  suites: [\n    @run [echo \"unit: passed\"],\n    @run [echo \"integration: passed\"],\n    @run [echo \"e2e: passed\"]\n  ],\n  count: 3\n}\n@add [[Test Results:\n{{testResults.suites[0]}}\n{{testResults.suites[1]}}\n{{testResults.suites[2]}}\nTotal: {{testResults.count}} suites]]",
  "expected": "Test Results:\nunit: passed\nintegration: passed\ne2e: passed\nTotal: 3 suites",
  "ast": [
    {
      "type": "Directive",
      "nodeId": "caf14934-6299-4758-89ed-eb4527d99a4a",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 152,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "1d6e0b73-9042-44ec-9d94-d2e1c894f3f0",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "testResults"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "suites": {
              "type": "array",
              "items": [
                {
                  "type": "Directive",
                  "nodeId": "a91e3b34-17a8-4ffd-8478-7a725bdc46ea",
                  "location": {
                    "start": {
                      "offset": 38,
                      "line": 3,
                      "column": 5
                    },
                    "end": {
                      "offset": 64,
                      "line": 3,
                      "column": 31
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "671d53d2-4175-4842-a8ef-b479219c93b1",
                        "location": {
                          "start": {
                            "offset": 44,
                            "line": 3,
                            "column": 11
                          },
                          "end": {
                            "offset": 63,
                            "line": 3,
                            "column": 30
                          }
                        },
                        "content": "echo \"unit: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "f2d44ec1-5228-4abe-8dff-c6ec5712e440",
                        "location": {
                          "start": {
                            "offset": 43,
                            "line": 3,
                            "column": 10
                          },
                          "end": {
                            "offset": 64,
                            "line": 3,
                            "column": 31
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"unit: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "48597a6f-0616-47cb-aaf9-cc36d75086a2",
                  "location": {
                    "start": {
                      "offset": 70,
                      "line": 4,
                      "column": 5
                    },
                    "end": {
                      "offset": 103,
                      "line": 4,
                      "column": 38
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "1a0c995e-d886-4ff4-8a01-1a3266cef4a8",
                        "location": {
                          "start": {
                            "offset": 76,
                            "line": 4,
                            "column": 11
                          },
                          "end": {
                            "offset": 102,
                            "line": 4,
                            "column": 37
                          }
                        },
                        "content": "echo \"integration: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "3864af1b-ef6c-43b8-9667-653a1d0b3ace",
                        "location": {
                          "start": {
                            "offset": 75,
                            "line": 4,
                            "column": 10
                          },
                          "end": {
                            "offset": 103,
                            "line": 4,
                            "column": 38
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"integration: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "c75b86ea-d5de-4996-a43f-62fcfadf872e",
                  "location": {
                    "start": {
                      "offset": 109,
                      "line": 5,
                      "column": 5
                    },
                    "end": {
                      "offset": 134,
                      "line": 5,
                      "column": 30
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "3ab8d81b-d0c1-45e8-b67c-f4564b665e71",
                        "location": {
                          "start": {
                            "offset": 115,
                            "line": 5,
                            "column": 11
                          },
                          "end": {
                            "offset": 133,
                            "line": 5,
                            "column": 29
                          }
                        },
                        "content": "echo \"e2e: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "1525c0e5-b6ed-4714-9084-11f2f0865acf",
                        "location": {
                          "start": {
                            "offset": 114,
                            "line": 5,
                            "column": 10
                          },
                          "end": {
                            "offset": 134,
                            "line": 5,
                            "column": 30
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"e2e: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                }
              ]
            },
            "count": 3
          }
        }
      },
      "raw": {
        "identifier": "testResults",
        "value": "{\n  \"suites\": {\n    \"type\": \"array\",\n    \"items\": [\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"a91e3b34-17a8-4ffd-8478-7a725bdc46ea\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 38,\n            \"line\": 3,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 64,\n            \"line\": 3,\n            \"column\": 31\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"671d53d2-4175-4842-a8ef-b479219c93b1\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 44,\n                  \"line\": 3,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 63,\n                  \"line\": 3,\n                  \"column\": 30\n                }\n              },\n              \"content\": \"echo \\\"unit: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"f2d44ec1-5228-4abe-8dff-c6ec5712e440\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 43,\n                  \"line\": 3,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 64,\n                  \"line\": 3,\n                  \"column\": 31\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"unit: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"48597a6f-0616-47cb-aaf9-cc36d75086a2\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 70,\n            \"line\": 4,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 103,\n            \"line\": 4,\n            \"column\": 38\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"1a0c995e-d886-4ff4-8a01-1a3266cef4a8\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 76,\n                  \"line\": 4,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 102,\n                  \"line\": 4,\n                  \"column\": 37\n                }\n              },\n              \"content\": \"echo \\\"integration: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"3864af1b-ef6c-43b8-9667-653a1d0b3ace\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 75,\n                  \"line\": 4,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 103,\n                  \"line\": 4,\n                  \"column\": 38\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"integration: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"c75b86ea-d5de-4996-a43f-62fcfadf872e\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 109,\n            \"line\": 5,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 134,\n            \"line\": 5,\n            \"column\": 30\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"3ab8d81b-d0c1-45e8-b67c-f4564b665e71\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 115,\n                  \"line\": 5,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 133,\n                  \"line\": 5,\n                  \"column\": 29\n                }\n              },\n              \"content\": \"echo \\\"e2e: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"1525c0e5-b6ed-4714-9084-11f2f0865acf\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 114,\n                  \"line\": 5,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 134,\n                  \"line\": 5,\n                  \"column\": 30\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"e2e: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      }\n    ]\n  },\n  \"count\": 3\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 2
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "d1082cfb-6186-491f-b48c-76ee2e5d1623",
      "location": {
        "start": {
          "offset": 152,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 153,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "25afe063-ea6f-4ea2-8995-b2f07bacf89c",
      "location": {
        "start": {
          "offset": 153,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 289,
          "line": 13,
          "column": 38
        }
      },
      "kind": "add",
      "subtype": "addTemplate",
      "source": "template",
      "values": {
        "content": [
          {
            "type": "Text",
            "nodeId": "09b4ffda-00ee-4c73-8287-f4eb261dddab",
            "location": {
              "start": {
                "offset": 160,
                "line": 9,
                "column": 8
              },
              "end": {
                "offset": 174,
                "line": 10,
                "column": 1
              }
            },
            "content": "Test Results:\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "75307535-2519-4ad4-a7de-8e5eda92b839",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "2366fede-29c1-4cb9-b97d-f1ea5a96fbe9",
            "location": {
              "start": {
                "offset": 199,
                "line": 10,
                "column": 26
              },
              "end": {
                "offset": 200,
                "line": 11,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "71239b1e-0180-4af7-94f6-a7c49100121f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "4e22b44a-5184-4977-88b3-a36e82673ccc",
            "location": {
              "start": {
                "offset": 225,
                "line": 11,
                "column": 26
              },
              "end": {
                "offset": 226,
                "line": 12,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "fbc9baab-42c5-4f9f-9603-ee48f156594b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "c3a37fe4-4525-43ca-9806-568683e79567",
            "location": {
              "start": {
                "offset": 251,
                "line": 12,
                "column": 26
              },
              "end": {
                "offset": 259,
                "line": 13,
                "column": 8
              }
            },
            "content": "\nTotal: "
          },
          {
            "type": "VariableReference",
            "nodeId": "ecede333-19d2-4cb7-8d5f-cbb4884b4efc",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "count"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "4c8bc0d0-489f-4c04-b050-2c268c3c0472",
            "location": {
              "start": {
                "offset": 280,
                "line": 13,
                "column": 29
              },
              "end": {
                "offset": 287,
                "line": 13,
                "column": 36
              }
            },
            "content": " suites"
          }
        ]
      },
      "raw": {
        "content": "Test Results:\n{{testResults}}\n{{testResults}}\n{{testResults}}\nTotal: {{testResults}} suites"
      },
      "meta": {
        "isTemplateContent": true,
        "hasVariables": true,
        "wrapperType": "doubleBracket"
      }
    }
  ]
}