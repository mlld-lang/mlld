{
  "name": "data-array-directives",
  "description": "Test fixture for data/array-directives",
  "category": "data",
  "subcategory": "array-directives",
  "input": "@data testResults = {\n  suites: [\n    @run [echo \"unit: passed\"],\n    @run [echo \"integration: passed\"],\n    @run [echo \"e2e: passed\"]\n  ],\n  count: 3\n}\n@add [[Test Results:\n{{testResults.suites[0]}}\n{{testResults.suites[1]}}\n{{testResults.suites[2]}}\nTotal: {{testResults.count}} suites]]",
  "expected": "Test Results:\nunit: passed\nintegration: passed\ne2e: passed\nTotal: 3 suites",
  "ast": [
    {
      "type": "Directive",
      "nodeId": "aff19cdf-e33d-4deb-903d-b515281409dd",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 152,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "893f46a3-f2d0-471a-ac6a-29d05bba1aa4",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "identifier": "testResults"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "suites": {
              "type": "array",
              "items": [
                {
                  "type": "Directive",
                  "nodeId": "4c4fb06d-f74e-4e94-b011-472078d3b753",
                  "location": {
                    "start": {
                      "offset": 38,
                      "line": 3,
                      "column": 5
                    },
                    "end": {
                      "offset": 64,
                      "line": 3,
                      "column": 31
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "c5fbdfd6-7559-40b0-a6b4-add85dcf946d",
                        "location": {
                          "start": {
                            "offset": 44,
                            "line": 3,
                            "column": 11
                          },
                          "end": {
                            "offset": 63,
                            "line": 3,
                            "column": 30
                          }
                        },
                        "content": "echo \"unit: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "49cf5482-cd0d-485f-a7c9-141fd61ec72a",
                        "location": {
                          "start": {
                            "offset": 43,
                            "line": 3,
                            "column": 10
                          },
                          "end": {
                            "offset": 64,
                            "line": 3,
                            "column": 31
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"unit: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "e9dd6191-0577-4998-99a6-01ae1eb84a36",
                  "location": {
                    "start": {
                      "offset": 70,
                      "line": 4,
                      "column": 5
                    },
                    "end": {
                      "offset": 103,
                      "line": 4,
                      "column": 38
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "b1c6e79b-cb3b-492c-8173-f2e01e3c2a37",
                        "location": {
                          "start": {
                            "offset": 76,
                            "line": 4,
                            "column": 11
                          },
                          "end": {
                            "offset": 102,
                            "line": 4,
                            "column": 37
                          }
                        },
                        "content": "echo \"integration: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "62d66cbb-3a5c-4868-9745-63135c6d8cf3",
                        "location": {
                          "start": {
                            "offset": 75,
                            "line": 4,
                            "column": 10
                          },
                          "end": {
                            "offset": 103,
                            "line": 4,
                            "column": 38
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"integration: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "87a8f64d-fc71-4739-a8e6-aa3da2fb4788",
                  "location": {
                    "start": {
                      "offset": 109,
                      "line": 5,
                      "column": 5
                    },
                    "end": {
                      "offset": 134,
                      "line": 5,
                      "column": 30
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "cc2f34a9-e569-402f-a634-2cf41e8274d9",
                        "location": {
                          "start": {
                            "offset": 115,
                            "line": 5,
                            "column": 11
                          },
                          "end": {
                            "offset": 133,
                            "line": 5,
                            "column": 29
                          }
                        },
                        "content": "echo \"e2e: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "d215664f-549a-4d51-b3b0-ac2beca1dd85",
                        "location": {
                          "start": {
                            "offset": 114,
                            "line": 5,
                            "column": 10
                          },
                          "end": {
                            "offset": 134,
                            "line": 5,
                            "column": 30
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"e2e: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                }
              ]
            },
            "count": 3
          }
        }
      },
      "raw": {
        "identifier": "testResults",
        "value": "{\n  \"suites\": {\n    \"type\": \"array\",\n    \"items\": [\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"4c4fb06d-f74e-4e94-b011-472078d3b753\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 38,\n            \"line\": 3,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 64,\n            \"line\": 3,\n            \"column\": 31\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"c5fbdfd6-7559-40b0-a6b4-add85dcf946d\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 44,\n                  \"line\": 3,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 63,\n                  \"line\": 3,\n                  \"column\": 30\n                }\n              },\n              \"content\": \"echo \\\"unit: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"49cf5482-cd0d-485f-a7c9-141fd61ec72a\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 43,\n                  \"line\": 3,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 64,\n                  \"line\": 3,\n                  \"column\": 31\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"unit: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"e9dd6191-0577-4998-99a6-01ae1eb84a36\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 70,\n            \"line\": 4,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 103,\n            \"line\": 4,\n            \"column\": 38\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"b1c6e79b-cb3b-492c-8173-f2e01e3c2a37\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 76,\n                  \"line\": 4,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 102,\n                  \"line\": 4,\n                  \"column\": 37\n                }\n              },\n              \"content\": \"echo \\\"integration: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"62d66cbb-3a5c-4868-9745-63135c6d8cf3\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 75,\n                  \"line\": 4,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 103,\n                  \"line\": 4,\n                  \"column\": 38\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"integration: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"87a8f64d-fc71-4739-a8e6-aa3da2fb4788\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 109,\n            \"line\": 5,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 134,\n            \"line\": 5,\n            \"column\": 30\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"cc2f34a9-e569-402f-a634-2cf41e8274d9\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 115,\n                  \"line\": 5,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 133,\n                  \"line\": 5,\n                  \"column\": 29\n                }\n              },\n              \"content\": \"echo \\\"e2e: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"d215664f-549a-4d51-b3b0-ac2beca1dd85\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 114,\n                  \"line\": 5,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 134,\n                  \"line\": 5,\n                  \"column\": 30\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"e2e: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      }\n    ]\n  },\n  \"count\": 3\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 2
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "bc167c17-7578-43b0-b9e3-13c8e66f8e5a",
      "location": {
        "start": {
          "offset": 152,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 153,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "bea5dc05-cfe6-43e0-8041-268731e1536a",
      "location": {
        "start": {
          "offset": 153,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 289,
          "line": 13,
          "column": 38
        }
      },
      "kind": "add",
      "subtype": "addTemplate",
      "source": "template",
      "values": {
        "content": [
          {
            "type": "Text",
            "nodeId": "f93efa1b-87cc-4997-8b68-3b6da2e63c1a",
            "location": {
              "start": {
                "offset": 160,
                "line": 9,
                "column": 8
              },
              "end": {
                "offset": 174,
                "line": 10,
                "column": 1
              }
            },
            "content": "Test Results:\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "1fe39ced-17d2-4a0d-bb31-ec1e5849dfa5",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "5d9e5386-a392-405c-ba6c-a6dc390105d1",
            "location": {
              "start": {
                "offset": 199,
                "line": 10,
                "column": 26
              },
              "end": {
                "offset": 200,
                "line": 11,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "8150147c-df37-4c6a-9c57-fee21c83afab",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "c54187c2-2dbe-41ec-b61d-ccde3e914ecc",
            "location": {
              "start": {
                "offset": 225,
                "line": 11,
                "column": 26
              },
              "end": {
                "offset": 226,
                "line": 12,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "74ba7b62-426a-4c66-a002-dad83302a381",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "bac52aaa-5f13-45be-96c1-f524ecbf79c7",
            "location": {
              "start": {
                "offset": 251,
                "line": 12,
                "column": 26
              },
              "end": {
                "offset": 259,
                "line": 13,
                "column": 8
              }
            },
            "content": "\nTotal: "
          },
          {
            "type": "VariableReference",
            "nodeId": "a9ebb80b-bd1e-4bb1-9cab-3adfe039431b",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "count"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "e1b3b044-1ac5-46da-bf33-5e317ecf2d74",
            "location": {
              "start": {
                "offset": 280,
                "line": 13,
                "column": 29
              },
              "end": {
                "offset": 287,
                "line": 13,
                "column": 36
              }
            },
            "content": " suites"
          }
        ]
      },
      "raw": {
        "content": "Test Results:\n{{testResults}}\n{{testResults}}\n{{testResults}}\nTotal: {{testResults}} suites"
      },
      "meta": {
        "isTemplateContent": true,
        "hasVariables": true,
        "wrapperType": "doubleBracket"
      }
    }
  ]
}