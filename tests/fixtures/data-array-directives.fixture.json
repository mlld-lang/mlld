{
  "name": "data-array-directives",
  "description": "Test fixture for data/array-directives",
  "category": "data",
  "subcategory": "array-directives",
  "input": "@data testResults = {\n  suites: [\n    @run [echo \"unit: passed\"],\n    @run [echo \"integration: passed\"],\n    @run [echo \"e2e: passed\"]\n  ],\n  count: 3\n}\n@add [[Test Results:\n{{testResults.suites[0]}}\n{{testResults.suites[1]}}\n{{testResults.suites[2]}}\nTotal: {{testResults.count}} suites]]",
  "expected": "Test Results:\nunit: passed\nintegration: passed\ne2e: passed\nTotal: 3 suites",
  "ast": [
    {
      "type": "Directive",
      "nodeId": "193f11fc-9957-474e-b4bd-7c5cc2eff7f7",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 152,
          "line": 8,
          "column": 2
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "object",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "4a798bbb-d8ba-4a2e-bae1-1ad46a39004f",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "isVariableReference": true,
            "identifier": "testResults"
          }
        ],
        "value": {
          "type": "object",
          "properties": {
            "suites": {
              "type": "array",
              "items": [
                {
                  "type": "Directive",
                  "nodeId": "6426adb1-34f3-48ca-8873-479d97b9551e",
                  "location": {
                    "start": {
                      "offset": 38,
                      "line": 3,
                      "column": 5
                    },
                    "end": {
                      "offset": 64,
                      "line": 3,
                      "column": 31
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "8e95369c-ff8e-4c0c-a918-6324dc8aa03d",
                        "location": {
                          "start": {
                            "offset": 44,
                            "line": 3,
                            "column": 11
                          },
                          "end": {
                            "offset": 63,
                            "line": 3,
                            "column": 30
                          }
                        },
                        "content": "echo \"unit: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "c0dc31d6-84ab-4439-907a-672576830769",
                        "location": {
                          "start": {
                            "offset": 43,
                            "line": 3,
                            "column": 10
                          },
                          "end": {
                            "offset": 64,
                            "line": 3,
                            "column": 31
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"unit: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "8354b980-3233-4c1a-8c78-3da5222170f9",
                  "location": {
                    "start": {
                      "offset": 70,
                      "line": 4,
                      "column": 5
                    },
                    "end": {
                      "offset": 103,
                      "line": 4,
                      "column": 38
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "59691591-62fb-4f3b-abc7-80b905d82f4b",
                        "location": {
                          "start": {
                            "offset": 76,
                            "line": 4,
                            "column": 11
                          },
                          "end": {
                            "offset": 102,
                            "line": 4,
                            "column": 37
                          }
                        },
                        "content": "echo \"integration: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "8c1913e1-eab4-40a3-871a-3a06403db04d",
                        "location": {
                          "start": {
                            "offset": 75,
                            "line": 4,
                            "column": 10
                          },
                          "end": {
                            "offset": 103,
                            "line": 4,
                            "column": 38
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"integration: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                },
                {
                  "type": "Directive",
                  "nodeId": "4357384c-0a9d-4fb0-94b8-229092907e17",
                  "location": {
                    "start": {
                      "offset": 109,
                      "line": 5,
                      "column": 5
                    },
                    "end": {
                      "offset": 134,
                      "line": 5,
                      "column": 30
                    }
                  },
                  "kind": "run",
                  "subtype": "runCommand",
                  "source": null,
                  "values": {
                    "command": [
                      {
                        "type": "Text",
                        "nodeId": "04a6e449-4bd1-474d-8607-484772daba10",
                        "location": {
                          "start": {
                            "offset": 115,
                            "line": 5,
                            "column": 11
                          },
                          "end": {
                            "offset": 133,
                            "line": 5,
                            "column": 29
                          }
                        },
                        "content": "echo \"e2e: passed\""
                      }
                    ],
                    "commandBases": [
                      {
                        "nodeId": "695b5e12-2574-46fb-a6c6-01144215367b",
                        "location": {
                          "start": {
                            "offset": 114,
                            "line": 5,
                            "column": 10
                          },
                          "end": {
                            "offset": 134,
                            "line": 5,
                            "column": 30
                          }
                        },
                        "command": "echo"
                      }
                    ]
                  },
                  "raw": {
                    "command": "echo \"e2e: passed\"",
                    "commandBases": [
                      "echo"
                    ]
                  },
                  "meta": {
                    "hasVariables": false,
                    "commandCount": 1,
                    "hasScriptRunner": false,
                    "isDataValue": true,
                    "isMultiLine": false
                  }
                }
              ]
            },
            "count": 3
          }
        }
      },
      "raw": {
        "identifier": "testResults",
        "value": "{\n  \"suites\": {\n    \"type\": \"array\",\n    \"items\": [\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"6426adb1-34f3-48ca-8873-479d97b9551e\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 38,\n            \"line\": 3,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 64,\n            \"line\": 3,\n            \"column\": 31\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"8e95369c-ff8e-4c0c-a918-6324dc8aa03d\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 44,\n                  \"line\": 3,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 63,\n                  \"line\": 3,\n                  \"column\": 30\n                }\n              },\n              \"content\": \"echo \\\"unit: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"c0dc31d6-84ab-4439-907a-672576830769\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 43,\n                  \"line\": 3,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 64,\n                  \"line\": 3,\n                  \"column\": 31\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"unit: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"8354b980-3233-4c1a-8c78-3da5222170f9\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 70,\n            \"line\": 4,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 103,\n            \"line\": 4,\n            \"column\": 38\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"59691591-62fb-4f3b-abc7-80b905d82f4b\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 76,\n                  \"line\": 4,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 102,\n                  \"line\": 4,\n                  \"column\": 37\n                }\n              },\n              \"content\": \"echo \\\"integration: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"8c1913e1-eab4-40a3-871a-3a06403db04d\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 75,\n                  \"line\": 4,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 103,\n                  \"line\": 4,\n                  \"column\": 38\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"integration: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      },\n      {\n        \"type\": \"Directive\",\n        \"nodeId\": \"4357384c-0a9d-4fb0-94b8-229092907e17\",\n        \"location\": {\n          \"start\": {\n            \"offset\": 109,\n            \"line\": 5,\n            \"column\": 5\n          },\n          \"end\": {\n            \"offset\": 134,\n            \"line\": 5,\n            \"column\": 30\n          }\n        },\n        \"kind\": \"run\",\n        \"subtype\": \"runCommand\",\n        \"source\": null,\n        \"values\": {\n          \"command\": [\n            {\n              \"type\": \"Text\",\n              \"nodeId\": \"04a6e449-4bd1-474d-8607-484772daba10\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 115,\n                  \"line\": 5,\n                  \"column\": 11\n                },\n                \"end\": {\n                  \"offset\": 133,\n                  \"line\": 5,\n                  \"column\": 29\n                }\n              },\n              \"content\": \"echo \\\"e2e: passed\\\"\"\n            }\n          ],\n          \"commandBases\": [\n            {\n              \"nodeId\": \"695b5e12-2574-46fb-a6c6-01144215367b\",\n              \"location\": {\n                \"start\": {\n                  \"offset\": 114,\n                  \"line\": 5,\n                  \"column\": 10\n                },\n                \"end\": {\n                  \"offset\": 134,\n                  \"line\": 5,\n                  \"column\": 30\n                }\n              },\n              \"command\": \"echo\"\n            }\n          ]\n        },\n        \"raw\": {\n          \"command\": \"echo \\\"e2e: passed\\\"\",\n          \"commandBases\": [\n            \"echo\"\n          ]\n        },\n        \"meta\": {\n          \"hasVariables\": false,\n          \"commandCount\": 1,\n          \"hasScriptRunner\": false,\n          \"isDataValue\": true,\n          \"isMultiLine\": false\n        }\n      }\n    ]\n  },\n  \"count\": 3\n}"
      },
      "meta": {
        "objectData": {
          "propCount": 2
        }
      }
    },
    {
      "type": "Newline",
      "nodeId": "df71c111-56aa-4a54-bf51-217f380fd0b5",
      "location": {
        "start": {
          "offset": 152,
          "line": 8,
          "column": 2
        },
        "end": {
          "offset": 153,
          "line": 9,
          "column": 1
        }
      },
      "content": "\n"
    },
    {
      "type": "Directive",
      "nodeId": "165712bb-1877-4649-a304-b7b9a2fcf3b3",
      "location": {
        "start": {
          "offset": 153,
          "line": 9,
          "column": 1
        },
        "end": {
          "offset": 289,
          "line": 13,
          "column": 38
        }
      },
      "kind": "add",
      "subtype": "addTemplate",
      "source": "template",
      "values": {
        "content": [
          {
            "type": "Text",
            "nodeId": "4e33fbf3-d46f-4ac2-b1f1-244cb4e173fa",
            "location": {
              "start": {
                "offset": 160,
                "line": 9,
                "column": 8
              },
              "end": {
                "offset": 174,
                "line": 10,
                "column": 1
              }
            },
            "content": "Test Results:\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "cb7d1736-48d2-4ac6-a172-e648df75d305",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "isVariableReference": true,
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 0
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "e6f42a23-ea7e-4589-ad48-5ae01eb671dc",
            "location": {
              "start": {
                "offset": 199,
                "line": 10,
                "column": 26
              },
              "end": {
                "offset": 200,
                "line": 11,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "33eac520-50c0-4dd6-b8e7-8a580cb7c222",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "isVariableReference": true,
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 1
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "3a0cabf1-2f2d-48d8-9dd6-c543edf5e774",
            "location": {
              "start": {
                "offset": 225,
                "line": 11,
                "column": 26
              },
              "end": {
                "offset": 226,
                "line": 12,
                "column": 1
              }
            },
            "content": "\n"
          },
          {
            "type": "VariableReference",
            "nodeId": "5031529e-0ef0-4aae-956e-2e3ed36cbe22",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "isVariableReference": true,
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "suites"
              },
              {
                "type": "arrayIndex",
                "index": 2
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "4141950b-2640-4088-9fbc-3cead8a175f2",
            "location": {
              "start": {
                "offset": 251,
                "line": 12,
                "column": 26
              },
              "end": {
                "offset": 259,
                "line": 13,
                "column": 8
              }
            },
            "content": "\nTotal: "
          },
          {
            "type": "VariableReference",
            "nodeId": "e23676c4-1473-4180-b1ea-09938f5aa9ed",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varInterpolation",
            "isVariableReference": true,
            "identifier": "testResults",
            "fields": [
              {
                "type": "field",
                "name": "count"
              }
            ]
          },
          {
            "type": "Text",
            "nodeId": "54954570-a500-4116-a968-7ef21fbbb9b5",
            "location": {
              "start": {
                "offset": 280,
                "line": 13,
                "column": 29
              },
              "end": {
                "offset": 287,
                "line": 13,
                "column": 36
              }
            },
            "content": " suites"
          }
        ]
      },
      "raw": {
        "content": "Test Results:\n{{testResults}}\n{{testResults}}\n{{testResults}}\nTotal: {{testResults}} suites"
      },
      "meta": {
        "isTemplateContent": true,
        "hasVariables": true,
        "wrapperType": "doubleBracket"
      }
    }
  ]
}