exe @isValid(response) = [
  let @check = @haiku("Is this a real answer? Reply yes/no: @response")
  => @check.trim().toLowerCase().startsWith("yes")
]

exe @gate(response) = when [
  @isValid(@response) => { pass: true, value: @response }
  * => { pass: false, reason: "Failed validation" }
]

var @result = @gate("Here's a detailed explanation...")
show @result.pass