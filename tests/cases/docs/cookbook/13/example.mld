exe @generate() = when first [
  @mx.try == 1 => @haiku("Write a haiku about code")
  * => @haiku("Write a haiku about code. Hint: @mx.hint")
]

exe @validate(text) = when first [
  @text.includes("code") => @text
  @mx.try < 3 => retry "Must mention 'code'"
  * => "Failed after 3 tries"
]

var @result = @generate() | @validate
show @result