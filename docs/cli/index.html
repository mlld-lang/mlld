<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CLI Usage - mlld</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tektur:wght@800&family=Cousine:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/prism-theme.css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/theme.js" defer></script>
  <script src="/js/terminal.js" defer></script>
  <script src="/js/animation.js" defer></script>
  <script src="/js/copy-code.js" defer></script>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo-container">
        <a href="/" class="logo">mlld</a>
        <span class="logo-tagline">pre-release</span>
      </div>
      <nav>
        <ul>
          <li><a href="/docs/" aria-current=&quot;page&quot;>⚠️ Docs</a></li>
          <li><a href="https://discord.gg/mlld">Discord</a></li>
          <li><a href="https://github.com/mlld-lang/mlld">GitHub</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      
<div class="docs-layout">
  <button class="docs-sidebar-toggle" aria-label="Toggle menu" aria-expanded="false">
    <span class="hamburger-icon">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </span>
    <span class="toggle-text">Menu</span>
  </button>
  
  <!-- Add overlay for mobile --> 
  <div class="docs-overlay" id="docs-overlay"></div>
  
  <aside class="docs-sidebar" id="docs-sidebar">
    <nav>
      <h3>Documentation</h3>
      <ul class="nav-list">
        <li><a href="/docs/introduction/" >Introduction</a></li>
        
          
        
          
            <li><a href="/docs/alternatives/" >Alternative Syntax and Escape Hatches</a></li>
          
        
          
            <li><a href="/docs/cli/" aria-current=&quot;page&quot;>CLI Usage</a></li>
          
        
          
            <li><a href="/docs/content-and-data/" >Content and Data</a></li>
          
        
          
            <li><a href="/docs/flow-control/" >Control Flow</a></li>
          
        
          
            <li><a href="/docs/cookbook/" >Cookbook</a></li>
          
        
          
            <li><a href="/docs/markdown-mode/" >Markdown Mode</a></li>
          
        
          
            <li><a href="/docs/mcp/" >MCP Server Support</a></li>
          
        
          
        
          
            <li><a href="/docs/modules/" >mlld Modules</a></li>
          
        
          
            <li><a href="/docs/registry/" >mlld Registry</a></li>
          
        
          
            <li><a href="/docs/resolvers/" >mlld Resolvers</a></li>
          
        
          
            <li><a href="/docs/prose/" >Prose Execution</a></li>
          
        
          
            <li><a href="/docs/quickstart/" >Quick Start</a></li>
          
        
          
            <li><a href="/docs/sdk/" >SDK Usage</a></li>
          
        
          
            <li><a href="/docs/security/" >Security</a></li>
          
        
          
            <li><a href="/docs/streaming/" >Streaming</a></li>
          
        
          
            <li><a href="/docs/reference/" >Syntax Reference</a></li>
          
        
          
            <li><a href="/docs/testing/" >Testing modules</a></li>
          
        
          
            <li><a href="/docs/large-variables/" >Working with Large Variables</a></li>
          
        
      </ul>
    </nav>
  </aside>
  
  <div class="docs-content">
    <h1>⚠️ mlld is pre-release</h1>
    <p><a href="https://discord.gg/mlld">Join the discord</a> if you have questions. <a href="https://github.com/mlld-lang/mlld/issues">Report bugs on GitHub</a>.</p>
    <h1 id="cli-usage" tabindex="-1">CLI Usage</h1>
<p>The mlld CLI provides commands for processing mlld files, managing modules, and configuring your mlld environment.</p>
<h2 id="installation" tabindex="-1">Installation</h2>
<p>Install globally to use the CLI:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">npm</span> <span class="token function">install</span> <span class="token parameter variable">-g</span> mlld
mlld <span class="token operator">&lt;</span>command<span class="token operator">></span>
</code></pre>
<h2 id="core-commands" tabindex="-1">Core Commands</h2>
<h3 id="processing-mlld-files" tabindex="-1">Processing mlld Files</h3>
<p>Process a mlld file with default options:</p>
<pre class="language-bash"><code class="language-bash">mlld input.mld
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--format, -f &lt;format&gt;</code> - Output format: <code>xml</code> (default), <code>md</code></li>
<li><code>--output, -o &lt;file&gt;</code> - Output file path</li>
<li><code>--stdout</code> - Print to console instead of file</li>
<li><code>--watch, -w</code> - Watch for file changes</li>
<li><code>--verbose, -v</code> - Show detailed output</li>
<li><code>--debug</code> - Show execution progress to stderr</li>
<li><code>--debug --json</code> - Output full debug trace as JSON to stdout</li>
<li><code>--structured</code> - Output JSON with effects, exports, and security metadata</li>
<li><code>--no-stream</code> - Disable streaming output</li>
<li><code>--env &lt;file&gt;</code> - Load environment variables from specified file</li>
<li><code>--allow-absolute</code> - Permit file access outside project root</li>
</ul>
<p><strong>Examples:</strong></p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Process with markdown output</span>
mlld document.mld <span class="token parameter variable">--format</span> md

<span class="token comment"># Output to specific file</span>
mlld document.mld <span class="token parameter variable">--output</span> result.llm

<span class="token comment"># Print to console</span>
mlld document.mld <span class="token parameter variable">--stdout</span>

<span class="token comment"># Watch mode for development</span>
mlld document.mld <span class="token parameter variable">--watch</span>

<span class="token comment"># Load environment variables</span>
mlld document.mld <span class="token parameter variable">--env</span> .env.local

<span class="token comment"># Allow absolute paths outside project</span>
mlld script.mld --allow-absolute

<span class="token comment"># Debug mode: show progress on stderr, output to stdout</span>
mlld script.mld <span class="token parameter variable">--debug</span>

<span class="token comment"># Debug with JSON: full trace as JSON to stdout</span>
mlld script.mld <span class="token parameter variable">--debug</span> <span class="token parameter variable">--json</span>

<span class="token comment"># Structured output: effects and security metadata</span>
mlld script.mld <span class="token parameter variable">--structured</span>

<span class="token comment"># Disable streaming (buffer all output)</span>
mlld script.mld --no-stream
</code></pre>
<h3 id="structured-output-mode" tabindex="-1">Structured Output Mode</h3>
<p>The <code>--structured</code> flag outputs JSON with effects, exports, state writes, and full security metadata:</p>
<pre class="language-bash"><code class="language-bash">mlld script.mld <span class="token parameter variable">--structured</span>
</code></pre>
<p><strong>Output format:</strong></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"output"</span><span class="token operator">:</span> <span class="token string">"Hello World\n"</span><span class="token punctuation">,</span>
  <span class="token property">"effects"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"both"</span><span class="token punctuation">,</span>
      <span class="token property">"content"</span><span class="token operator">:</span> <span class="token string">"Hello World\n"</span><span class="token punctuation">,</span>
      <span class="token property">"security"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">"labels"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"taint"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token property">"sources"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"exports"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"greeting"</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">"stateWrites"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Use cases:</strong></p>
<ul>
<li>Auditing: See what files were read/written</li>
<li>Security analysis: Check taint labels on outputs</li>
<li>Programmatic consumption: Parse effects in scripts</li>
<li>CI/CD: Verify no unauthorized file access</li>
</ul>
<pre><code>
## Module Commands

### `mlld init [module.mld.md]`

Create a new mlld module interactively.

```bash
# Interactive creation
mlld init

# Create specific module
mlld init utils.mld.md

# Non-interactive with metadata
mlld init --name utils --author alice --about &quot;Utility functions&quot;
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>-n, --name &lt;name&gt;</code> - Module name</li>
<li><code>-a, --author &lt;author&gt;</code> - Author name</li>
<li><code>-d, --about &lt;description&gt;</code> - Module description</li>
<li><code>-o, --output &lt;path&gt;</code> - Output file path</li>
<li><code>--version &lt;version&gt;</code> - Module version (default: 1.0.0)</li>
<li><code>-k, --keywords &lt;keywords&gt;</code> - Comma-separated keywords</li>
<li><code>--homepage &lt;url&gt;</code> - Homepage URL</li>
<li><code>--skip-git</code> - Skip git integration</li>
<li><code>-f, --force</code> - Overwrite existing files</li>
</ul>
<h3 id="mlld-publish-%5Bmodule.mld.md%5D" tabindex="-1"><code>mlld publish [module.mld.md]</code></h3>
<p>Publish a module to the registry or private repository.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Publish to public registry</span>
mlld publish my-module.mld.md

<span class="token comment"># Publish to private repository</span>
mlld publish my-module.mld.md <span class="token parameter variable">--private</span>

<span class="token comment"># Preview what would be published</span>
mlld publish --dry-run
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--dry-run</code> - Preview without publishing</li>
<li><code>--message &lt;msg&gt;</code> - Custom PR message</li>
<li><code>--force</code> - Force publish with uncommitted changes</li>
<li><code>--gist</code> - Create gist even if in repository</li>
<li><code>--repo</code> - Use repository (skip interactive)</li>
<li><code>--org &lt;name&gt;</code> - Publish as organization</li>
<li><code>--private</code> - Publish to private repository</li>
<li><code>--path &lt;dir&gt;</code> - Custom directory for private modules</li>
<li><code>--pr</code> - Also create registry PR for private modules</li>
</ul>
<h3 id="mlld-install-%5Bmodules...%5D" tabindex="-1"><code>mlld install [modules...]</code></h3>
<p>Install modules from the registry or lock file.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Install specific modules</span>
mlld <span class="token function">install</span> @alice/utils @bob/helpers

<span class="token comment"># Install from lock file</span>
mlld <span class="token function">install</span>

<span class="token comment"># Force reinstall</span>
mlld <span class="token function">install</span> @alice/utils <span class="token parameter variable">--force</span>
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>-v, --verbose</code> - Show detailed output</li>
<li><code>--no-cache</code> - Skip cache and re-download</li>
<li><code>--dry-run</code> - Preview without installing</li>
<li><code>-f, --force</code> - Force reinstall</li>
</ul>
<h3 id="mlld-ls" tabindex="-1"><code>mlld ls</code></h3>
<p>List installed modules and their status.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Basic list</span>
mlld <span class="token function">ls</span>

<span class="token comment"># Detailed table view</span>
mlld <span class="token function">ls</span> <span class="token parameter variable">--format</span> table <span class="token parameter variable">--verbose</span>

<span class="token comment"># Check for missing modules</span>
mlld <span class="token function">ls</span> <span class="token parameter variable">--missing</span>
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>-v, --verbose</code> - Show version hashes</li>
<li><code>--format &lt;format&gt;</code> - Output format: <code>list</code> (default), <code>table</code>, <code>json</code></li>
<li><code>--missing</code> - Only show missing modules</li>
<li><code>--cached</code> - Only show cached modules</li>
</ul>
<h3 id="mlld-info-%3Cmodule%3E" tabindex="-1"><code>mlld info &lt;module&gt;</code></h3>
<p>Show detailed information about a module.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Show module info</span>
mlld info @alice/utils

<span class="token comment"># JSON output for scripts</span>
mlld info @alice/utils <span class="token parameter variable">--format</span> json
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>-v, --verbose</code> - Include technical details</li>
<li><code>--format &lt;format&gt;</code> - Output format: <code>text</code> (default), <code>json</code></li>
</ul>
<h3 id="mlld-clean-%5Bmodules...%5D" tabindex="-1"><code>mlld clean [modules...]</code></h3>
<p>Remove modules from lock file and cache to resolve import issues.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Remove specific module from cache</span>
mlld clean @mlld/env

<span class="token comment"># Clear all cached modules</span>
mlld clean <span class="token parameter variable">--all</span>

<span class="token comment"># Clear only registry modules</span>
mlld clean <span class="token parameter variable">--registry</span>
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--all</code> - Clear all cached modules</li>
<li><code>--registry</code> - Clear only registry modules (preserve local modules)</li>
<li><code>-v, --verbose</code> - Show detailed output during cleaning</li>
</ul>
<p><strong>Use Cases:</strong></p>
<ul>
<li>Fix stale cached module data preventing proper imports</li>
<li>Clear corrupted module metadata after registry updates</li>
<li>Force fresh resolution of modules with integrity issues</li>
<li>Clean up cache when switching between development and production modules</li>
</ul>
<h3 id="mlld-add-needs-%5Bmodule.mld.md%5D" tabindex="-1"><code>mlld add-needs [module.mld.md]</code></h3>
<p>Analyze and update module dependencies automatically.</p>
<p><strong>Aliases:</strong> <code>mlld needs</code>, <code>mlld deps</code></p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Analyze current directory</span>
mlld add-needs

<span class="token comment"># Analyze specific module</span>
mlld add-needs my-module.mld.md

<span class="token comment"># Show detailed analysis</span>
mlld add-needs <span class="token parameter variable">--verbose</span>
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--verbose</code> - Show detailed analysis</li>
<li><code>--auto</code> - Auto-detect mode (default)</li>
<li><code>--force</code> - Add frontmatter even if missing</li>
</ul>
<h2 id="development-commands" tabindex="-1">Development Commands</h2>
<h3 id="mlld-run-%5Bscript-name%5D" tabindex="-1"><code>mlld run [script-name]</code></h3>
<p>Execute mlld scripts from a configured directory with AST caching and performance metrics.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># List available scripts</span>
mlld run

<span class="token comment"># Run a script</span>
mlld run my-script

<span class="token comment"># Run with timeout</span>
mlld run long-task <span class="token parameter variable">--timeout</span> 10m

<span class="token comment"># Show execution metrics</span>
mlld run my-script <span class="token parameter variable">--debug</span>
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--timeout &lt;duration&gt;</code> - Script timeout (e.g., 5m, 1h, 30s, or ms) - default: unlimited</li>
<li><code>--debug</code> - Show execution metrics (timing, cache hits, effects, state writes)</li>
<li><code>--checkpoint</code> - Enable checkpoint reuse for <code>llm</code>-labeled operations</li>
<li><code>--fresh</code> - Clear the script checkpoint cache before running</li>
<li><code>--resume [target]</code> - Resume with checkpoint reuse (<code>@fn</code>, <code>@fn:index</code>, <code>@fn(&quot;prefix&quot;)</code>)</li>
<li><code>--fork &lt;script&gt;</code> - Seed reads from another script's checkpoint cache</li>
<li><code>-h, --help</code> - Show help message</li>
</ul>
<p><strong>Script Directory:</strong><br>
Scripts are loaded from the directory configured in <code>mlld-config.json</code> (default: <code>llm/run/</code>). Configure with <code>mlld setup</code>.</p>
<p><strong>Features:</strong></p>
<ul>
<li>AST caching: Scripts are cached after first parse (mtime-based invalidation)</li>
<li>Timeout support: Automatically aborts long-running scripts</li>
<li>Metrics: Debug mode shows parse time, evaluation time, cache hits, effect counts</li>
<li><code>--resume</code> implies checkpoint behavior. Without a target, it re-runs with cache reuse only.</li>
<li><code>--fork</code> keeps source cache read-only; changed model/prompt arguments miss locally and are written to the current script cache.</li>
<li>Payload injection: Unknown flags become <code>@payload</code> fields (<code>mlld run my-script --topic foo</code>). Import <code>@payload</code> in your script to access them.<br>
Known checkpoint flags (<code>--checkpoint</code>, <code>--fresh</code>, <code>--resume</code>, <code>--fork</code>) are excluded from <code>@payload</code>.</li>
</ul>
<p><strong>Example script with payload</strong> (<code>llm/run/build.mld</code>):</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token directive keyword">import</span> <span class="token string-interpolated"><span class="token punctuation">"</span><span class="token variable">@payload</span><span class="token punctuation">"</span></span> <span class="token operator">as</span> <span class="token variable variable">@payload</span>
<span class="token directive keyword">var</span> @<span class="token directive keyword">env</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@payload</span>.<span class="token directive keyword">env</span> <span class="token ternary-operator operator">?</span> <span class="token variable variable">@payload</span>.<span class="token directive keyword">env</span> <span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>dev<span class="token punctuation">"</span></span>
<span class="token directive keyword">var</span> <span class="token variable variable">@fast</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@payload</span><span class="token field-access property">.fast</span> <span class="token ternary-operator operator">?</span> <span class="token variable variable">@payload</span>.<span class="token object-key property">fast</span> <span class="token ternary-operator operator">:</span> <span class="token boolean">false</span>
</code></pre>
<p><strong>Example script</strong> (<code>llm/run/hello.mld</code>):</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token directive keyword">var</span> <span class="token variable variable">@greeting</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Hello from mlld script!<span class="token punctuation">"</span></span>
<span class="token directive keyword">show</span> <span class="token variable variable">@greeting</span>
</code></pre>
<h3 id="mlld-checkpoint-%3Clist%7Cinspect%7Cclean%3E-%3Cscript%3E" tabindex="-1"><code>mlld checkpoint &lt;list|inspect|clean&gt; &lt;script&gt;</code></h3>
<p>Inspect and manage checkpoint cache files for a script.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># List cached call keys/previews</span>
mlld checkpoint list pipeline

<span class="token comment"># Inspect manifest + records as JSON</span>
mlld checkpoint inspect pipeline

<span class="token comment"># Remove a script cache</span>
mlld checkpoint clean pipeline

<span class="token comment"># Resume target forms</span>
mlld run pipeline <span class="token parameter variable">--resume</span>
mlld run pipeline <span class="token parameter variable">--resume</span> @processFiles
mlld run pipeline <span class="token parameter variable">--resume</span> @processFiles:0
mlld run pipeline <span class="token parameter variable">--resume</span> <span class="token string">'@processFiles("tests/cases/docs")'</span>
</code></pre>
<h3 id="mlld-test-%5Bpatterns...%5D" tabindex="-1"><code>mlld test [patterns...]</code></h3>
<p>Run mlld test files (<code>.test.mld</code> files).</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Run all tests</span>
mlld <span class="token builtin class-name">test</span>

<span class="token comment"># Run tests matching pattern</span>
mlld <span class="token builtin class-name">test</span> array string

<span class="token comment"># Use custom environment file</span>
mlld <span class="token builtin class-name">test</span> <span class="token parameter variable">--env</span> .env.staging
</code></pre>
<p><strong>Features:</strong></p>
<ul>
<li>Automatically loads <code>.env</code> and <code>.env.test</code> files from current directory</li>
<li>Runs tests in isolated processes when multiple files are executed</li>
<li>Prevents environment variable pollution between test modules</li>
<li>Shows test results with timing and pass/fail indicators</li>
</ul>
<p><strong>Options:</strong></p>
<ul>
<li><code>--env &lt;file&gt;</code> - Load environment variables from specific file</li>
</ul>
<p><strong>Environment Loading:</strong></p>
<ul>
<li>If <code>--env</code> is specified: loads only that file</li>
<li>Otherwise: automatically loads <code>.env</code> and <code>.env.test</code> if they exist</li>
<li>Parent process environment variables are inherited</li>
</ul>
<p><strong>Test Isolation:</strong></p>
<ul>
<li>Multiple test files run in separate processes automatically</li>
<li>Prevents shadow environment contamination between tests</li>
<li>Each test gets a clean environment state</li>
</ul>
<h3 id="mlld-validate" tabindex="-1"><code>mlld validate</code></h3>
<p>Detect common mistakes with static analysis before runtime.</p>
<pre class="language-bash"><code class="language-bash">mlld validate module.mld
mlld validate module.mld --error-on-warnings
mlld validate module.mld <span class="token parameter variable">--format</span> json
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--error-on-warnings</code> - Exit 1 if any warnings are present</li>
<li><code>--format &lt;format&gt;</code> - Output format: <code>text</code> (default), <code>json</code></li>
</ul>
<p><strong>What it detects:</strong></p>
<ul>
<li>Undefined variables (typos like <code>@nmae</code> instead of <code>@name</code>)</li>
<li>Variable redefinition in nested scopes (mlld variables are immutable)</li>
<li>Reserved name conflicts (<code>@now</code>, <code>@base</code>, <code>@mx</code>, <code>@p</code>, <code>@env</code>, <code>@payload</code>, <code>@state</code>)</li>
<li>Builtin shadowing (<code>@parse</code>, <code>@exists</code>, <code>@upper</code>, <code>@lower</code>, etc.)</li>
<li>Exe parameter shadowing (generic names like <code>result</code>, <code>output</code>, <code>data</code> that risk collision)</li>
</ul>
<p><strong>Suppressing warnings:</strong></p>
<p>Add to <code>mlld-config.json</code> to suppress intentional patterns:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"validate"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"suppressWarnings"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"exe-parameter-shadowing"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Suppressible codes: <code>exe-parameter-shadowing</code>, <code>deprecated-json-transform</code>, <code>hyphenated-identifier-in-template</code>.</p>
<p><strong>Exit codes:</strong></p>
<ul>
<li>Exit 0: valid syntax, no errors</li>
<li>Exit 1: parse errors or hard validation errors</li>
<li>Exit 1 with <code>--error-on-warnings</code>: any warnings present</li>
</ul>
<p><strong>JSON output</strong> returns structured data: <code>executables</code>, <code>exports</code>, <code>imports</code>, <code>guards</code>, <code>needs</code>, <code>warnings</code>, <code>redefinitions</code>, <code>antiPatterns</code>.</p>
<h3 id="mlld-mcp-dev" tabindex="-1"><code>mlld mcp-dev</code></h3>
<p>Start an MCP server that provides language introspection tools for development. Use with Claude Code or other MCP clients to validate syntax, analyze modules, and inspect ASTs.</p>
<pre class="language-bash"><code class="language-bash">mlld mcp-dev
</code></pre>
<p>Configure in <code>claude_desktop_config.json</code>:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"mcpServers"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"mlld-dev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"command"</span><span class="token operator">:</span> <span class="token string">"mlld"</span><span class="token punctuation">,</span>
      <span class="token property">"args"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"mcp-dev"</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p><strong>Tools provided:</strong></p>
<ul>
<li><code>mlld_validate</code> — Validate syntax, return errors and warnings</li>
<li><code>mlld_analyze</code> — Full module analysis: exports, executables, imports, guards, statistics</li>
<li><code>mlld_ast</code> — Get the raw parsed AST</li>
</ul>
<p>All tools accept either <code>file</code> (path to <code>.mld</code> file) or <code>code</code> (inline string). Mode is inferred from file extension; override with <code>&quot;mode&quot;: &quot;strict&quot;</code> or <code>&quot;mode&quot;: &quot;markdown&quot;</code>.</p>
<h3 id="mlld-live---stdio" tabindex="-1"><code>mlld live --stdio</code></h3>
<p>Persistent NDJSON RPC server for long-running SDK operations.</p>
<pre class="language-bash"><code class="language-bash">mlld live <span class="token parameter variable">--stdio</span>
</code></pre>
<p><strong>Protocol format:</strong></p>
<pre class="language-json"><code class="language-json">>> Request
<span class="token punctuation">{</span><span class="token property">"method"</span><span class="token operator">:</span><span class="token string">"process"</span><span class="token punctuation">,</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">"params"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"script"</span><span class="token operator">:</span><span class="token string">"show 'hello'"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

>> Event stream (during execution)
<span class="token punctuation">{</span><span class="token property">"event"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">"type"</span><span class="token operator">:</span><span class="token string">"stream:chunk"</span><span class="token punctuation">,</span><span class="token property">"content"</span><span class="token operator">:</span><span class="token string">"hello"</span><span class="token punctuation">}</span><span class="token punctuation">}</span>

>> Result
<span class="token punctuation">{</span><span class="token property">"result"</span><span class="token operator">:</span><span class="token punctuation">{</span><span class="token property">"id"</span><span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token property">"output"</span><span class="token operator">:</span><span class="token string">"hello"</span><span class="token punctuation">,</span><span class="token property">"exports"</span><span class="token operator">:</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">}</span><span class="token punctuation">}</span>
</code></pre>
<p><strong>Methods:</strong></p>
<ul>
<li><code>process</code> — Execute script text via <code>params.script</code></li>
<li><code>execute</code> — Run file via <code>params.filepath</code> with optional payload/state/dynamicModules</li>
<li><code>analyze</code> — Static analysis via <code>params.filepath</code></li>
<li><code>state:update</code> — Update in-flight <code>@state</code> for <code>params.requestId</code></li>
<li><code>cancel</code> — Abort active request by id</li>
</ul>
<p><strong>SDK integration:</strong></p>
<p>Go, Python, Rust, and Ruby SDKs maintain persistent <code>mlld live --stdio</code> subprocesses:</p>
<pre class="language-python"><code class="language-python">handle <span class="token operator">=</span> client<span class="token punctuation">.</span>execute_async<span class="token punctuation">(</span><span class="token string">"./script.mld"</span><span class="token punctuation">,</span> payload<span class="token punctuation">)</span>
handle<span class="token punctuation">.</span>update_state<span class="token punctuation">(</span><span class="token string">"flag"</span><span class="token punctuation">,</span> <span class="token boolean">True</span><span class="token punctuation">)</span>  <span class="token comment"># In-flight state mutation</span>
result <span class="token operator">=</span> handle<span class="token punctuation">.</span>wait<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Lifecycle:</strong></p>
<ul>
<li>Server runs until stdin EOF, SIGINT, or SIGTERM</li>
<li>Each request uses fresh interpreter environment</li>
<li>AST caching persists across requests (mtime-based invalidation)</li>
</ul>
<h2 id="ci%2Fcd-and-ephemeral-execution" tabindex="-1">CI/CD and Ephemeral Execution</h2>
<h3 id="mlldx" tabindex="-1"><code>mlldx</code></h3>
<p>The ephemeral version of mlld for CI/CD and serverless environments. Uses in-memory caching instead of filesystem persistence.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Run with in-memory cache</span>
mlldx script.mld

<span class="token comment"># Load environment variables</span>
mlldx script.mld <span class="token parameter variable">--env</span> prod.env

<span class="token comment"># Run without installation</span>
npx mlldx@latest ci-task.mld
</code></pre>
<p><strong>Examples:</strong></p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># GitHub Actions</span>
mlldx github-workflow.mld <span class="token parameter variable">--env</span> .env.ci

<span class="token comment"># Serverless functions</span>
mlldx handler.mld <span class="token parameter variable">--env</span> .env.production

<span class="token comment"># Docker containers</span>
<span class="token function">docker</span> run <span class="token parameter variable">-it</span> node:18 npx mlldx@latest /scripts/task.mld
</code></pre>
<p><strong>Key Differences from mlld:</strong></p>
<ul>
<li>No filesystem caching (all in-memory)</li>
<li>Useful for stateless environments</li>
<li>Same functionality, ephemeral execution</li>
<li>Designed for CI pipelines and serverless</li>
</ul>
<h2 id="configuration-commands" tabindex="-1">Configuration Commands</h2>
<h3 id="mlld-setup" tabindex="-1"><code>mlld setup</code></h3>
<p>Interactive configuration wizard for mlld projects.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Interactive setup wizard</span>
mlld setup

<span class="token comment"># Set up GitHub modules</span>
mlld setup <span class="token parameter variable">--github</span>

<span class="token comment"># Set up path aliases</span>
mlld setup <span class="token parameter variable">--local</span>

<span class="token comment"># Check configuration</span>
mlld setup <span class="token parameter variable">--check</span>
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>--github</code> - Set up GitHub private modules only</li>
<li><code>--local</code> - Set up path aliases only</li>
<li><code>--basic</code> - Create basic mlld.lock.json only</li>
<li><code>--force</code> - Overwrite existing configuration</li>
<li><code>--check</code> - Check current configuration status</li>
<li><code>--add-resolver</code> - Add a new resolver to existing config</li>
</ul>
<p><strong>What it configures:</strong></p>
<ol>
<li>GitHub private module access</li>
<li>Path aliases for local directories</li>
<li>Authentication setup</li>
<li>Repository verification</li>
</ol>
<h3 id="mlld-alias" tabindex="-1"><code>mlld alias</code></h3>
<p>Create path aliases for easy module imports.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Create path alias (project-specific)</span>
mlld <span class="token builtin class-name">alias</span> <span class="token parameter variable">--name</span> shared <span class="token parameter variable">--path</span> <span class="token punctuation">..</span>/shared-modules

<span class="token comment"># Create global alias (all projects)</span>
mlld <span class="token builtin class-name">alias</span> <span class="token parameter variable">--name</span> desktop <span class="token parameter variable">--path</span> ~/Desktop <span class="token parameter variable">--global</span>

<span class="token comment"># Use tilde expansion</span>
mlld <span class="token builtin class-name">alias</span> <span class="token parameter variable">--name</span> home <span class="token parameter variable">--path</span> ~/my-modules
</code></pre>
<p><strong>Options:</strong></p>
<ul>
<li><code>-n, --name &lt;alias&gt;</code> - Alias name (required)</li>
<li><code>-p, --path &lt;path&gt;</code> - Directory path (required)</li>
<li><code>-g, --global</code> - Create global alias (default: local)</li>
</ul>
<p><strong>Usage after creating:</strong></p>
<pre class="language-mlld"><code class="language-mlld"><span class="token directive keyword">import</span> <span class="token punctuation">{</span> utils <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@shared</span>/utils
<span class="token directive keyword">import</span> <span class="token punctuation">{</span> data <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@desktop</span>/my-data
</code></pre>
<h3 id="mlld-auth" tabindex="-1"><code>mlld auth</code></h3>
<p>Manage GitHub authentication for private modules.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Login to GitHub</span>
mlld auth login

<span class="token comment"># Check status</span>
mlld auth status

<span class="token comment"># Logout</span>
mlld auth <span class="token builtin class-name">logout</span>
</code></pre>
<p><strong>Subcommands:</strong></p>
<ul>
<li><code>login</code> - Authenticate with GitHub</li>
<li><code>logout</code> - Remove stored credentials</li>
<li><code>status</code> - Check authentication status</li>
</ul>
<h3 id="mlld-vars" tabindex="-1"><code>mlld vars</code></h3>
<p>Manage environment variable permissions.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Allow environment variables</span>
mlld vars allow GITHUB_TOKEN NODE_ENV API_KEY

<span class="token comment"># List allowed variables</span>
mlld vars list

<span class="token comment"># Remove access</span>
mlld vars remove API_KEY
</code></pre>
<p><strong>Subcommands:</strong></p>
<ul>
<li><code>allow &lt;vars...&gt;</code> - Allow environment variables</li>
<li><code>list</code> - List allowed variables</li>
<li><code>remove &lt;vars...&gt;</code> - Remove variable access</li>
</ul>
<p><strong>Usage in mlld:</strong></p>
<pre class="language-mlld"><code class="language-mlld"><span class="token directive keyword">import</span> <span class="token punctuation">{</span> GITHUB_TOKEN<span class="token punctuation">,</span> NODE_ENV <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
</code></pre>
<h3 id="mlld-plugin" tabindex="-1"><code>mlld plugin</code></h3>
<p>Install the mlld Claude Code plugin for orchestrator authoring skills, language server integration, and MCP dev tools.</p>
<pre class="language-bash"><code class="language-bash">mlld plugin <span class="token function">install</span>                  <span class="token comment"># Install for current user</span>
mlld plugin <span class="token function">install</span> <span class="token parameter variable">--scope</span> project  <span class="token comment"># Install for current project only</span>
mlld plugin status                   <span class="token comment"># Check if installed</span>
mlld plugin uninstall                <span class="token comment"># Remove the plugin</span>
mlld skill <span class="token function">install</span>                   <span class="token comment"># Install skills for codex, opencode, pi </span>
</code></pre>
<p>Requires the <code>claude</code> CLI to be installed. Restart Claude Code after installing to activate the plugin.</p>
<p><strong>What's included:</strong></p>
<table>
<thead>
<tr>
<th>Component</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>Orchestrator skill</td>
<td>Patterns for audit, research, and development pipelines</td>
</tr>
<tr>
<td>Agent skill</td>
<td>Tool agents, event-driven agents, workflow agents</td>
</tr>
<tr>
<td><code>/mlld:scaffold</code></td>
<td>Generate starter orchestrator projects</td>
</tr>
<tr>
<td>Language server</td>
<td><code>.mld</code> syntax highlighting and diagnostics</td>
</tr>
<tr>
<td>MCP dev tools</td>
<td><code>mlld mcp-dev</code> for development</td>
</tr>
</tbody>
</table>
<h2 id="environment-commands" tabindex="-1">Environment Commands</h2>
<h3 id="mlld-env" tabindex="-1"><code>mlld env</code></h3>
<p>Manage AI agent environment modules. Environments package credentials, configuration, MCP tools, and security policies for spawning AI agents.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># List available environments</span>
mlld <span class="token function">env</span> list

<span class="token comment"># Create environment from Claude config</span>
mlld <span class="token function">env</span> capture my-claude

<span class="token comment"># Run agent with prompt</span>
mlld <span class="token function">env</span> spawn my-claude -- <span class="token string">"Fix the bug"</span>

<span class="token comment"># Start interactive session</span>
mlld <span class="token function">env</span> shell my-claude
</code></pre>
<h4 id="mlld-env-list" tabindex="-1"><code>mlld env list</code></h4>
<p>List available environment modules.</p>
<p><strong>Aliases:</strong> <code>mlld env ls</code></p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Human-readable list</span>
mlld <span class="token function">env</span> list

<span class="token comment"># JSON output for scripts</span>
mlld <span class="token function">env</span> list <span class="token parameter variable">--json</span>
</code></pre>
<p>Shows environments from:</p>
<ul>
<li><code>.mlld/env/</code> (project-local)</li>
<li><code>~/.mlld/env/</code> (global)</li>
</ul>
<p><strong>Options:</strong></p>
<ul>
<li><code>--json</code> - Output as JSON</li>
</ul>
<h4 id="mlld-env-capture-%3Cname%3E" tabindex="-1"><code>mlld env capture &lt;name&gt;</code></h4>
<p>Create an environment module from your current Claude configuration.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Create project-local environment</span>
mlld <span class="token function">env</span> capture my-claude

<span class="token comment"># Create global environment</span>
mlld <span class="token function">env</span> capture my-claude <span class="token parameter variable">--global</span>
</code></pre>
<p><strong>What it does:</strong></p>
<ol>
<li>Extracts OAuth token from <code>~/.claude/.credentials.json</code></li>
<li>Stores token securely in macOS Keychain</li>
<li>Copies <code>settings.json</code>, <code>CLAUDE.md</code>, <code>hooks.json</code></li>
<li>Generates <code>module.yml</code> and <code>index.mld</code></li>
</ol>
<p><strong>Options:</strong></p>
<ul>
<li><code>--global</code> - Create in <code>~/.mlld/env/</code> instead of <code>.mlld/env/</code></li>
</ul>
<p><strong>Output structure:</strong></p>
<pre><code>.mlld/env/my-claude/
├── module.yml          # Module manifest (type: environment)
├── index.mld           # Entry point with @spawn, @shell exports
└── .claude/            # Copied config files
    ├── settings.json
    ├── CLAUDE.md
    └── hooks.json
</code></pre>
<h4 id="mlld-env-spawn-%3Cname%3E----%3Cprompt%3E" tabindex="-1"><code>mlld env spawn &lt;name&gt; -- &lt;prompt&gt;</code></h4>
<p>Run an agent with a prompt using the environment's credentials and configuration.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Basic usage</span>
mlld <span class="token function">env</span> spawn my-claude -- <span class="token string">"Fix the authentication bug"</span>

<span class="token comment"># Equivalent to running claude -p with the environment's config</span>
mlld <span class="token function">env</span> spawn my-claude -- claude <span class="token parameter variable">-p</span> <span class="token string">"Refactor the tests"</span>
</code></pre>
<p>The environment module's <code>@spawn</code> export is invoked with the prompt. Credentials are injected from the keychain.</p>
<h4 id="mlld-env-shell-%3Cname%3E" tabindex="-1"><code>mlld env shell &lt;name&gt;</code></h4>
<p>Start an interactive agent session.</p>
<pre class="language-bash"><code class="language-bash">mlld <span class="token function">env</span> shell my-claude
</code></pre>
<p>Invokes the environment module's <code>@shell</code> export, which typically starts an interactive Claude session with the captured configuration.</p>
<h4 id="environment-module-structure" tabindex="-1">Environment Module Structure</h4>
<p>Environment modules use <code>type: environment</code> in their manifest:</p>
<pre class="language-yaml"><code class="language-yaml"><span class="token comment"># module.yml</span>
<span class="token key atrule">name</span><span class="token punctuation">:</span> my<span class="token punctuation">-</span>claude
<span class="token key atrule">type</span><span class="token punctuation">:</span> environment
<span class="token key atrule">about</span><span class="token punctuation">:</span> <span class="token string">"Development Claude environment"</span>
<span class="token key atrule">version</span><span class="token punctuation">:</span> 1.0.0
<span class="token key atrule">entry</span><span class="token punctuation">:</span> index.mld
</code></pre>
<p>Required exports:</p>
<ul>
<li><code>@spawn(prompt)</code> - Run agent with prompt</li>
<li><code>@shell()</code> - Start interactive session</li>
</ul>
<p>Optional exports:</p>
<ul>
<li><code>@mcpConfig()</code> - Return MCP server configuration</li>
</ul>
<p><strong>Example index.mld:</strong></p>
<pre class="language-mlld"><code class="language-mlld">/needs <span class="token punctuation">{</span> <span class="token object-key property">cmd</span><span class="token ternary-operator operator">:</span> <span class="token punctuation">[</span>claude<span class="token punctuation">]</span> <span class="token punctuation">}</span>
/<span class="token directive keyword">policy</span> @<span class="token directive keyword">env</span> <span class="token assignment-operator operator">=</span> <span class="token punctuation">{</span>
  <span class="token object-key property">auth</span><span class="token ternary-operator operator">:</span> <span class="token punctuation">{</span>
    <span class="token object-key property">claude</span><span class="token ternary-operator operator">:</span> <span class="token punctuation">{</span> <span class="token object-key property">from</span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>keychain:mlld-env/my-claude<span class="token punctuation">"</span></span><span class="token punctuation">,</span> <span class="token object-key property">as</span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>CLAUDE_CODE_OAUTH_TOKEN<span class="token punctuation">"</span></span> <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

/<span class="token directive keyword">exe</span> <span class="token variable variable">@spawn</span><span class="token punctuation">(</span>prompt<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span> \
  CLAUDE_CONFIG_DIR<span class="token assignment-operator operator">=</span><span class="token variable variable">@fm</span><span class="token field-access property">.dir</span>/<span class="token field-access property">.claude</span> \
  claude -p <span class="token variable variable">@prompt</span>
<span class="token punctuation">}</span> using <span class="token object-key property">auth</span><span class="token ternary-operator operator">:</span>claude

/<span class="token directive keyword">exe</span> <span class="token variable variable">@shell</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span> \
  CLAUDE_CONFIG_DIR<span class="token assignment-operator operator">=</span><span class="token variable variable">@fm</span><span class="token field-access property">.dir</span>/<span class="token field-access property">.claude</span> \
  claude
<span class="token punctuation">}</span> using <span class="token object-key property">auth</span><span class="token ternary-operator operator">:</span>claude

/<span class="token directive keyword">export</span> <span class="token punctuation">{</span> <span class="token variable variable">@spawn</span><span class="token punctuation">,</span> <span class="token variable variable">@shell</span> <span class="token punctuation">}</span>
</code></pre>
<h4 id="security" tabindex="-1">Security</h4>
<ul>
<li>Tokens are stored in the system keychain (macOS Keychain or libsecret via secret-tool), not in files</li>
<li>Credentials are injected at runtime via <code>using auth:*</code> syntax</li>
<li>Config files (settings, hooks) are copied, not credentials</li>
</ul>
<h2 id="registry-commands" tabindex="-1">Registry Commands</h2>
<h3 id="mlld-registry" tabindex="-1"><code>mlld registry</code></h3>
<p>Interact with the mlld module registry.</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Search for modules</span>
mlld registry search json

<span class="token comment"># Check security</span>
mlld registry audit

<span class="token comment"># Update modules</span>
mlld registry update
</code></pre>
<p><strong>Subcommands:</strong></p>
<ul>
<li><code>search &lt;query&gt;</code> - Search for modules</li>
<li><code>audit</code> - Check for security advisories</li>
<li><code>update</code> - Update modules</li>
<li><code>stats</code> - Show usage statistics</li>
</ul>
<h2 id="configuration-files" tabindex="-1">Configuration Files</h2>
<p>mlld uses two configuration files:</p>
<ul>
<li><code>mlld-config.json</code> — Your project settings (edit manually)</li>
<li><code>mlld-lock.json</code> — Auto-generated locks (do not edit)</li>
</ul>
<h3 id="mlld-config.json" tabindex="-1">mlld-config.json</h3>
<p>Your project settings. Edit manually to configure resolvers, validation options, and script directories.</p>
<p><strong>Location:</strong> Project root</p>
<p><strong>Example:</strong></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"resolvers"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"prefixes"</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"@local/"</span><span class="token punctuation">,</span>
        <span class="token property">"resolver"</span><span class="token operator">:</span> <span class="token string">"LOCAL"</span><span class="token punctuation">,</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>
        <span class="token property">"config"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"basePath"</span><span class="token operator">:</span> <span class="token string">"./llm/modules"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">"prefix"</span><span class="token operator">:</span> <span class="token string">"@myorg/"</span><span class="token punctuation">,</span>
        <span class="token property">"resolver"</span><span class="token operator">:</span> <span class="token string">"GITHUB"</span><span class="token punctuation">,</span>
        <span class="token property">"type"</span><span class="token operator">:</span> <span class="token string">"input"</span><span class="token punctuation">,</span>
        <span class="token property">"config"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">"repository"</span><span class="token operator">:</span> <span class="token string">"myorg/private-modules"</span><span class="token punctuation">,</span>
          <span class="token property">"branch"</span><span class="token operator">:</span> <span class="token string">"main"</span><span class="token punctuation">,</span>
          <span class="token property">"basePath"</span><span class="token operator">:</span> <span class="token string">"modules"</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"validate"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"suppressWarnings"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"exe-parameter-shadowing"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="mlld-lock.json" tabindex="-1">mlld-lock.json</h3>
<p>Auto-generated lock file. Do not edit manually. Created by <code>mlld setup</code> or when installing modules.</p>
<p><strong>Location:</strong> Project root</p>
<p><strong>Example:</strong></p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"modules"</span><span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"security"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"allowedEnv"</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">"MLLD_NODE_ENV"</span><span class="token punctuation">,</span> <span class="token string">"MLLD_API_KEY"</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="global-configuration" tabindex="-1">Global Configuration</h3>
<p><strong>Location:</strong> <code>~/.config/mlld/mlld-config.json</code></p>
<p>Used for global aliases and user-wide settings. Created by <code>mlld alias --global</code>.</p>
<h2 id="environment-variables" tabindex="-1">Environment Variables</h2>
<h3 id="built-in-variables" tabindex="-1">Built-in Variables</h3>
<ul>
<li><code>MLLD_TEST</code> - Enable test mode</li>
<li><code>LOG_LEVEL</code> - Set logging level</li>
<li><code>NO_COLOR</code> - Disable colored output</li>
</ul>
<h3 id="custom-variables" tabindex="-1">Custom Variables</h3>
<p>All custom environment variables must be prefixed with <code>MLLD_</code>. Allow them in <code>mlld-lock.json</code>:</p>
<pre class="language-bash"><code class="language-bash">mlld vars allow MY_API_KEY
</code></pre>
<p>Then use in mlld files:</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token directive keyword">import</span> <span class="token punctuation">{</span> MY_API_KEY <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
</code></pre>
<h2 id="file-extensions" tabindex="-1">File Extensions</h2>
<p>mlld supports several file extensions:</p>
<ul>
<li><code>.mld</code> - Standard mlld files</li>
<li><code>.mld.md</code> - mlld files with Markdown (recommended for modules)</li>
<li><code>.mlld</code> - Alternative extension</li>
<li><code>.mlld.md</code> - Alternative Markdown extension</li>
</ul>
<h2 id="common-workflows" tabindex="-1">Common Workflows</h2>
<h3 id="creating-and-publishing-a-module" tabindex="-1">Creating and Publishing a Module</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># 1. Create module</span>
mlld init my-utils.mld.md

<span class="token comment"># 2. Develop and test</span>
mlld my-utils.mld.md

<span class="token comment"># 3. Add dependencies</span>
mlld add-needs my-utils.mld.md

<span class="token comment"># 4. Publish</span>
mlld publish my-utils.mld.md
</code></pre>
<h3 id="setting-up-private-modules" tabindex="-1">Setting Up Private Modules</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># 1. Configure GitHub access</span>
mlld auth login
mlld setup <span class="token parameter variable">--github</span>

<span class="token comment"># 2. Create path aliases</span>
mlld <span class="token builtin class-name">alias</span> <span class="token parameter variable">--name</span> <span class="token builtin class-name">local</span> <span class="token parameter variable">--path</span> ./llm/modules

<span class="token comment"># 3. Publish privately</span>
mlld publish my-module.mld.md <span class="token parameter variable">--private</span>
</code></pre>
<h3 id="team-development" tabindex="-1">Team Development</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># 1. Clone project with mlld.lock.json</span>
<span class="token function">git</span> clone myproject
<span class="token builtin class-name">cd</span> myproject

<span class="token comment"># 2. Install modules</span>
mlld <span class="token function">install</span>

<span class="token comment"># 3. Set up environment</span>
mlld vars allow GITHUB_TOKEN API_KEY

<span class="token comment"># 4. Run mlld files</span>
mlld main.mld
</code></pre>
<h2 id="troubleshooting" tabindex="-1">Troubleshooting</h2>
<h3 id="authentication-issues" tabindex="-1">Authentication Issues</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Check auth status</span>
mlld auth status

<span class="token comment"># Re-authenticate</span>
mlld auth <span class="token builtin class-name">logout</span>
mlld auth login
</code></pre>
<h3 id="module-not-found" tabindex="-1">Module Not Found</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Check installed modules</span>
mlld <span class="token function">ls</span>

<span class="token comment"># Reinstall missing modules</span>
mlld <span class="token function">install</span>

<span class="token comment"># Check resolver configuration</span>
mlld setup <span class="token parameter variable">--check</span>
</code></pre>
<h3 id="permission-errors" tabindex="-1">Permission Errors</h3>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Check allowed environment variables</span>
mlld vars list

<span class="token comment"># Add required variables</span>
mlld vars allow NEEDED_VAR
</code></pre>
<h2 id="exit-codes" tabindex="-1">Exit Codes</h2>
<ul>
<li><code>0</code> - Success</li>
<li><code>1</code> - General error</li>
<li><code>2</code> - Invalid arguments</li>
<li><code>3</code> - File not found</li>
<li><code>4</code> - Authentication required</li>
<li><code>5</code> - Network error</li>
</ul>
<h2 id="getting-help" tabindex="-1">Getting Help</h2>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># General help</span>
mlld <span class="token parameter variable">--help</span>

<span class="token comment"># Command-specific help</span>
mlld publish <span class="token parameter variable">--help</span>
mlld setup <span class="token parameter variable">--help</span>
</code></pre>

  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const toggleButton = document.querySelector('.docs-sidebar-toggle');
    const sidebar = document.getElementById('docs-sidebar');
    const overlay = document.getElementById('docs-overlay');
    
    // Function to toggle the sidebar
    function toggleSidebar() {
      const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
      toggleButton.setAttribute('aria-expanded', !isExpanded);
      sidebar.classList.toggle('open');
      
      // Toggle overlay
      overlay.classList.toggle('active');
      
      // Lock/unlock body scroll when sidebar is open on mobile
      if (window.innerWidth <= 950) {
        document.body.classList.toggle('sidebar-open', !isExpanded);
      }
    }
    
    // Add click event for toggle button
    toggleButton.addEventListener('click', toggleSidebar);
    
    // Add click event for overlay to close sidebar
    overlay.addEventListener('click', function() {
      if (sidebar.classList.contains('open')) {
        toggleSidebar();
      }
    });
    
    // Close sidebar when clicking on a link (mobile only)
    sidebar.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', function() {
        if (window.innerWidth <= 950 && sidebar.classList.contains('open')) {
          toggleSidebar();
        }
      });
    });
    
    // Close sidebar when clicking outside of it (mobile only) - now handled by overlay
    document.addEventListener('click', function(event) {
      if (window.innerWidth <= 950 && 
          sidebar.classList.contains('open') && 
          !sidebar.contains(event.target) && 
          !toggleButton.contains(event.target) &&
          !overlay.contains(event.target)) {
        toggleSidebar();
      }
    });
  });
</script>

    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2026 mlld - <a href="https://github.com/mlld-lang/mlld">GitHub</a></p>
    </div>
  </footer>
</body>
</html>