<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>mlld Modules - mlld</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tektur:wght@800&family=Cousine:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/prism-theme.css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/theme.js" defer></script>
  <script src="/js/terminal.js" defer></script>
  <script src="/js/animation.js" defer></script>
  <script src="/js/copy-code.js" defer></script>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo-container">
        <a href="/" class="logo">mlld</a>
        <span class="logo-tagline">pre-release</span>
      </div>
      <nav>
        <ul>
          <li><a href="/docs/" aria-current=&quot;page&quot;>⚠️ Docs</a></li>
          <li><a href="https://discord.gg/mlld">Discord</a></li>
          <li><a href="https://github.com/mlld-lang/mlld">GitHub</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      
<div class="docs-layout">
  <button class="docs-sidebar-toggle" aria-label="Toggle menu" aria-expanded="false">
    <span class="hamburger-icon">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </span>
    <span class="toggle-text">Menu</span>
  </button>
  
  <!-- Add overlay for mobile --> 
  <div class="docs-overlay" id="docs-overlay"></div>
  
  <aside class="docs-sidebar" id="docs-sidebar">
    <nav>
      <h3>Documentation</h3>
      <ul class="nav-list">
        <li><a href="/docs/introduction/" >Introduction</a></li>
        
          
        
          
            <li><a href="/docs/cli/" >CLI Usage </a></li>
          
        
          
            <li><a href="/docs/content-and-data/" >Content and Data</a></li>
          
        
          
            <li><a href="/docs/flow-control/" >Control Flow</a></li>
          
        
          
            <li><a href="/docs/mcp/" >MCP Server Support</a></li>
          
        
          
        
          
            <li><a href="/docs/modules/" aria-current=&quot;page&quot;>mlld Modules</a></li>
          
        
          
            <li><a href="/docs/registry/" >mlld Registry</a></li>
          
        
          
            <li><a href="/docs/resolvers/" >mlld Resolvers</a></li>
          
        
          
            <li><a href="/docs/quickstart/" >Quick Start</a></li>
          
        
          
            <li><a href="/docs/sdk/" >SDK Usage</a></li>
          
        
          
            <li><a href="/docs/security/" >Security</a></li>
          
        
          
            <li><a href="/docs/reference/" >Syntax Reference</a></li>
          
        
          
            <li><a href="/docs/testing/" >Testing modules</a></li>
          
        
          
            <li><a href="/docs/large-variables/" >Working with Large Variables</a></li>
          
        
      </ul>
    </nav>
  </aside>
  
  <div class="docs-content">
    <h1>⚠️ mlld is pre-release</h1>
    <p><a href="https://discord.gg/mlld">Join the discord</a> if you have questions. <a href="https://github.com/mlld/mlld/issues">Report bugs on GitHub</a>.</p>
    <h1 id="mlld-modules" tabindex="-1">mlld Modules</h1>
<h2 id="tldr" tabindex="-1">tldr</h2>
<p>Modules let you package and reuse mlld code. Create modules with <code>/export</code>, import with <code>/import</code>, and publish to the registry with <code>mlld publish</code>. Modules capture their environment so executables work anywhere.</p>
<h2 id="creating-modules" tabindex="-1">Creating Modules</h2>
<h3 id="basic-module-structure" tabindex="-1">Basic Module Structure</h3>
<pre class="language-mlld"><code class="language-mlld">---
name<span class="token ternary-operator operator">:</span> greetings
author<span class="token ternary-operator operator">:</span> alice
version<span class="token ternary-operator operator">:</span> <span class="token number">1</span><span class="token field-access property">.0</span><span class="token field-access property">.0</span>
about<span class="token ternary-operator operator">:</span> Simple greeting utilities
needs<span class="token ternary-operator operator">:</span> []
license<span class="token ternary-operator operator">:</span> CC0
---

/<span class="token directive keyword">exe</span> <span class="token variable variable">@sayHello</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span>Hello, <span class="token variable">@name</span>!<span class="token punctuation">`</span></span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@sayGoodbye</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span>Goodbye, <span class="token variable">@name</span>!<span class="token punctuation">`</span></span>

/export <span class="token punctuation">{</span> <span class="token variable variable">@sayHello</span><span class="token punctuation">,</span> <span class="token variable variable">@sayGoodbye</span> <span class="token punctuation">}</span>
</code></pre>
<p>Save as <code>greetings.mld</code> and it's ready to import.</p>
<h3 id="export-control" tabindex="-1">Export Control</h3>
<p><code>/export</code> declares what others can import:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">exe</span> <span class="token variable variable">@publicHelper</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span>Value: <span class="token variable">@x</span><span class="token punctuation">`</span></span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@_internalHelper</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span>echo <span class="token string-interpolated"><span class="token punctuation">"</span><span class="token variable">@x</span><span class="token punctuation">"</span></span> <span class="token pipe-operator operator">|</span> tr a-z A-Z<span class="token punctuation">}</span>

/export <span class="token punctuation">{</span> <span class="token variable variable">@publicHelper</span> <span class="token punctuation">}</span>
</code></pre>
<p>Only <code>@publicHelper</code> is accessible to importers. Without <code>/export</code>, all variables are exported (legacy behavior).</p>
<h3 id="module-dependencies" tabindex="-1">Module Dependencies</h3>
<p>Declare what your module needs:</p>
<pre class="language-mlld"><code class="language-mlld">---
needs<span class="token ternary-operator operator">:</span> <span class="token path"><span class="token punctuation">[</span>js, sh<span class="token punctuation">]</span></span>
needs-js<span class="token ternary-operator operator">:</span>
  packages<span class="token ternary-operator operator">:</span> <span class="token path"><span class="token punctuation">[</span>lodash<span class="token punctuation">]</span></span>
needs-sh<span class="token ternary-operator operator">:</span>
  commands<span class="token ternary-operator operator">:</span> <span class="token path"><span class="token punctuation">[</span>git, curl<span class="token punctuation">]</span></span>
---
</code></pre>
<p>Auto-detect dependencies:</p>
<pre class="language-bash"><code class="language-bash">mlld add-needs greetings.mld
</code></pre>
<h2 id="importing-modules" tabindex="-1">Importing Modules</h2>
<h3 id="registry-modules" tabindex="-1">Registry Modules</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils
/<span class="token directive keyword">show</span> <span class="token variable variable">@helper</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>data<span class="token punctuation">"</span></span><span class="token punctuation">)</span>
</code></pre>
<p>Install first:</p>
<pre class="language-bash"><code class="language-bash">mlld <span class="token function">install</span> @alice/utils
</code></pre>
<h3 id="local-files" tabindex="-1">Local Files</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@config</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token comparison-operator operator">&lt;</span>./config<span class="token field-access property">.mld</span><span class="token comparison-operator operator">></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.apiKey</span>
</code></pre>
<h3 id="url-imports" tabindex="-1">URL Imports</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> cached<span class="token punctuation">(</span>1h<span class="token punctuation">)</span> <span class="token comparison-operator operator">&lt;</span>https<span class="token ternary-operator operator">:</span>//example<span class="token field-access property">.com</span>/utils<span class="token field-access property">.mld</span><span class="token comparison-operator operator">></span> <span class="token operator">as</span> <span class="token variable variable">@remote</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@remote</span><span class="token field-access property">.version</span>
</code></pre>
<h3 id="import-types" tabindex="-1">Import Types</h3>
<p>Control when and how imports resolve:</p>
<pre class="language-mlld"><code class="language-mlld"># Registry module <span class="token punctuation">(</span>offline after install<span class="token punctuation">)</span>
/<span class="token directive keyword">import</span> module <span class="token punctuation">{</span> <span class="token variable variable">@api</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@company</span>/tools

# Embedded at parse time
/<span class="token directive keyword">import</span> static <span class="token comparison-operator operator">&lt;</span>./prompts/system<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span> <span class="token operator">as</span> <span class="token variable variable">@systemPrompt</span>

# Always fetch fresh
/<span class="token directive keyword">import</span> live <span class="token comparison-operator operator">&lt;</span>https<span class="token ternary-operator operator">:</span>//api<span class="token field-access property">.status</span><span class="token field-access property">.io</span><span class="token comparison-operator operator">></span> <span class="token operator">as</span> <span class="token variable variable">@status</span>

# Cached <span class="token operator">with</span> TTL
/<span class="token directive keyword">import</span> cached<span class="token punctuation">(</span>30m<span class="token punctuation">)</span> <span class="token comparison-operator operator">&lt;</span>https<span class="token ternary-operator operator">:</span>//feed<span class="token field-access property">.xml</span><span class="token comparison-operator operator">></span> <span class="token operator">as</span> <span class="token variable variable">@feed</span>

# Local development <span class="token punctuation">(</span>llm/modules/<span class="token punctuation">)</span>
/<span class="token directive keyword">import</span> local <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/dev-module
</code></pre>
<h3 id="import-patterns" tabindex="-1">Import Patterns</h3>
<p><strong>Selected imports</strong>:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span><span class="token punctuation">,</span> <span class="token variable variable">@validator</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils
</code></pre>
<p><strong>Namespace imports</strong>:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token variable variable">@alice</span>/utils <span class="token operator">as</span> <span class="token variable variable">@utils</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@utils</span><span class="token field-access property">.helper</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>data<span class="token punctuation">"</span></span><span class="token punctuation">)</span>
</code></pre>
<p><strong>Avoid collisions</strong>:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils
/<span class="token directive keyword">import</span> <span class="token variable variable">@bob</span>/tools <span class="token operator">as</span> <span class="token variable variable">@bob</span>  # Use namespace <span class="token directive keyword">for</span> second <span class="token directive keyword">import</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@helper</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>x<span class="token punctuation">"</span></span><span class="token punctuation">)</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@bob</span><span class="token field-access property">.helper</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>y<span class="token punctuation">"</span></span><span class="token punctuation">)</span>
</code></pre>
<h2 id="module-environment" tabindex="-1">Module Environment</h2>
<p>Modules capture their defining environment. Executables reference their original variables:</p>
<pre class="language-mlld"><code class="language-mlld"># In utils<span class="token field-access property">.mld</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@prefix</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Result: <span class="token punctuation">"</span></span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@format</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span><span class="token variable">@prefix</span> <span class="token variable">@x</span><span class="token punctuation">`</span></span>
/export <span class="token punctuation">{</span> <span class="token variable variable">@format</span> <span class="token punctuation">}</span>
</code></pre>
<p>When imported:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@format</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token comparison-operator operator">&lt;</span>./utils<span class="token field-access property">.mld</span><span class="token comparison-operator operator">></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@format</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">)</span>  # → <span class="token string-interpolated"><span class="token punctuation">"</span>Result: success<span class="token punctuation">"</span></span>
</code></pre>
<p><code>@prefix</code> resolves from the module, not your script.</p>
<h2 id="development-workflow" tabindex="-1">Development Workflow</h2>
<h3 id="local-development" tabindex="-1">Local Development</h3>
<ol>
<li>Create module in <code>llm/modules/</code>:</li>
</ol>
<pre class="language-bash"><code class="language-bash"><span class="token function">mkdir</span> <span class="token parameter variable">-p</span> llm/modules/@alice
<span class="token comment"># Create llm/modules/@alice/my-tool.mld</span>
</code></pre>
<ol start="2">
<li>Use local import:</li>
</ol>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> local <span class="token punctuation">{</span> <span class="token variable variable">@tool</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/my-tool
</code></pre>
<ol start="3">
<li>Test and iterate without registry publishing</li>
</ol>
<h3 id="quick-start" tabindex="-1">Quick Start</h3>
<p>Generate module template:</p>
<pre class="language-bash"><code class="language-bash">mlld init-module @alice/my-tool
</code></pre>
<p>This creates a complete module structure with frontmatter and examples.</p>
<h3 id="testing-modules" tabindex="-1">Testing Modules</h3>
<p>Create test scripts in your project:</p>
<pre class="language-mlld"><code class="language-mlld"># test-module<span class="token field-access property">.mld</span>
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token comparison-operator operator">&lt;</span>./my-module<span class="token field-access property">.mld</span><span class="token comparison-operator operator">></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@result</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@helper</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>test<span class="token punctuation">"</span></span><span class="token punctuation">)</span>
/<span class="token directive keyword">when</span> <span class="token variable variable">@result</span> <span class="token comparison-operator operator">==</span> <span class="token string-interpolated"><span class="token punctuation">"</span>expected<span class="token punctuation">"</span></span> <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> <span class="token directive keyword">show</span> <span class="token string-interpolated"><span class="token punctuation">"</span>✓ Pass<span class="token punctuation">"</span></span>
/<span class="token directive keyword">when</span> <span class="token variable variable">@result</span> <span class="token comparison-operator operator">!=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>expected<span class="token punctuation">"</span></span> <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> <span class="token directive keyword">show</span> <span class="token string-interpolated"><span class="token punctuation">"</span>✗ Fail<span class="token punctuation">"</span></span>
</code></pre>
<p>Run tests:</p>
<pre class="language-bash"><code class="language-bash">mlld test-module.mld
</code></pre>
<h2 id="configuration" tabindex="-1">Configuration</h2>
<h3 id="project-config-(mlld-config.json)" tabindex="-1">Project Config (mlld-config.json)</h3>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"dependencies"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"@alice/utils"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
    <span class="token property">"@company/auth"</span><span class="token operator">:</span> <span class="token string">"latest"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">"dev"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"localModulesPath"</span><span class="token operator">:</span> <span class="token string">"llm/modules"</span><span class="token punctuation">,</span>
    <span class="token property">"enabled"</span><span class="token operator">:</span> <span class="token boolean">true</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Create config:</p>
<pre class="language-bash"><code class="language-bash">mlld setup
</code></pre>
<h3 id="lock-file-(mlld-lock.json)" tabindex="-1">Lock File (mlld-lock.json)</h3>
<p>Auto-generated when you install modules. Ensures reproducible imports:</p>
<pre class="language-json"><code class="language-json"><span class="token punctuation">{</span>
  <span class="token property">"lockfileVersion"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
  <span class="token property">"modules"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">"@alice/utils"</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">"version"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>
      <span class="token property">"resolved"</span><span class="token operator">:</span> <span class="token string">"abc123def456..."</span><span class="token punctuation">,</span>
      <span class="token property">"source"</span><span class="token operator">:</span> <span class="token string">"@alice/utils"</span><span class="token punctuation">,</span>
      <span class="token property">"sourceUrl"</span><span class="token operator">:</span> <span class="token string">"https://registry.mlld.org/modules/@alice/utils/1.0.0"</span><span class="token punctuation">,</span>
      <span class="token property">"integrity"</span><span class="token operator">:</span> <span class="token string">"sha256:abc123..."</span><span class="token punctuation">,</span>
      <span class="token property">"fetchedAt"</span><span class="token operator">:</span> <span class="token string">"2024-01-15T10:00:00Z"</span><span class="token punctuation">,</span>
      <span class="token property">"registryVersion"</span><span class="token operator">:</span> <span class="token string">"1.0.0"</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Never edit manually. Use <code>mlld install</code>, <code>mlld update</code>, or <code>mlld outdated</code>.</p>
<h2 id="commands" tabindex="-1">Commands</h2>
<h3 id="install-dependencies" tabindex="-1">Install Dependencies</h3>
<pre class="language-bash"><code class="language-bash">mlld <span class="token function">install</span>                    <span class="token comment"># Install from mlld-config.json</span>
mlld <span class="token function">install</span> @alice/utils       <span class="token comment"># Install specific module</span>
mlld <span class="token function">install</span> @alice/utils@1.2.0 <span class="token comment"># Install specific version</span>
</code></pre>
<h3 id="update-modules" tabindex="-1">Update Modules</h3>
<pre class="language-bash"><code class="language-bash">mlld update                     <span class="token comment"># Update all modules</span>
mlld update @alice/utils        <span class="token comment"># Update specific module</span>
mlld outdated                   <span class="token comment"># Check for newer versions</span>
</code></pre>
<h3 id="publishing" tabindex="-1">Publishing</h3>
<pre class="language-bash"><code class="language-bash">mlld publish my-module.mld      <span class="token comment"># Publish to registry</span>
mlld publish <span class="token parameter variable">--pr</span>               <span class="token comment"># Force PR workflow</span>
</code></pre>
<p>See <a href="registry.md">registry.md</a> for publishing details.</p>
<h2 id="version-resolution" tabindex="-1">Version Resolution</h2>
<p>Use semantic versioning:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils          # latest
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils<span class="token variable variable">@1</span><span class="token field-access property">.0</span><span class="token field-access property">.0</span>    # exact
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils@^<span class="token number">1</span><span class="token field-access property">.0</span><span class="token field-access property">.0</span>   # compatible
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@alice</span>/utils<span class="token variable variable">@beta</span>     # tag
</code></pre>
<p>Lock file pins exact versions for reproducibility.</p>
<h2 id="best-practices" tabindex="-1">Best Practices</h2>
<p><strong>Use explicit exports</strong>:</p>
<pre class="language-mlld"><code class="language-mlld">/export <span class="token punctuation">{</span> <span class="token variable variable">@publicAPI</span><span class="token punctuation">,</span> <span class="token variable variable">@helper</span> <span class="token punctuation">}</span>
</code></pre>
<p><strong>Prefix internals</strong> (convention):</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">exe</span> <span class="token variable variable">@_internal</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>opaque<span class="token punctuation">"</span></span>  # Not in export list
</code></pre>
<p><strong>Document exports</strong>:</p>
<pre class="language-mlld"><code class="language-mlld"># Public API <span class="token directive keyword">for</span> data transformation
/<span class="token directive keyword">exe</span> <span class="token variable variable">@transform</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span>Processed: <span class="token variable">@data</span><span class="token punctuation">`</span></span>
/export <span class="token punctuation">{</span> <span class="token variable variable">@transform</span> <span class="token punctuation">}</span>
</code></pre>
<p><strong>Test before publishing</strong>:</p>
<pre class="language-bash"><code class="language-bash">mlld my-module.mld  <span class="token comment"># Run as script first</span>
</code></pre>
<p><strong>Use local imports for development</strong>:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> local <span class="token punctuation">{</span> <span class="token variable variable">@tool</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token variable variable">@me</span>/dev-module
</code></pre>
<h2 id="common-patterns" tabindex="-1">Common Patterns</h2>
<h3 id="config-module" tabindex="-1">Config Module</h3>
<pre class="language-mlld"><code class="language-mlld">---
name<span class="token ternary-operator operator">:</span> config
about<span class="token ternary-operator operator">:</span> App configuration
---

/<span class="token directive keyword">var</span> <span class="token variable variable">@apiUrl</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>https://api.example.com<span class="token punctuation">"</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@timeout</span> <span class="token assignment-operator operator">=</span> <span class="token number">30000</span>
/export <span class="token punctuation">{</span> <span class="token variable variable">@apiUrl</span><span class="token punctuation">,</span> <span class="token variable variable">@timeout</span> <span class="token punctuation">}</span>
</code></pre>
<h3 id="utility-collection" tabindex="-1">Utility Collection</h3>
<pre class="language-mlld"><code class="language-mlld">---
name<span class="token ternary-operator operator">:</span> text-utils
about<span class="token ternary-operator operator">:</span> String manipulation utilities
---

/<span class="token directive keyword">exe</span> <span class="token variable variable">@uppercase</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span>echo <span class="token string-interpolated"><span class="token punctuation">"</span><span class="token variable">@text</span><span class="token punctuation">"</span></span> <span class="token pipe-operator operator">|</span> tr a-z A-Z<span class="token punctuation">}</span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@trim</span><span class="token punctuation">(</span>text<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span> return <span class="token variable variable">@text</span><span class="token field-access property">.trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span>
/export <span class="token punctuation">{</span> <span class="token variable variable">@uppercase</span><span class="token punctuation">,</span> <span class="token variable variable">@trim</span> <span class="token punctuation">}</span>
</code></pre>
<h3 id="template-library" tabindex="-1">Template Library</h3>
<pre class="language-mlld"><code class="language-mlld">---
name<span class="token ternary-operator operator">:</span> prompts
about<span class="token ternary-operator operator">:</span> Reusable prompts
---

/<span class="token directive keyword">exe</span> <span class="token variable variable">@systemPrompt</span><span class="token punctuation">(</span>role<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span>You are a <span class="token variable">@role</span> assistant.<span class="token punctuation">`</span></span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@userPrompt</span><span class="token punctuation">(</span>task<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span>Please help me with: <span class="token variable">@task</span><span class="token punctuation">`</span></span>
/export <span class="token punctuation">{</span> <span class="token variable variable">@systemPrompt</span><span class="token punctuation">,</span> <span class="token variable variable">@userPrompt</span> <span class="token punctuation">}</span>
</code></pre>
<h2 id="troubleshooting" tabindex="-1">Troubleshooting</h2>
<p><strong>Import not found</strong>:</p>
<pre class="language-bash"><code class="language-bash">mlld <span class="token function">install</span> @alice/utils  <span class="token comment"># Install first</span>
</code></pre>
<p><strong>Version mismatch</strong>:</p>
<pre class="language-bash"><code class="language-bash">mlld update @alice/utils   <span class="token comment"># Update to latest</span>
<span class="token comment"># Or edit mlld-config.json and run mlld install</span>
</code></pre>
<p><strong>Export not found</strong>:<br>
Check <code>/export</code> directive includes the variable name.</p>
<p><strong>Collision error</strong>:<br>
Use namespace imports:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token variable variable">@alice</span>/utils <span class="token operator">as</span> <span class="token variable variable">@alice</span>
/<span class="token directive keyword">import</span> <span class="token variable variable">@bob</span>/utils <span class="token operator">as</span> <span class="token variable variable">@bob</span>
</code></pre>
<p><strong>Module not updating</strong>:<br>
Local imports read from disk every time. Registry modules are cached - use <code>mlld update</code> to refresh.</p>

  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const toggleButton = document.querySelector('.docs-sidebar-toggle');
    const sidebar = document.getElementById('docs-sidebar');
    const overlay = document.getElementById('docs-overlay');
    
    // Function to toggle the sidebar
    function toggleSidebar() {
      const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
      toggleButton.setAttribute('aria-expanded', !isExpanded);
      sidebar.classList.toggle('open');
      
      // Toggle overlay
      overlay.classList.toggle('active');
      
      // Lock/unlock body scroll when sidebar is open on mobile
      if (window.innerWidth <= 950) {
        document.body.classList.toggle('sidebar-open', !isExpanded);
      }
    }
    
    // Add click event for toggle button
    toggleButton.addEventListener('click', toggleSidebar);
    
    // Add click event for overlay to close sidebar
    overlay.addEventListener('click', function() {
      if (sidebar.classList.contains('open')) {
        toggleSidebar();
      }
    });
    
    // Close sidebar when clicking on a link (mobile only)
    sidebar.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', function() {
        if (window.innerWidth <= 950 && sidebar.classList.contains('open')) {
          toggleSidebar();
        }
      });
    });
    
    // Close sidebar when clicking outside of it (mobile only) - now handled by overlay
    document.addEventListener('click', function(event) {
      if (window.innerWidth <= 950 && 
          sidebar.classList.contains('open') && 
          !sidebar.contains(event.target) && 
          !toggleButton.contains(event.target) &&
          !overlay.contains(event.target)) {
        toggleSidebar();
      }
    });
  });
</script>

    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 mlld - <a href="https://github.com/mlld-lang/mlld">GitHub</a></p>
    </div>
  </footer>
</body>
</html>