<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Content and Data - mlld</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Tektur:wght@800&family=Cousine:wght@400;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="/css/prism-theme.css">
  <link rel="stylesheet" href="/css/style.css">
  <script src="/js/theme.js" defer></script>
  <script src="/js/terminal.js" defer></script>
  <script src="/js/animation.js" defer></script>
  <script src="/js/copy-code.js" defer></script>
</head>
<body>
  <header>
    <div class="container">
      <div class="logo-container">
        <a href="/" class="logo">mlld</a>
        <span class="logo-tagline">pre-release</span>
      </div>
      <nav>
        <ul>
          <li><a href="/docs/" aria-current=&quot;page&quot;>⚠️ Docs</a></li>
          <li><a href="https://discord.gg/mlld">Discord</a></li>
          <li><a href="https://github.com/mlld-lang/mlld">GitHub</a></li>
        </ul>
      </nav>
    </div>
  </header>

  <main>
    <div class="container">
      
<div class="docs-layout">
  <button class="docs-sidebar-toggle" aria-label="Toggle menu" aria-expanded="false">
    <span class="hamburger-icon">
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
      <span class="hamburger-line"></span>
    </span>
    <span class="toggle-text">Menu</span>
  </button>
  
  <!-- Add overlay for mobile --> 
  <div class="docs-overlay" id="docs-overlay"></div>
  
  <aside class="docs-sidebar" id="docs-sidebar">
    <nav>
      <h3>Documentation</h3>
      <ul class="nav-list">
        <li><a href="/docs/introduction/" >Introduction</a></li>
        
          
        
          
            <li><a href="/docs/cli/" >CLI Usage </a></li>
          
        
          
            <li><a href="/docs/content-and-data/" aria-current=&quot;page&quot;>Content and Data</a></li>
          
        
          
            <li><a href="/docs/flow-control/" >Control Flow</a></li>
          
        
          
            <li><a href="/docs/mcp/" >MCP Server Support</a></li>
          
        
          
        
          
            <li><a href="/docs/modules/" >mlld Modules</a></li>
          
        
          
            <li><a href="/docs/registry/" >mlld Registry</a></li>
          
        
          
            <li><a href="/docs/resolvers/" >mlld Resolvers</a></li>
          
        
          
            <li><a href="/docs/quickstart/" >Quick Start</a></li>
          
        
          
            <li><a href="/docs/sdk/" >SDK Usage</a></li>
          
        
          
            <li><a href="/docs/security/" >Security</a></li>
          
        
          
            <li><a href="/docs/reference/" >Syntax Reference</a></li>
          
        
          
            <li><a href="/docs/testing/" >Testing modules</a></li>
          
        
          
            <li><a href="/docs/large-variables/" >Working with Large Variables</a></li>
          
        
      </ul>
    </nav>
  </aside>
  
  <div class="docs-content">
    <h1>⚠️ mlld is pre-release</h1>
    <p><a href="https://discord.gg/mlld">Join the discord</a> if you have questions. <a href="https://github.com/mlld/mlld/issues">Report bugs on GitHub</a>.</p>
    <h1 id="content-and-data" tabindex="-1">Content and Data</h1>
<h2 id="tldr" tabindex="-1">tldr</h2>
<p>Load files with <code>&lt;file.txt&gt;</code>, work with data structures using dot notation, transform data with built-in methods, and access environment variables through <code>@input</code> imports.</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>config<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>             <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load and parse JSON
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.database</span><span class="token field-access property">.host</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Access nested fields
/<span class="token directive keyword">var</span> <span class="token variable variable">@files</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>docs/*<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>                <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load multiple files
/<span class="token directive keyword">show</span> <span class="token variable variable">@files</span><span class="token path"><span class="token punctuation">[</span>0<span class="token punctuation">]</span></span><span class="token field-access property">.filename</span>                  <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Access file metadata
</code></pre>
<h2 id="file-loading" tabindex="-1">File Loading</h2>
<p>Load file contents with angle brackets <code>&lt;&gt;</code>. This loads the actual file content, not the filename string.</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@readme</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>README<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>               <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load file content
/<span class="token directive keyword">var</span> <span class="token variable variable">@filename</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>README.md<span class="token punctuation">"</span></span>             <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Literal string

/<span class="token directive keyword">show</span> <span class="token variable variable">@readme</span>                            <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Shows file contents  
/<span class="token directive keyword">show</span> <span class="token variable variable">@filename</span>                          <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Shows <span class="token string-interpolated"><span class="token punctuation">"</span>README.md<span class="token punctuation">"</span></span>
</code></pre>
<h3 id="basic-loading" tabindex="-1">Basic Loading</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load different file types
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>package<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>            <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> JSON file
/<span class="token directive keyword">var</span> <span class="token variable variable">@docs</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>README<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Markdown file  
/<span class="token directive keyword">var</span> <span class="token variable variable">@script</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>build<span class="token field-access property">.sh</span><span class="token comparison-operator operator">></span>                <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Shell script
</code></pre>
<h3 id="multiple-files-with-globs" tabindex="-1">Multiple Files with Globs</h3>
<p>Use standard glob patterns to load multiple files:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@markdown</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>*<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>                  <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> All <span class="token field-access property">.md</span> in current dir
/<span class="token directive keyword">var</span> <span class="token variable variable">@tests</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>**/*<span class="token field-access property">.test</span><span class="token field-access property">.js</span><span class="token comparison-operator operator">></span>             <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> All test files recursively
/<span class="token directive keyword">var</span> <span class="token variable variable">@docs</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>docs/**/*<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> All markdown in docs tree
/<span class="token directive keyword">var</span> <span class="token variable variable">@source</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>src/**/*<span class="token field-access property">.ts</span><span class="token comparison-operator operator">></span>             <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> All TypeScript in src

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Access individual files
/<span class="token directive keyword">show</span> <span class="token variable variable">@docs</span><span class="token path"><span class="token punctuation">[</span>0<span class="token punctuation">]</span></span><span class="token field-access property">.content</span>                    <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> First file<span class="token string-literal">'s content
/show @docs[0].filename                   >> First file'</span>s name
</code></pre>
<h3 id="section-extraction" tabindex="-1">Section Extraction</h3>
<p>Extract specific sections from markdown files:</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Extract single section
/<span class="token directive keyword">var</span> <span class="token variable variable">@install</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>README<span class="token field-access property">.md</span> # Installation<span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Extract <span class="token operator">from</span> multiple files  
/<span class="token directive keyword">var</span> <span class="token variable variable">@apis</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>docs/*<span class="token field-access property">.md</span> # API Reference<span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Rename sections <span class="token operator">with</span> <span class="token string-literal">'as'</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@modules</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>*<span class="token field-access property">.md</span> # Overview<span class="token comparison-operator operator">></span> <span class="token operator">as</span> <span class="token string-interpolated"><span class="token punctuation">"</span>## &lt;>.filename Overview<span class="token punctuation">"</span></span>
</code></pre>
<p>The <code>&lt;&gt;</code> placeholder in <code>as</code> templates represents each file's metadata.</p>
<h3 id="ast-based-code-selection" tabindex="-1">AST-Based Code Selection</h3>
<p>Use curly braces after a file path to pull specific definitions or usages from source files.</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@handlers</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>src/service<span class="token field-access property">.ts</span> <span class="token punctuation">{</span> createUser<span class="token punctuation">,</span> <span class="token punctuation">(</span>logger<span class="token field-access property">.info</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token comparison-operator operator">></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@templated</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>src/**/*<span class="token field-access property">.py</span> <span class="token punctuation">{</span> create_user <span class="token punctuation">}</span><span class="token comparison-operator operator">></span> <span class="token operator">as</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>## <span class="token comparison-operator operator">&lt;</span><span class="token comparison-operator operator">></span><span class="token field-access property">.name</span>\n<span class="token backtick-template"><span class="token punctuation">`</span><span class="token punctuation">`</span></span><span class="token backtick-template"><span class="token punctuation">`</span>\n&lt;>.code\n<span class="token punctuation">`</span></span><span class="token backtick-template"><span class="token punctuation">`</span><span class="token punctuation">`</span></span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>
</code></pre>
<ul>
<li>Plain identifiers match top-level definitions by name.</li>
<li>Parentheses match definitions that reference the identifier anywhere in their body.</li>
<li>Supported extensions: <code>.js</code>, <code>.ts</code>, <code>.jsx</code>, <code>.tsx</code>, <code>.mjs</code>, <code>.py</code>, <code>.pyi</code>, <code>.rb</code>, <code>.go</code>, <code>.rs</code>, <code>.sol</code>, <code>.java</code>, <code>.cs</code>, <code>.c</code>, <code>.cpp</code>, <code>.h</code>, <code>.hpp</code>.</li>
<li>Glob patterns return <code>file</code> metadata so you can tell which match came from which file; missing patterns yield <code>null</code> so the output order stays aligned with your request.</li>
</ul>
<h2 id="file-metadata" tabindex="-1">File Metadata</h2>
<p>Every loaded file provides metadata through properties:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@file</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>package<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Basic metadata
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span><span class="token field-access property">.filename</span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>package.json<span class="token punctuation">"</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span><span class="token field-access property">.relative</span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>./package.json<span class="token punctuation">"</span></span> 
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span><span class="token field-access property">.absolute</span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Full <span class="token directive keyword">path</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Token counting
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span><span class="token field-access property">.tokest</span>                       <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Estimated tokens <span class="token punctuation">(</span>fast<span class="token punctuation">)</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span><span class="token field-access property">.tokens</span>                       <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Exact tokens

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Content access
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span><span class="token field-access property">.content</span>                      <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> File contents <span class="token punctuation">(</span>explicit<span class="token punctuation">)</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@file</span>                              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Same <span class="token operator">as</span> above <span class="token punctuation">(</span>implicit<span class="token punctuation">)</span>
</code></pre>
<p><strong>Note:</strong> Loaded files are <code>StructuredValue</code> objects with both <code>.text</code> (content string) and <code>.data</code> (rich metadata object) properties. Display automatically uses <code>.text</code>, while code can access <code>.data</code> for structured information.</p>
<h3 id="json-file-metadata" tabindex="-1">JSON File Metadata</h3>
<p>JSON files are automatically parsed:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>settings<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Direct field access on parsed JSON
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.json</span><span class="token field-access property">.apiUrl</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.json</span><span class="token field-access property">.users</span><span class="token path"><span class="token punctuation">[</span>0<span class="token punctuation">]</span></span><span class="token field-access property">.email</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Raw content still available
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.content</span>                    <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Raw JSON string
</code></pre>
<h3 id="frontmatter-access" tabindex="-1">Frontmatter Access</h3>
<p>Access YAML frontmatter from markdown files:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@post</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>b<span class="token directive keyword">log</span>/post<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>

/<span class="token directive keyword">show</span> <span class="token variable variable">@post</span><span class="token field-access property">.fm</span><span class="token field-access property">.title</span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Post title
/<span class="token directive keyword">show</span> <span class="token variable variable">@post</span><span class="token field-access property">.fm</span><span class="token field-access property">.author</span>                    <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Author name
/<span class="token directive keyword">show</span> <span class="token variable variable">@post</span><span class="token field-access property">.fm</span><span class="token field-access property">.tags</span>                      <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Array of tags

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Conditional processing
/<span class="token directive keyword">when</span> <span class="token variable variable">@post</span><span class="token field-access property">.fm</span><span class="token field-access property">.published</span> <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> <span class="token directive keyword">show</span> <span class="token variable variable">@post</span><span class="token field-access property">.content</span>
</code></pre>
<h2 id="url-loading" tabindex="-1">URL Loading</h2>
<p>Load content directly from URLs:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@page</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>https<span class="token ternary-operator operator">:</span>//example<span class="token field-access property">.com</span>/data<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> URL-specific metadata
/<span class="token directive keyword">show</span> <span class="token variable variable">@page</span><span class="token field-access property">.url</span>                          <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Full URL
/<span class="token directive keyword">show</span> <span class="token variable variable">@page</span><span class="token field-access property">.domain</span>                       <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>example.com<span class="token punctuation">"</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@page</span><span class="token field-access property">.status</span>                       <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> HTTP status code
/<span class="token directive keyword">show</span> <span class="token variable variable">@page</span><span class="token field-access property">.title</span>                        <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Page title <span class="token punctuation">(</span>if HTML<span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> HTML is converted <span class="token operator">to</span> markdown
/<span class="token directive keyword">show</span> <span class="token variable variable">@page</span><span class="token field-access property">.content</span>                      <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Markdown version
/<span class="token directive keyword">show</span> <span class="token variable variable">@page</span><span class="token field-access property">.html</span>                         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Original HTML
</code></pre>
<h2 id="variables-and-data-structures" tabindex="-1">Variables and Data Structures</h2>
<h3 id="creating-variables" tabindex="-1">Creating Variables</h3>
<p>Use <code>/var</code> to create variables with different data types:</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Primitives
/<span class="token directive keyword">var</span> <span class="token variable variable">@name</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Alice<span class="token punctuation">"</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@age</span> <span class="token assignment-operator operator">=</span> <span class="token number">30</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@active</span> <span class="token assignment-operator operator">=</span> <span class="token boolean">true</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Arrays
/<span class="token directive keyword">var</span> <span class="token variable variable">@fruits</span> <span class="token assignment-operator operator">=</span> <span class="token path"><span class="token punctuation">[</span>"apple", "banana", "cherry"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@numbers</span> <span class="token assignment-operator operator">=</span> <span class="token path"><span class="token punctuation">[</span>1, 2, 3, 4, 5<span class="token punctuation">]</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Objects
/<span class="token directive keyword">var</span> <span class="token variable variable">@user</span> <span class="token assignment-operator operator">=</span> <span class="token punctuation">{</span><span class="token string-interpolated"><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Alice<span class="token punctuation">"</span></span><span class="token punctuation">,</span> <span class="token string-interpolated"><span class="token punctuation">"</span>role<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>admin<span class="token punctuation">"</span></span><span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-interpolated"><span class="token punctuation">"</span>database<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token punctuation">{</span><span class="token string-interpolated"><span class="token punctuation">"</span>host<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>localhost<span class="token punctuation">"</span></span><span class="token punctuation">,</span> <span class="token string-interpolated"><span class="token punctuation">"</span>port<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token number">5432</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token string-interpolated"><span class="token punctuation">"</span>features<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token path"><span class="token punctuation">[</span>"auth", "api"<span class="token punctuation">]</span></span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="field-access" tabindex="-1">Field Access</h3>
<p>Access object properties and array elements with dot notation:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@user</span> <span class="token assignment-operator operator">=</span> <span class="token punctuation">{</span><span class="token string-interpolated"><span class="token punctuation">"</span>name<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Alice<span class="token punctuation">"</span></span><span class="token punctuation">,</span> <span class="token string-interpolated"><span class="token punctuation">"</span>scores<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token path"><span class="token punctuation">[</span>10, 20, 30<span class="token punctuation">]</span></span><span class="token punctuation">}</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Object fields
/<span class="token directive keyword">show</span> <span class="token variable variable">@user</span><span class="token field-access property">.name</span>                         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>Alice<span class="token punctuation">"</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Array elements by index
/<span class="token directive keyword">show</span> <span class="token variable variable">@user</span><span class="token field-access property">.scores</span><span class="token path"><span class="token punctuation">[</span>0<span class="token punctuation">]</span></span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token number">10</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@user</span><span class="token field-access property">.scores</span><span class="token path"><span class="token punctuation">[</span>1<span class="token punctuation">]</span></span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token number">20</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Nested access
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token punctuation">{</span><span class="token string-interpolated"><span class="token punctuation">"</span>db<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token punctuation">{</span><span class="token string-interpolated"><span class="token punctuation">"</span>host<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token string-interpolated"><span class="token punctuation">"</span>localhost<span class="token punctuation">"</span></span><span class="token punctuation">,</span> <span class="token string-interpolated"><span class="token punctuation">"</span>users<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token path"><span class="token punctuation">[</span>"admin", "guest"<span class="token punctuation">]</span></span><span class="token punctuation">}</span><span class="token punctuation">}</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.db</span><span class="token field-access property">.host</span>                    <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>localhost<span class="token punctuation">"</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@config</span><span class="token field-access property">.db</span><span class="token field-access property">.users</span><span class="token path"><span class="token punctuation">[</span>1<span class="token punctuation">]</span></span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>guest<span class="token punctuation">"</span></span>
</code></pre>
<h3 id="array-slicing" tabindex="-1">Array Slicing</h3>
<p>Extract subsets of arrays using <code>[start:end]</code> syntax:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@items</span> <span class="token assignment-operator operator">=</span> <span class="token path"><span class="token punctuation">[</span>"first", "second", "third", "fourth", "last"<span class="token punctuation">]</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Basic slicing
/<span class="token directive keyword">show</span> <span class="token variable variable">@items</span><span class="token path"><span class="token punctuation">[</span>0:3<span class="token punctuation">]</span></span>                        <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"first", "second", "third"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@items</span><span class="token path"><span class="token punctuation">[</span>2:<span class="token punctuation">]</span></span>                         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"third", "fourth", "last"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@items</span><span class="token path"><span class="token punctuation">[</span>:3<span class="token punctuation">]</span></span>                         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"first", "second", "third"<span class="token punctuation">]</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Negative indices
/<span class="token directive keyword">show</span> <span class="token variable variable">@items</span><span class="token path"><span class="token punctuation">[</span>-2:<span class="token punctuation">]</span></span>                        <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"fourth", "last"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@items</span><span class="token path"><span class="token punctuation">[</span>:-1<span class="token punctuation">]</span></span>                        <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"first", "second", "third", "fourth"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@items</span><span class="token path"><span class="token punctuation">[</span>1:-1<span class="token punctuation">]</span></span>                       <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"second", "third", "fourth"<span class="token punctuation">]</span></span>
</code></pre>
<h2 id="working-with-json-in-javascript-functions" tabindex="-1">Working with JSON in JavaScript Functions</h2>
<p>Use <code>.data</code> or <code>.json</code> to parse JSON strings before passing to functions. Use <code>.text</code> or <code>.content</code> to preserve strings.</p>
<h3 id="json-parsing" tabindex="-1">JSON Parsing</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@users</span> <span class="token assignment-operator operator">=</span> <span class="token string-literal">'[{"name": "Alice", "age": 30}, {"name": "Bob", "age": 25}]'</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Parse inside function
/<span class="token directive keyword">exe</span> <span class="token variable variable">@filter1</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  const data <span class="token assignment-operator operator">=</span> JSON<span class="token field-access property">.parse</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span>;
  return data<span class="token field-access property">.filter</span><span class="token punctuation">(</span>u <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> u<span class="token field-access property">.age</span> <span class="token comparison-operator operator">></span> <span class="token number">25</span><span class="token punctuation">)</span>;
<span class="token punctuation">}</span>
/<span class="token directive keyword">run</span> <span class="token variable variable">@filter1</span><span class="token punctuation">(</span><span class="token variable variable">@users</span><span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Parse before passing
/<span class="token directive keyword">exe</span> <span class="token variable variable">@filter2</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return users<span class="token field-access property">.filter</span><span class="token punctuation">(</span>u <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> u<span class="token field-access property">.age</span> <span class="token comparison-operator operator">></span> <span class="token number">25</span><span class="token punctuation">)</span>;
<span class="token punctuation">}</span>
/<span class="token directive keyword">run</span> <span class="token variable variable">@filter2</span><span class="token punctuation">(</span><span class="token variable variable">@users</span><span class="token field-access property">.data</span><span class="token punctuation">)</span>   <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token field-access property">.data</span> parses JSON
/<span class="token directive keyword">run</span> <span class="token variable variable">@filter2</span><span class="token punctuation">(</span><span class="token variable variable">@users</span><span class="token field-access property">.json</span><span class="token punctuation">)</span>   <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token field-access property">.json</span> is alias
</code></pre>
<h3 id="string-preservation" tabindex="-1">String Preservation</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@jsonStr</span> <span class="token assignment-operator operator">=</span> <span class="token string-literal">'{"name": "Alice", "active": true}'</span>

/<span class="token directive keyword">exe</span> <span class="token variable variable">@length</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return str<span class="token field-access property">.length</span>;
<span class="token punctuation">}</span>

/<span class="token directive keyword">run</span> <span class="token variable variable">@length</span><span class="token punctuation">(</span><span class="token variable variable">@jsonStr</span><span class="token punctuation">)</span>          <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Default<span class="token ternary-operator operator">:</span> string
/<span class="token directive keyword">run</span> <span class="token variable variable">@length</span><span class="token punctuation">(</span><span class="token variable variable">@jsonStr</span><span class="token field-access property">.text</span><span class="token punctuation">)</span>     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Explicit string
/<span class="token directive keyword">run</span> <span class="token variable variable">@length</span><span class="token punctuation">(</span><span class="token variable variable">@jsonStr</span><span class="token field-access property">.content</span><span class="token punctuation">)</span>  <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.text</span>
</code></pre>
<h3 id="common-use-cases" tabindex="-1">Common Use Cases</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Filter JSON array <span class="token operator">from</span> command
/<span class="token directive keyword">var</span> <span class="token variable variable">@json</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span>./mkjson<span class="token field-access property">.sh</span><span class="token punctuation">}</span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@filterHigh</span><span class="token punctuation">(</span>entries<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return entries<span class="token field-access property">.filter</span><span class="token punctuation">(</span>e <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> e<span class="token field-access property">.finding</span><span class="token field-access property">.startsWith</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>High<span class="token punctuation">"</span></span><span class="token punctuation">)</span><span class="token punctuation">)</span>;
<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@result</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@filterHigh</span><span class="token punctuation">(</span><span class="token variable variable">@json</span><span class="token field-access property">.data</span><span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Process API response
/<span class="token directive keyword">var</span> <span class="token variable variable">@response</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span>curl -s api<span class="token field-access property">.example</span><span class="token field-access property">.com</span>/data<span class="token punctuation">}</span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@getActive</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return data<span class="token field-access property">.users</span><span class="token field-access property">.filter</span><span class="token punctuation">(</span>u <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> u<span class="token field-access property">.active</span><span class="token punctuation">)</span>;
<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@active</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@getActive</span><span class="token punctuation">(</span><span class="token variable variable">@response</span><span class="token field-access property">.data</span><span class="token punctuation">)</span>
</code></pre>
<h3 id="accessor-reference" tabindex="-1">Accessor Reference</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Files
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>settings<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>
<span class="token variable variable">@config</span><span class="token field-access property">.json</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Parsed JSON object
<span class="token variable variable">@config</span><span class="token field-access property">.data</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.json</span>
<span class="token variable variable">@config</span><span class="token field-access property">.content</span>           <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Raw string
<span class="token variable variable">@config</span><span class="token field-access property">.text</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.content</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Variables
/<span class="token directive keyword">var</span> <span class="token variable variable">@str</span> <span class="token assignment-operator operator">=</span> <span class="token string-literal">'{"status": "ok"}'</span>
<span class="token variable variable">@str</span><span class="token field-access property">.data</span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Parsed JSON object
<span class="token variable variable">@str</span><span class="token field-access property">.json</span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.data</span>
<span class="token variable variable">@str</span><span class="token field-access property">.text</span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Original string
<span class="token variable variable">@str</span><span class="token field-access property">.content</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.text</span>
<span class="token variable variable">@str</span>                      <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Original string <span class="token punctuation">(</span>default<span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Command <span class="token directive keyword">output</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@result</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span>curl api<span class="token field-access property">.com</span>/data<span class="token punctuation">}</span>
<span class="token variable variable">@result</span><span class="token field-access property">.data</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Parse <span class="token operator">as</span> JSON
<span class="token variable variable">@result</span><span class="token field-access property">.json</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.data</span>
<span class="token variable variable">@result</span><span class="token field-access property">.text</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Keep <span class="token operator">as</span> string
<span class="token variable variable">@result</span><span class="token field-access property">.content</span>           <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Alias <span class="token directive keyword">for</span> <span class="token field-access property">.text</span>
</code></pre>
<h2 id="built-in-methods" tabindex="-1">Built-in Methods</h2>
<p>Variables support built-in methods for common operations:</p>
<h3 id="array-methods" tabindex="-1">Array Methods</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@fruits</span> <span class="token assignment-operator operator">=</span> <span class="token path"><span class="token punctuation">[</span>"apple", "banana", "cherry"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@numbers</span> <span class="token assignment-operator operator">=</span> <span class="token path"><span class="token punctuation">[</span>1, 2, 3, 4, 5<span class="token punctuation">]</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Check if array contains value
/<span class="token directive keyword">show</span> <span class="token variable variable">@fruits</span><span class="token field-access property">.includes</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>banana<span class="token punctuation">"</span></span><span class="token punctuation">)</span>         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token boolean">true</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@fruits</span><span class="token field-access property">.includes</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>orange<span class="token punctuation">"</span></span><span class="token punctuation">)</span>         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token boolean">false</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Find index of value
/<span class="token directive keyword">show</span> <span class="token variable variable">@fruits</span><span class="token field-access property">.indexOf</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>cherry<span class="token punctuation">"</span></span><span class="token punctuation">)</span>          <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token number">2</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@fruits</span><span class="token field-access property">.indexOf</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>missing<span class="token punctuation">"</span></span><span class="token punctuation">)</span>         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> -<span class="token number">1</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Get array length
/<span class="token directive keyword">show</span> <span class="token variable variable">@fruits</span><span class="token field-access property">.length</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                   <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token number">3</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Join array elements
/<span class="token directive keyword">show</span> <span class="token variable variable">@fruits</span><span class="token field-access property">.join</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>, <span class="token punctuation">"</span></span><span class="token punctuation">)</span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>apple, banana, cherry<span class="token punctuation">"</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@numbers</span><span class="token field-access property">.join</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span> | <span class="token punctuation">"</span></span><span class="token punctuation">)</span>               <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>1 | 2 | 3 | 4 | 5<span class="token punctuation">"</span></span>
</code></pre>
<h3 id="string-methods" tabindex="-1">String Methods</h3>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@text</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Hello World<span class="token punctuation">"</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@phrase</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>  JavaScript rocks!  <span class="token punctuation">"</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Check if string contains substring
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.includes</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>World<span class="token punctuation">"</span></span><span class="token punctuation">)</span>            <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token boolean">true</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.includes</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>world<span class="token punctuation">"</span></span><span class="token punctuation">)</span>            <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token boolean">false</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Find substring position
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.indexOf</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>W<span class="token punctuation">"</span></span><span class="token punctuation">)</span>                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token number">6</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.indexOf</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>xyz<span class="token punctuation">"</span></span><span class="token punctuation">)</span>               <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> -<span class="token number">1</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Get string length
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.length</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token number">11</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Change case
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>hello world<span class="token punctuation">"</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>HELLO WORLD<span class="token punctuation">"</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Trim whitespace
/<span class="token directive keyword">show</span> <span class="token variable variable">@phrase</span><span class="token field-access property">.trim</span><span class="token punctuation">(</span><span class="token punctuation">)</span>                     <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token string-interpolated"><span class="token punctuation">"</span>JavaScript rocks!<span class="token punctuation">"</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Check start/end
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.startsWith</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>Hello<span class="token punctuation">"</span></span><span class="token punctuation">)</span>          <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token boolean">true</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.endsWith</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>World<span class="token punctuation">"</span></span><span class="token punctuation">)</span>            <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token boolean">true</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Split into array
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.split</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span> <span class="token punctuation">"</span></span><span class="token punctuation">)</span>                   <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"Hello", "World"<span class="token punctuation">]</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@text</span><span class="token field-access property">.split</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span><span class="token punctuation">"</span></span><span class="token punctuation">)</span>                    <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token path"><span class="token punctuation">[</span>"H", "e", "l", "l", "o", " ", "W", "o", "r", "l", "d"<span class="token punctuation">]</span></span>
</code></pre>
<h2 id="data-transformations" tabindex="-1">Data Transformations</h2>
<h3 id="pipeline-transformations" tabindex="-1">Pipeline Transformations</h3>
<p>Transform data using the pipeline operator <code>|</code>:</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load and transform files
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>config<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@json</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@uppercase</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>readme<span class="token field-access property">.txt</span><span class="token comparison-operator operator">></span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@upper</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Chain transformations
/<span class="token directive keyword">exe</span> <span class="token variable variable">@first</span><span class="token punctuation">(</span>text<span class="token punctuation">,</span> n<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span> 
  return text<span class="token field-access property">.split</span><span class="token punctuation">(</span><span class="token string-literal">'\n'</span><span class="token punctuation">)</span><span class="token field-access property">.slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> n<span class="token punctuation">)</span><span class="token field-access property">.join</span><span class="token punctuation">(</span><span class="token string-literal">'\n'</span><span class="token punctuation">)</span>;
<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@summary</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>docs<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@first</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@upper</span>
</code></pre>
<h3 id="built-in-transformers" tabindex="-1">Built-in Transformers</h3>
<p>mlld provides built-in transformers (both uppercase and lowercase work):</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Format JSON <span class="token operator">with</span> indentation
/<span class="token directive keyword">var</span> <span class="token variable variable">@data</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>file<span class="token field-access property">.csv</span><span class="token comparison-operator operator">></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@tojson</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@data</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@json</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@tojson</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Convert <span class="token operator">to</span> XML <span class="token punctuation">(</span>SCREAMING_SNAKE_CASE<span class="token punctuation">)</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@toxml</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@data</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@XML</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@toxml</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Convert arrays <span class="token operator">to</span> CSV
/<span class="token directive keyword">var</span> <span class="token variable variable">@users</span> <span class="token assignment-operator operator">=</span> <span class="token path"><span class="token punctuation">[</span>{"name": "Alice", "age": 30}, {"name": "Bob", "age": 25}<span class="token punctuation">]</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@tocsv</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@users</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@CSV</span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@tocsv</span>

<span class="token backtick-template"><span class="token punctuation">`</span><span class="token variable">@json</span><span class="token punctuation">`</span></span> accepts loose JSON syntax <span class="token punctuation">(</span>single quotes<span class="token punctuation">,</span> trailing commas<span class="token punctuation">,</span> comments<span class="token punctuation">)</span>. Use <span class="token backtick-template"><span class="token punctuation">`</span><span class="token variable">@json</span>.loose<span class="token punctuation">`</span></span> <span class="token directive keyword">when</span> you want <span class="token operator">to</span> be explicit<span class="token punctuation">,</span> or <span class="token backtick-template"><span class="token punctuation">`</span><span class="token variable">@json</span>.strict<span class="token punctuation">`</span></span> <span class="token operator">to</span> require standard JSON and surface a clear error if the input is relaxed<span class="token ternary-operator operator">:</span>

<span class="token backtick-template"><span class="token punctuation">`</span><span class="token punctuation">`</span></span>`mlld
/<span class="token directive keyword">var</span> <span class="token variable variable">@loose</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>{'name': 'Ada', /* comment */ age: 32,}<span class="token punctuation">"</span></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@parsedLoose</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@loose</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@json</span>              <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Uses relaxed parsing
/<span class="token directive keyword">var</span> <span class="token variable variable">@parsedStrict</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@loose</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@json</span><span class="token field-access property">.strict</span>      <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Fails <span class="token operator">with</span> hint <span class="token operator">to</span> use <span class="token variable variable">@json</span><span class="token field-access property">.loose</span>
</code></pre>
<pre><code>
## Templates and Interpolation

### Template Syntax and Interpolation

**Default to `::...::` for inline templates, `.att` files for external templates (5+ lines).** Switch to `:::...:::` or `.mtt` ONLY for Discord `&lt;@userid&gt;` mentions or heavy social media `@handle` usage.

#### Quick Reference

| Syntax | Interpolation | Pipes | Loops | Use For |
|--------|---------------|-------|-------|---------|
| `::...::` | `@var` `&lt;file&gt;` `@exe()` | ✓ | ✓ | **Default inline** |
| `.att` | `@var` `&lt;file&gt;` `@exe()` | ✓ | ✓ | **Default external (5+ lines)** |
| `` `...` `` | `@var` `&lt;file&gt;` `@exe()` | ✓ | ✓ | Same as `::...::` (preference) |
| `&quot;...&quot;` | `@var` `&lt;file&gt;` `@exe()` | ✓ | ✗ | Single-line only |
| `:::...:::` | `{{var}}` only | ✗ | ✗ | Discord/social escape hatch |
| `.mtt` | `{{var}}` only | ✗ | ✗ | Discord/social external |
| `'...'` | None (literal) | ✗ | ✗ | Literal text |
| `{...}` | `@var` `&lt;file&gt;` | ✗ | ✗ | Commands/code |

#### Inline Templates

```mlld
&gt;&gt; Double-colon (default)
/var @msg = ::Hello @name!::
/var @doc = ::Use `npm test` before @env::
/var @report = ::
Status: @status
Config: &lt;@base/config.json&gt;
Data: @data|@json
::

&gt;&gt; Backticks (alternative)
/var @msg = `Hello @name!`
/var @multi = `
Line 1: @var
Line 2: @other
`

&gt;&gt; Double quotes (single-line only)
/var @path = &quot;@base/files/@filename&quot;
/run {echo &quot;Processing @file&quot;}

&gt;&gt; Triple-colon (Discord/social only)
/var @alert = :::Alert &lt;@{{adminId}}&gt;! Issue from &lt;@{{userId}}&gt;:::
/var @tweet = :::Hey @{{user}}, check this! cc: @{{team1}} @{{team2}}:::

&gt;&gt; Single quotes (literal)
/var @literal = '@name stays literal'
</code></pre>
<h4 id="external-templates-(.att%2C-.mtt)" tabindex="-1">External Templates (.att, .mtt)</h4>
<p>Keep reusable templates in standalone files and execute them as functions:</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token field-access property">.att</span> files <span class="token punctuation">(</span>default <span class="token directive keyword">for</span> <span class="token number">5</span>+ lines<span class="token punctuation">)</span>
<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> file<span class="token ternary-operator operator">:</span> templates/deploy<span class="token field-access property">.att</span>
# Deployment<span class="token ternary-operator operator">:</span> <span class="token variable variable">@env</span>
Status<span class="token ternary-operator operator">:</span> <span class="token variable variable">@status</span>
Config<span class="token ternary-operator operator">:</span> <span class="token comparison-operator operator">&lt;</span><span class="token variable variable">@base</span>/config/<span class="token variable variable">@env</span><span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> usage
/<span class="token directive keyword">exe</span> <span class="token variable variable">@deploy</span><span class="token punctuation">(</span>env<span class="token punctuation">,</span> status<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> template <span class="token string-interpolated"><span class="token punctuation">"</span>./templates/deploy.att<span class="token punctuation">"</span></span>
/<span class="token directive keyword">show</span> <span class="token variable variable">@deploy</span><span class="token punctuation">(</span><span class="token string-interpolated"><span class="token punctuation">"</span>prod<span class="token punctuation">"</span></span><span class="token punctuation">,</span> <span class="token string-interpolated"><span class="token punctuation">"</span>success<span class="token punctuation">"</span></span><span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token field-access property">.mtt</span> files <span class="token punctuation">(</span>Discord/social only<span class="token punctuation">)</span>
<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> file<span class="token ternary-operator operator">:</span> templates/discord<span class="token field-access property">.mtt</span>
🚨 Alert <span class="token comparison-operator operator">&lt;</span>@<span class="token punctuation">{</span><span class="token punctuation">{</span>adminId<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comparison-operator operator">></span><span class="token logical-operator operator">!</span>
Reporter<span class="token ternary-operator operator">:</span> <span class="token comparison-operator operator">&lt;</span>@<span class="token punctuation">{</span><span class="token punctuation">{</span>reporterId<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token comparison-operator operator">></span>
Severity<span class="token ternary-operator operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>severity<span class="token punctuation">}</span><span class="token punctuation">}</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> usage
/<span class="token directive keyword">exe</span> <span class="token variable variable">@alert</span><span class="token punctuation">(</span>adminId<span class="token punctuation">,</span> reporterId<span class="token punctuation">,</span> severity<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> template <span class="token string-interpolated"><span class="token punctuation">"</span>./templates/discord.mtt<span class="token punctuation">"</span></span>
</code></pre>
<p><strong>Rules:</strong></p>
<ul>
<li><code>.att</code> uses <code>@var</code> and supports <code>&lt;file.md&gt;</code> references, pipes, and loops inside the template</li>
<li><code>.mtt</code> uses <code>{{var}}</code> (simple mustache-style) - use ONLY for Discord/social scenarios</li>
<li>These files are not imported as modules. Use the <code>/exe ... = template &quot;path&quot;</code> form</li>
</ul>
<h4 id="template-loops" tabindex="-1">Template Loops</h4>
<p>Loops with <code>/for</code> and <code>/end</code> are supported in <code>::...::</code>, backticks, and <code>.att</code> files only:</p>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">var</span> <span class="token variable variable">@list</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>
/<span class="token directive keyword">for</span> <span class="token variable variable">@item</span> in <span class="token variable variable">@items</span>
- <span class="token variable variable">@item</span><span class="token field-access property">.name</span><span class="token ternary-operator operator">:</span> <span class="token variable variable">@item</span><span class="token field-access property">.value</span>
/end
<span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Requirements<span class="token ternary-operator operator">:</span> /<span class="token directive keyword">for</span> and /end at line start
<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> NOT supported in <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>...<span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token punctuation">,</span> <span class="token field-access property">.mtt</span><span class="token punctuation">,</span> or <span class="token string-interpolated"><span class="token punctuation">"</span>...<span class="token punctuation">"</span></span>
</code></pre>
<h4 id="trade-offs-when-using-discord%2Fsocial-escape-hatch" tabindex="-1">Trade-offs When Using Discord/Social Escape Hatch</h4>
<table>
<thead>
<tr>
<th>Feature</th>
<th><code>::...::</code> / <code>.att</code></th>
<th><code>:::...:::</code> / <code>.mtt</code></th>
</tr>
</thead>
<tbody>
<tr>
<td><code>@var</code> interpolation</td>
<td>✓</td>
<td>✗ Use <code>{{var}}</code></td>
</tr>
<tr>
<td><code>&lt;file.md&gt;</code> loading</td>
<td>✓</td>
<td>✗</td>
</tr>
<tr>
<td><code>@exe()</code> calls</td>
<td>✓</td>
<td>✗</td>
</tr>
<tr>
<td>Pipes <code>|</code></td>
<td>✓</td>
<td>✗</td>
</tr>
<tr>
<td>Loops</td>
<td>✓</td>
<td>✗</td>
</tr>
<tr>
<td>Discord <code>&lt;@id&gt;</code></td>
<td>Escape <code>\&lt;@id\&gt;</code></td>
<td>✓ Natural</td>
</tr>
<tr>
<td>Many <code>@handles</code></td>
<td>Works</td>
<td>✓ Cleaner</td>
</tr>
</tbody>
</table>
<h4 id="common-mistakes" tabindex="-1">Common Mistakes</h4>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✗ Using <span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span> in <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>...<span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@msg</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>Hello <span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>        <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span> is literal
/<span class="token directive keyword">var</span> <span class="token variable variable">@msg</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>Hello <span class="token variable variable">@name</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>           <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✓

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✗ Using @<span class="token directive keyword">var</span> in <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>...<span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@msg</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>Hello <span class="token variable variable">@name</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>         <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> <span class="token variable variable">@name</span> is literal
/<span class="token directive keyword">var</span> <span class="token variable variable">@msg</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>Hello <span class="token punctuation">{</span><span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>      <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✓

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✗ Using <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span> without Discord/social need
/<span class="token directive keyword">var</span> <span class="token variable variable">@msg</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>Status<span class="token ternary-operator operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">{</span>status<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>  <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Loses all features
/<span class="token directive keyword">var</span> <span class="token variable variable">@msg</span> <span class="token assignment-operator operator">=</span> <span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>Status<span class="token ternary-operator operator">:</span> <span class="token variable variable">@status</span><span class="token ternary-operator operator">:</span><span class="token ternary-operator operator">:</span>       <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✓ Full features

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✗ Importing template files
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> <span class="token variable variable">@tpl</span> <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token string-interpolated"><span class="token punctuation">"</span>./file.att<span class="token punctuation">"</span></span>    <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Error
/<span class="token directive keyword">exe</span> <span class="token variable variable">@tpl</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> template <span class="token string-interpolated"><span class="token punctuation">"</span>./file.att<span class="token punctuation">"</span></span>  <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> ✓
</code></pre>
<h4 id="interpolation-contexts" tabindex="-1">Interpolation Contexts</h4>
<p>Variable interpolation works in specific contexts:</p>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> In directives
/<span class="token directive keyword">show</span> <span class="token variable variable">@name</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> In double quotes
/<span class="token directive keyword">var</span> <span class="token variable variable">@greeting</span> <span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>Hello <span class="token variable">@name</span><span class="token punctuation">"</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> In command braces
/<span class="token directive keyword">run</span> <span class="token punctuation">{</span>echo <span class="token string-interpolated"><span class="token punctuation">"</span>Welcome <span class="token variable">@name</span><span class="token punctuation">"</span></span><span class="token punctuation">}</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> NOT in single quotes <span class="token punctuation">(</span>literal<span class="token punctuation">)</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@literal</span> <span class="token assignment-operator operator">=</span> <span class="token string-literal">'Hello @name'</span>               <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Outputs<span class="token ternary-operator operator">:</span> Hello <span class="token variable variable">@name</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> NOT in plain markdown lines
Hello <span class="token variable variable">@name</span>                                 <span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Plain text<span class="token punctuation">,</span> no interpolation
</code></pre>
<h2 id="environment-variables-and-input" tabindex="-1">Environment Variables and Input</h2>
<h3 id="environment-variable-access" tabindex="-1">Environment Variable Access</h3>
<p>Access environment variables through <code>@input</code> imports:</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># Shell</span>
<span class="token assign-left variable">API_KEY</span><span class="token operator">=</span>secret123 <span class="token assign-left variable">NODE_ENV</span><span class="token operator">=</span>production mlld deploy.mld
</code></pre>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Import specific variables
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> API_KEY<span class="token punctuation">,</span> NODE_ENV <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
/<span class="token directive keyword">show</span> <span class="token backtick-template"><span class="token punctuation">`</span>Deploying to <span class="token variable">@NODE_ENV</span> with key <span class="token variable">@API_KEY</span><span class="token punctuation">`</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Import and use in objects
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> <span class="token punctuation">{</span>
  <span class="token string-interpolated"><span class="token punctuation">"</span>apiKey<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token variable variable">@API_KEY</span><span class="token punctuation">,</span>
  <span class="token string-interpolated"><span class="token punctuation">"</span>environment<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token variable variable">@NODE_ENV</span><span class="token punctuation">,</span>
  <span class="token string-interpolated"><span class="token punctuation">"</span>timestamp<span class="token punctuation">"</span></span><span class="token ternary-operator operator">:</span> <span class="token reserved-variable builtin">@now</span>
<span class="token punctuation">}</span>
</code></pre>
<h3 id="stdin-input" tabindex="-1">Stdin Input</h3>
<p>Pipe data to mlld via stdin:</p>
<pre class="language-bash"><code class="language-bash"><span class="token comment"># JSON input</span>
<span class="token builtin class-name">echo</span> <span class="token string">'{"version": "1.0.0", "author": "Alice"}'</span> <span class="token operator">|</span> mlld release.mld

<span class="token comment"># Text input  </span>
<span class="token builtin class-name">echo</span> <span class="token string">"Hello World"</span> <span class="token operator">|</span> mlld process.mld
</code></pre>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Access piped JSON data
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> version<span class="token punctuation">,</span> author <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
/<span class="token directive keyword">show</span> <span class="token backtick-template"><span class="token punctuation">`</span>Release <span class="token variable">@version</span> by <span class="token variable">@author</span><span class="token punctuation">`</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Access piped text <span class="token punctuation">(</span>becomes <span class="token string-literal">'content'</span> field<span class="token punctuation">)</span>
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> content <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
/<span class="token directive keyword">show</span> <span class="token backtick-template"><span class="token punctuation">`</span>Received: <span class="token variable">@content</span><span class="token punctuation">`</span></span>
</code></pre>
<h3 id="combined-input" tabindex="-1">Combined Input</h3>
<p>Environment variables and stdin are merged:</p>
<pre class="language-bash"><code class="language-bash"><span class="token builtin class-name">echo</span> <span class="token string">'{"config": "production"}'</span> <span class="token operator">|</span> <span class="token assign-left variable">API_KEY</span><span class="token operator">=</span>secret mlld deploy.mld
</code></pre>
<pre class="language-mlld"><code class="language-mlld">/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> API_KEY<span class="token punctuation">,</span> config <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
/<span class="token directive keyword">show</span> <span class="token backtick-template"><span class="token punctuation">`</span>Deploying <span class="token variable">@config</span> with key <span class="token variable">@API_KEY</span><span class="token punctuation">`</span></span>
</code></pre>
<h2 id="practical-examples" tabindex="-1">Practical Examples</h2>
<h3 id="documentation-builder" tabindex="-1">Documentation Builder</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Collect all module documentation
/<span class="token directive keyword">var</span> <span class="token variable variable">@modules</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>modules/**/*<span class="token field-access property">.md</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Build README <span class="token operator">with</span> metadata
/<span class="token directive keyword">var</span> <span class="token variable variable">@readme</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span># Project Modules

Total modules: <span class="token variable">@modules</span>.length
Last updated: <span class="token reserved-variable builtin">@now</span>

<span class="token variable">@modules</span>

<span class="token punctuation">`</span></span>

/<span class="token directive keyword">output</span> <span class="token variable variable">@readme</span> <span class="token operator">to</span> <span class="token string-interpolated"><span class="token punctuation">"</span>README.md<span class="token punctuation">"</span></span>
</code></pre>
<h3 id="token-aware-processing" tabindex="-1">Token-Aware Processing</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load files and check context limits
/<span class="token directive keyword">var</span> <span class="token variable variable">@files</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>src/**/*<span class="token field-access property">.ts</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Define filter <span class="token directive keyword">for</span> large files <span class="token punctuation">(</span>over <span class="token number">2000</span> tokens<span class="token punctuation">)</span>
/<span class="token directive keyword">exe</span> <span class="token variable variable">@filterLarge</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return files<span class="token field-access property">.filter</span><span class="token punctuation">(</span>f <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> f<span class="token field-access property">.tokest</span> <span class="token comparison-operator operator">></span> <span class="token number">2000</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@large</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@filterLarge</span><span class="token punctuation">(</span><span class="token variable variable">@files</span><span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Calculate total tokens
/<span class="token directive keyword">exe</span> <span class="token variable variable">@sumTokens</span><span class="token punctuation">(</span>files<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return files<span class="token field-access property">.reduce</span><span class="token punctuation">(</span><span class="token punctuation">(</span>sum<span class="token punctuation">,</span> f<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> sum + <span class="token punctuation">(</span>f<span class="token field-access property">.tokest</span> <span class="token logical-operator operator">||</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@totalTokens</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@sumTokens</span><span class="token punctuation">(</span><span class="token variable variable">@files</span><span class="token punctuation">)</span>

/<span class="token directive keyword">show</span> <span class="token backtick-template"><span class="token punctuation">`</span>Found <span class="token variable">@large</span>.length files over 2000 tokens<span class="token punctuation">`</span></span>
/<span class="token directive keyword">show</span> <span class="token backtick-template"><span class="token punctuation">`</span>Total estimated tokens: <span class="token variable">@totalTokens</span><span class="token punctuation">`</span></span>
</code></pre>
<h3 id="data-pipeline" tabindex="-1">Data Pipeline</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Process API data
/<span class="token directive keyword">var</span> <span class="token variable variable">@users</span> <span class="token assignment-operator operator">=</span> <span class="token directive keyword">run</span> <span class="token punctuation">{</span>curl -s api<span class="token field-access property">.example</span><span class="token field-access property">.com</span>/users<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@parsed</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@users</span> <span class="token pipe-operator operator">|</span> <span class="token variable variable">@json</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Define filter function <span class="token directive keyword">for</span> active users
/<span class="token directive keyword">exe</span> <span class="token variable variable">@filterActive</span><span class="token punctuation">(</span>users<span class="token punctuation">)</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return users<span class="token field-access property">.filter</span><span class="token punctuation">(</span>u <span class="token assignment-operator operator">=</span><span class="token comparison-operator operator">></span> u<span class="token field-access property">.status</span> <span class="token comparison-operator operator">==</span><span class="token assignment-operator operator">=</span> <span class="token string-interpolated"><span class="token punctuation">"</span>active<span class="token punctuation">"</span></span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@active</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@filterActive</span><span class="token punctuation">(</span><span class="token variable variable">@parsed</span><span class="token punctuation">)</span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Generate report
/<span class="token directive keyword">var</span> <span class="token variable variable">@report</span> <span class="token assignment-operator operator">=</span> <span class="token backtick-template"><span class="token punctuation">`</span># User Report

Active users: <span class="token variable">@active</span>.length
Generated: <span class="token reserved-variable builtin">@now</span>

## Users
<span class="token variable">@active</span>

<span class="token punctuation">`</span></span>

/<span class="token directive keyword">output</span> <span class="token variable variable">@report</span> <span class="token operator">to</span> <span class="token string-interpolated"><span class="token punctuation">"</span>user-report.md<span class="token punctuation">"</span></span>
</code></pre>
<h3 id="configuration-management" tabindex="-1">Configuration Management</h3>
<pre class="language-mlld"><code class="language-mlld"><span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load environment-specific config
/<span class="token directive keyword">import</span> <span class="token punctuation">{</span> NODE_ENV <span class="token punctuation">}</span> <span class="token operator">from</span> <span class="token reserved-variable builtin">@input</span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@env</span> <span class="token assignment-operator operator">=</span> <span class="token variable variable">@NODE_ENV</span> <span class="token logical-operator operator">||</span> <span class="token string-interpolated"><span class="token punctuation">"</span>development<span class="token punctuation">"</span></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Load base config and environment overrides
/<span class="token directive keyword">var</span> <span class="token variable variable">@baseConfig</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>config/base<span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>
/<span class="token directive keyword">var</span> <span class="token variable variable">@envConfig</span> <span class="token assignment-operator operator">=</span> <span class="token comparison-operator operator">&lt;</span>config/<span class="token variable variable">@env</span><span class="token field-access property">.json</span><span class="token comparison-operator operator">></span>

<span class="token comparison-operator operator">></span><span class="token comparison-operator operator">></span> Merge configurations using JS
/<span class="token directive keyword">var</span> <span class="token variable variable">@config</span> <span class="token assignment-operator operator">=</span> js <span class="token punctuation">{</span>
  return Object<span class="token field-access property">.assign</span><span class="token punctuation">(</span>
    <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token variable variable">@baseConfig</span><span class="token field-access property">.json</span><span class="token punctuation">,</span>
    <span class="token variable variable">@envConfig</span><span class="token field-access property">.json</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      environment<span class="token ternary-operator operator">:</span> <span class="token variable variable">@env</span><span class="token punctuation">,</span>
      timestamp<span class="token ternary-operator operator">:</span> <span class="token reserved-variable builtin">@now</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">}</span>

/<span class="token directive keyword">output</span> <span class="token variable variable">@config</span> <span class="token operator">to</span> <span class="token string-interpolated"><span class="token punctuation">"</span>runtime-config.json<span class="token punctuation">"</span></span> <span class="token operator">as</span> json
</code></pre>
<h2 id="best-practices" tabindex="-1">Best Practices</h2>
<p><strong>File Loading:</strong></p>
<ul>
<li>Use globs for multiple files: <code>&lt;docs/*.md&gt;</code></li>
<li>Check existence: <code>/when @config =&gt; show &quot;Found config&quot;</code></li>
<li>Access metadata for token counting: <code>@file.tokest</code></li>
</ul>
<p><strong>Data Access:</strong></p>
<ul>
<li>Prefer dot notation: <code>@user.name</code> over complex expressions</li>
<li>Use slicing for arrays: <code>@items[0:5]</code> for first 5 elements</li>
<li>Check array contents: <code>@list.includes(&quot;item&quot;)</code></li>
</ul>
<p><strong>Templates:</strong></p>
<ul>
<li>Default to <code>::...::</code> for inline (&lt; 5 lines), <code>.att</code> files for external (5+ lines)</li>
<li>Switch to <code>:::...:::</code> or <code>.mtt</code> ONLY for Discord mentions or heavy social <code>@handle</code> usage</li>
<li>Loops (<code>/for</code>...<code>/end</code>) work in <code>::...::</code>, backticks, and <code>.att</code> only</li>
<li>Never import template files; use <code>/exe @name(...) = template &quot;path.att&quot;</code> form</li>
</ul>
<p><strong>Environment Variables:</strong></p>
<ul>
<li>Import explicitly: <code>/import { API_KEY } from @input</code></li>
<li>Provide defaults: <code>@NODE_ENV || &quot;development&quot;</code></li>
<li>Document required variables in comments</li>
</ul>

  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', function() {
    const toggleButton = document.querySelector('.docs-sidebar-toggle');
    const sidebar = document.getElementById('docs-sidebar');
    const overlay = document.getElementById('docs-overlay');
    
    // Function to toggle the sidebar
    function toggleSidebar() {
      const isExpanded = toggleButton.getAttribute('aria-expanded') === 'true';
      toggleButton.setAttribute('aria-expanded', !isExpanded);
      sidebar.classList.toggle('open');
      
      // Toggle overlay
      overlay.classList.toggle('active');
      
      // Lock/unlock body scroll when sidebar is open on mobile
      if (window.innerWidth <= 950) {
        document.body.classList.toggle('sidebar-open', !isExpanded);
      }
    }
    
    // Add click event for toggle button
    toggleButton.addEventListener('click', toggleSidebar);
    
    // Add click event for overlay to close sidebar
    overlay.addEventListener('click', function() {
      if (sidebar.classList.contains('open')) {
        toggleSidebar();
      }
    });
    
    // Close sidebar when clicking on a link (mobile only)
    sidebar.querySelectorAll('a').forEach(link => {
      link.addEventListener('click', function() {
        if (window.innerWidth <= 950 && sidebar.classList.contains('open')) {
          toggleSidebar();
        }
      });
    });
    
    // Close sidebar when clicking outside of it (mobile only) - now handled by overlay
    document.addEventListener('click', function(event) {
      if (window.innerWidth <= 950 && 
          sidebar.classList.contains('open') && 
          !sidebar.contains(event.target) && 
          !toggleButton.contains(event.target) &&
          !overlay.contains(event.target)) {
        toggleSidebar();
      }
    });
  });
</script>

    </div>
  </main>

  <footer>
    <div class="container">
      <p>&copy; 2025 mlld - <a href="https://github.com/mlld-lang/mlld">GitHub</a></p>
    </div>
  </footer>
</body>
</html>