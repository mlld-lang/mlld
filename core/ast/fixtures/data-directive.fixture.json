{
  "name": "data-directive",
  "input": "@data result = @run echo \"Command output\"\n@add @result",
  "expected": "Command output",
  "directives": [
    "@data result = @run echo \"Command output\"",
    "@add @result"
  ],
  "ast": [
    {
      "type": "Directive",
      "nodeId": "c4ce3e29-b7f3-486c-aab8-9295b5f9d2e0",
      "location": {
        "start": {
          "offset": 0,
          "line": 1,
          "column": 1
        },
        "end": {
          "offset": 24,
          "line": 1,
          "column": 25
        }
      },
      "kind": "data",
      "subtype": "dataAssignment",
      "source": "runCommand",
      "values": {
        "identifier": [
          {
            "type": "VariableReference",
            "nodeId": "c767f289-31ca-4ef1-a6c6-95e391525ab5",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "identifier",
            "isVariableReference": true,
            "identifier": "result"
          }
        ],
        "value": {
          "type": "Directive",
          "nodeId": "bf4c4004-d3f7-4e21-ae43-4424d804a00e",
          "location": {
            "start": {
              "offset": 15,
              "line": 1,
              "column": 16
            },
            "end": {
              "offset": 24,
              "line": 1,
              "column": 25
            }
          },
          "kind": "run",
          "subtype": "runCommand",
          "source": null,
          "values": {
            "command": [
              {
                "type": "Text",
                "nodeId": "7215bc5f-a680-45e9-90c7-0db5859e10c4",
                "location": {
                  "start": {
                    "offset": 20,
                    "line": 1,
                    "column": 21
                  },
                  "end": {
                    "offset": 24,
                    "line": 1,
                    "column": 25
                  }
                },
                "content": "echo"
              }
            ]
          },
          "raw": {
            "command": "echo"
          },
          "meta": {
            "hasVariables": false,
            "isDataValue": true,
            "isMultiLine": false
          }
        }
      },
      "raw": {
        "identifier": "result",
        "value": "@run echo"
      },
      "meta": {
        "nestedDirective": {
          "kind": "run"
        }
      }
    },
    {
      "type": "Text",
      "nodeId": "58a8322d-06fa-428c-9d56-7abe1e23d22e",
      "location": {
        "start": {
          "offset": 24,
          "line": 1,
          "column": 25
        },
        "end": {
          "offset": 42,
          "line": 2,
          "column": 1
        }
      },
      "content": " \"Command output\"\n"
    },
    {
      "type": "Directive",
      "nodeId": "18f3da67-6d4d-44a1-9350-1d165decbb6b",
      "location": {
        "start": {
          "offset": 42,
          "line": 2,
          "column": 1
        },
        "end": {
          "offset": 54,
          "line": 2,
          "column": 13
        }
      },
      "kind": "add",
      "subtype": "addVariable",
      "source": "variable",
      "values": {
        "variable": [
          {
            "type": "VariableReference",
            "nodeId": "1fc3c506-04c3-44f3-827b-4575cf793a7c",
            "location": {
              "start": {
                "offset": 0,
                "line": 1,
                "column": 1
              },
              "end": {
                "offset": 0,
                "line": 1,
                "column": 1
              }
            },
            "valueType": "varIdentifier",
            "isVariableReference": true,
            "identifier": "result"
          }
        ]
      },
      "raw": {
        "variable": "@result"
      },
      "meta": {}
    }
  ],
  "metadata": {
    "kind": "data",
    "subtype": "directive"
  }
}